Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Fix Version/s,Fix Version/s,Due date,Votes,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Outward issue link (Blocks),Outward issue link (Duplicate),Outward issue link (Fix),Outward issue link (Problem/Incident),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Business Analyst),Custom field (Developer),Custom field (Development),Custom field (Due Date),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue URL),Custom field (External issue URL),Custom field (External issue URL),Custom field (Hosting Environment),Custom field (Installation Date),Custom field (List of Trainees),Custom field (Peer Reviewer),Custom field (Policy Stat URL),Custom field (Process Status),Custom field (Product),Custom field (Product Owner),Custom field (QA Analyst),Custom field (Rank),Custom field (Request Type),Custom field (Request participants),Custom field (Start date),Custom field (Steps to Reproduce:),Custom field (Story Points),Custom field (Tech/Engineering),Custom field (Tracking Number),Custom field (YX Connect Site(s)),Custom field ([CHART] Date of First Response),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
Add an Admin Search Feature in AAD Tool to search existing constructs,QO-57,29376,,Story,Estimation,QO,Quick Order,software,jmedlock,,,3 Standard,,jcox,ssandor,ssandor,06/Jul/18 3:18 PM,06/Jul/18 3:19 PM,27/Aug/18 11:00 AM,,,Automated Assay Design - Phase 1,,,0,,,,,"Assay Designers need the ability to search the construct database since it will no longer function in OM
They need the same ability to search as in OM currently (see snapshot or view here: 
http://ordermanager.transnetyx.com/AssayDesign/Constructs.aspx

",,,,;06/Jul/18 3:19 PM;ssandor;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,06/Jul/18 3:18 PM;ssandor;search_constructs.PNG;https://transnetyx.atlassian.net/secure/attachment/27089/search_constructs.PNG,,,,,,,,,,,,,,,,,jcox,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00yk7:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Independence Day 2018 Holiday Schedule Banner,QO-55,29365,,Story,Production,QO,Quick Order,software,jmedlock,,,3 Standard,Done,,jcox,jcox,29/Jun/18 3:07 PM,03/Jul/18 10:14 AM,27/Aug/18 11:00 AM,02/Jul/18 10:46 AM,,Quick Order Legacy,,,0,,,,,"We need to add a holiday schedule announcement banner to the QuickOrder login page just like we've done in the past for next Wednesday, July 4th.  We would like this to go live no later than end of day July 2nd and taken back down on July 5th.  The text of the banner needs to be:

*Holiday Announcement: *
Transnetyx customer service will not be available on Wednesday, July 4th, in celebration of our Independence Day. If you have any questions, please email customerservice@transnetyx.com
",,,,;02/Jul/18 10:46 AM;jadhikari;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,{},,,,,,,,,,,,,,None,,,jadhikari,,,Unassigned,,bwinter,0|i00yi7:,,,,,,New Product/Feature,,YX Connect,2018-07-02 15:46:15.254,"02/Jul/18 10:46 AM;jadhikari;[~jknight], [~jcox] : The banner is updated into QuickOrder production page. Please verify.","02/Jul/18 10:47 AM;jcox;[~jadhikari], [~jknight] - Looks great- thank you!!",03/Jul/18 10:14 AM;jknight;Thank you guys for getting this live so quickly!,,,,,,,,,,,,,,,,,,,,,,,
Synchronize OM to AAD so probes get added to constructs ,QO-54,29364,,Story,Estimation,QO,Quick Order,software,jmedlock,,,3 Standard,,jcox,ssandor,ssandor,29/Jun/18 2:07 PM,07/Aug/18 10:54 AM,27/Aug/18 11:00 AM,,,Automated Assay Design - Phase 1,,,0,,,,,"Via Chris Scallion: maybe add another scheduled job that syncs to OM and checks every 5 minutes.

Regardless of the technical requirements, an Assay Designer needs the ability to link an AIM in OM back to an incomplete construct that was made in the AAD Tool. Once the AIM is Design Completed (new probes custom designed and added) then these probes will be added to the incomplete construct (in the AAD Tool) and the construct be completed.",,,,;06/Jul/18 3:15 PM;ssandor;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,ssandor,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00yhz:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Customer Service Contact Email Address,QO-53,29308,,Story,Peer Review,QO,Quick Order,software,jmedlock,,,3 Standard,,jadhikari,jcox,jcox,11/Jun/18 1:47 PM,23/Aug/18 4:20 PM,23/Aug/18 4:20 PM,,,Quick Order Legacy,,,4,,,,,"_As a user, I need to be able to email my technical questions to support for resolution._

+Acceptance Criteria+:
* Customer service email address anywhere it can be found in QuickOrder to be ""geneticservices@transnetyx.com"" *instead of* ""customerservice@transnetyx.com. (see locations below)
* Any text on the sites that reads ""Customer Service"" needs to change to ""Genetic Services""
* -Update any reference to the old address in the web config file so that emails sent out are from the new address- (this will now be handle at the exchange server level, so the coding impact is a minimum and code level values will not need to be changed).

CS has already identified the following locations that need to be updated, though it's possible more exist:
http://quickorder.transnetyx.com/SignIn.aspx?ReturnUrl=%2fDefault.aspx
https://quickorder.transnetyx.com/
https://quickorder.transnetyx.com/Account.aspx
https://quickorder.transnetyx.com/StrainManage.aspx
https://quickorder.transnetyx.com/Probes.aspx
https://quickorder.transnetyx.com/SequencingRequests.aspx
https://quickorder.transnetyx.com/EmailPreferences.aspx
https://quickorder.transnetyx.com/StrainFromSIF.aspx (side panel)
https://quickorder.transnetyx.com/AssayDesignTimeline.aspx
https://quickorder.transnetyx.com/Order1.StrainSelection.aspx
https://quickorder.transnetyx.com/SupplyRequest.aspx
https://quickorder.transnetyx.com/OrderSampleDetails.aspx?SampleId=38869800 (change sample name)
https://quickorder.transnetyx.com/ResultsAvailabilitySchedule.aspx


h1. *Developer Notes*

Here are some places I *DID NOT* change customer service to genetic services, due to the fact that these are special emails that are sent to some of our large customers like Taconic and CNIO or are used as integration points. It is very possible that they may have email rules or programs set up to read these eamils from ""Transnetyx Customer Service"" or ""Customerservice@transnetyx.com"".

Here are the files that I did not change:

 - ordermanager\OrderManagerDB\dbo\Stored Procedures\Custom_CNIO_OrderConfirmationEmail.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\Custom_CNIO_OrderConfirmationEmail_Test.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\NetsuiteInvoiceProblemAccounts.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\ResultFileTransferFailures.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\TaconicStrainsRequiringNewTranslations.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\TaconicWellplatesShipped.sql

it also turns out we have been sending all order confirmation emails for CNIO with the ""From"" address as:
customerservices@transnetyx.com  (Notice this is Pluralized with an 's' at the end of customerservice *+s+* )

h2. *Code level Changes:*

per conversation with [~admin] we are not making coding level changes at this time. The only changes made are customer facing changes and UI level changes and email template changes. The ""customerservice@transnetyx.com"" email is hard code in many places in the ORMA code stack, and it is also tied to a user account which is retrieved from the database via the email and coding operations occur around this account. Because there is such a large impact on the actual code level changes and the ability to test most of these changes would be very hard, we are not making these change at this time. The customer will see ""geneticservices@transnetyx.com"" and anything referring to customer service will only be happening in code out of the customers knowledge. Any emails sent programmatically that have customer service as the sender email will be automatically changed at the exchange server level.


h1. +*Application Files that need to be changed:*+

These are file on the server that have ""customerservice@transnetyx.com"" or ""customer service"" in the file. These are the direct path links to the files. They are all PDF files.

h3. +Media Share\Applications\Transnetyx\Files:+
* How to reference Transnetyx for a Journal Article.pdf

h3. +Media Share\Applications\QuickOrder\Files:+
* InstructionCard-Embryo.pdf
* InstructionCard-LiquidDNA.pdf
* InstructionCard-Sequencing.pdf
* InstructionCard-Tissue.pdf
* interpretResults.pdf
* RawDataInterpretation.pdf
* WebEnabledRawData.pdf



",,choward,katie mcaleavey,;26/Jul/18 11:59 AM;rjonakin;86400,,,,,,,,,0,86400,,,0,86400,,,,,,COMA-2668,,,,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-06T13:31:01.891-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,jadhikari,,,Unassigned,,bwinter,0|i00y5r:,,,,,,New Product/Feature,,YX Connect,2018-07-23 16:32:12.058,"23/Jul/18 11:32 AM;rjonakin;[~jmedlock]
[~jcox]

Refer to the ""Developer Notes"" section I added to the description above. Let me know what you think. I can change them, but I spoke with John about the Taconic specific stuff and he said we should probably leave it unchanged for now, so I figured the other few instances I included above should probably remained unchanged until we investigate further... All other customer facing instances have been changed though.",23/Jul/18 12:01 PM;choward;Makes sense. Thanks for letting us know. Is CNIO taken care of now? [~rjonakin],"31/Jul/18 4:44 PM;rjonakin;[~choward]
Yes the CNIO stuff is good now.","31/Jul/18 4:53 PM;rjonakin;[~jmedlock]
[~jcox]

Check out the last section I added in the description that says:
*Application Files that need to be changed*

It list all the files on the Media Share on the server that have ""customerservice@transnetyx.com"" in them and that will need to be updated, or ignored. Whatever the person in charge of this change thinks is best.","31/Jul/18 5:17 PM;jmedlock;Russell, I think Jeanie was supposed to be changing the files and giving them back to us for upload. Can you or Jeff check in on that?

Thanks,
Jim

Get Outlook for Android<https://aka.ms/ghei36>

",23/Aug/18 4:12 PM;kmcaleavey;[~jcox] [~rjonakin] Do you all need anything else from us?,"23/Aug/18 4:20 PM;jcox;[~kmcaleavey], I think we're good. The PDFs have been updated and the development changes are under review now.

CC [~rjonakin]",,,,,,,,,,,,,,,,,,,
Initiate Background Testing Order from Results Page,QO-46,29292,,Story,Peer Review,QO,Quick Order,software,jmedlock,,,3 Standard,,rjonakin,jcox,jcox,06/Jun/18 9:44 AM,22/Aug/18 10:47 AM,27/Aug/18 11:00 AM,,,Background Testing Phase 1,,,0,,,,,"_As a user, I need to be able to start a Background Testing order from the Results page._

+Acceptance Criteria+:
* User is able to start Background Testing order while on the results page.
* User is able to select multiple samples with a check box
",,,,;17/Jul/18 9:27 AM;admin;60,;22/Aug/18 10:47 AM;admin;28800,,,,,,,,0,28860,,,0,28860,,,,,,,,11/Jul/18 4:09 PM;tpatterson;List (No selections) 2.jpg;https://transnetyx.atlassian.net/secure/attachment/27127/List+%28No+selections%29+2.jpg,11/Jul/18 4:09 PM;tpatterson;List (Selections) - Help Modal 2.jpg;https://transnetyx.atlassian.net/secure/attachment/27126/List+%28Selections%29+-+Help+Modal+2.jpg,09/Jul/18 10:25 AM;jmedlock;List (Selections) - Help Modal.jpg;https://transnetyx.atlassian.net/secure/attachment/27101/List+%28Selections%29+-+Help+Modal.jpg,11/Jul/18 4:09 PM;tpatterson;List (Selections) 2.jpg;https://transnetyx.atlassian.net/secure/attachment/27125/List+%28Selections%29+2.jpg,09/Jul/18 10:24 AM;jmedlock;List (Selections).jpg;https://transnetyx.atlassian.net/secure/attachment/27100/List+%28Selections%29.jpg,,,,,,,,,,,,,jcox,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-25T17:49:30.000-0500"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00y2f:,,,,,,New Product/Feature,,YX Connect,2018-06-11 14:08:28.649,"11/Jun/18 9:08 AM;jmedlock;[~admin] [~jcox] Bob mentioned in the last meeting that users ordering BG tests would want to select all with a check box instead of his original button idea.

This changes this ticket and the next stage ticket ""selecting what tests to run."" Let's chat this week.

Thanks,
Jim","13/Jun/18 9:48 AM;tpatterson;Mockup clarifications:
* BT.JI1
** User can select individual rows or the entire wellplate via checkboxes
** Test button is disabled until a selection is made
** Once a sample is selected, the test button (primary), becomes active
* BT.JI2
** User can select individual rows or the entire wellplate via checkboxes
** Once a sample is selected the test option is available in the action items button / dropdown
* BT.CI.jpg
** User can select individual rows or the entire wellplate via buttons contained within a column on the far right side of the table
** The button should be primary and ""T"" is a placeholder for a Font Awesome icon
*** I'd recommend using [the vial icon|https://fontawesome.com/icons/vial?style=solid].
","11/Jul/18 4:09 PM;tpatterson;[~jmedlock], I've attached new mockups with edits that [~nnowak] requested.","25/Jul/18 5:08 PM;tpatterson;+Modal text+
Header:
Need help deciding which test to run?

Sub-header 1:
Genetic Monitoring / Background Testing

Description 1:
Use this service to confirm and monitor the genetic quality of your inbred colonies. It can be used to confirm the strain or substrain background of your mice. The panels can be used to distinguish between strain such as C57BL/6 and 129 or between substrains of C57BL/6 such as BL/6J and BL/6N.

Sub-header 2:
Speed Congenics / Marker Assisted Breeding 

Description 2:
Use this service to reduce the time it takes to move from one inbred strain background to another. This testing can reduce this time by up to 50% over traditional backcrossing.",,,,,,,,,,,,,,,,,,,,,,
Update Accounting Contact Email Address,QO-45,29289,,Story,Production,QO,Quick Order,software,jmedlock,,,2 Important,Done,,jcox,jcox,05/Jun/18 3:08 PM,02/Aug/18 11:46 AM,27/Aug/18 11:00 AM,02/Aug/18 11:46 AM,,Quick Order Legacy,,,0,,,,,"_As a user, I need to be able to email my billing questions to support for resolution._

+Acceptance Criteria+:
* Email address in QuickOrder Contact section is changed to billingsupport@transnetyx.com (instead of accounting@transnetyx.com)
",,,,;15/Jun/18 7:31 AM;jadhikari;7200,;02/Jul/18 9:37 AM;jadhikari;7200,,,,,,,,0,14400,,,0,14400,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-02T09:38:55.582-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00y1r:,,,,,,New Product/Feature,,YX Connect,2018-06-06 07:43:38.768,06/Jun/18 2:43 AM;jadhikari;[~jcox] : Is this change only for the dashboard page in quickorder  ? There might be other places in the app where we are probably using the accounting@transnetyx.com. ,06/Jun/18 6:44 AM;jadhikari;[~jcox] I updated the email address while I was there to update the private policy announcement for now.,"06/Jun/18 8:35 AM;jcox;[~jadhikari], thank you!  It may be worth doing a find-in-files search across the site to see if any other instances of the old email address exist, but this was the only location mentioned to me by Suzanne.","12/Jul/18 10:27 AM;jadhikari;[~jcox] : Can we find out more on this ticket from Suzanne, [~rjonakin] is working on updating the Customer Service email address as another ticket. If needed both these can be updated together.",12/Jul/18 10:28 AM;jcox;[~jadhikari] Sure- did you have specific questions?,,,,,,,,,,,,,,,,,,,,,
Add Announcement for GDPR Terms/Policy update,QO-40,29254,,Story,Production,QO,Quick Order,software,jmedlock,,,3 Standard,Done,,jcox,jcox,25/May/18 1:13 PM,02/Aug/18 11:46 AM,27/Aug/18 11:00 AM,02/Aug/18 11:46 AM,,Quick Order Legacy,,,0,,,,,"We need to add a message to the Announcements section of the site to remind users of our updated terms based on GDPR changes.  The ""Learn More"" link will need to send the user to our documentation at http://transnetyx.com/privacy-policy.


Text to use:
Transnetyx has updated our Privacy Policy Statement to inform you of our commitment to privacy and to describe our updated policies for the collection, use, and disclosure of personal information that may be collected by Transnetyx when you visit our websites. Learn More",,,,;15/Jun/18 7:31 AM;jadhikari;14400,;02/Jul/18 9:36 AM;jadhikari;10800,,,,,,,,0,25200,,,0,25200,,,,,,,,06/Jun/18 9:09 AM;jadhikari;PP.PNG;https://transnetyx.atlassian.net/secure/attachment/26961/PP.PNG,06/Jun/18 9:04 AM;jknight;Screen Shot 2018-06-06 at 9.03.00 AM.png;https://transnetyx.atlassian.net/secure/attachment/26960/Screen+Shot+2018-06-06+at+9.03.00+AM.png,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-02T09:39:17.326-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00xtz:,,,,,,New Product/Feature,,YX Connect,2018-05-25 18:57:05.188,"25/May/18 1:57 PM;jknight;Transnetyx has updated our Privacy Policy Statement to inform you of our commitment to privacy and to describe our updated policies for the collection, use, and disclosure of personal information that may be collected by Transnetyx when you visit our websites. Learn More",04/Jun/18 6:16 PM;jadhikari;[~jcox] / [~jknight] : Does this information need to go into the site immediately or it can go as part of deployment ?,"05/Jun/18 9:08 AM;jcox;[~jadhikari], I just spoke with [~jknight] and Todd and they asked for the announcement to be added as soon as possible.",06/Jun/18 6:45 AM;jadhikari;[~jknight] The announcement is updated in QuickOrder Dashboard page. Please verify.,06/Jun/18 9:04 AM;jknight;Hey [~jadhikari] I just went to QuickOrder to check and it is not showing up for me.  !Screen Shot 2018-06-06 at 9.03.00 AM.png|thumbnail! ,06/Jun/18 9:10 AM;jadhikari;[~jknight] Did you try clicking the accordion header?,"06/Jun/18 9:51 AM;jknight;Ahh. Did not realize that expanded. It is in there. Thanks!
",,,,,,,,,,,,,,,,,,,
"Change ""Customer Service"" text to ""Genetic Services"" in colony",COMA-2668,29502,,Story,Testing PASSED,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,rjonakin,rjonakin,30/Jul/18 8:40 PM,15/Aug/18 7:51 AM,27/Aug/18 10:57 AM,15/Aug/18 7:51 AM,,Unplanned,,,0,,,,,"Change ""Customer Service"" text to ""Genetic Services"" in colony

Change customer service email to be ""geneticservices@transnetyx.com"" *instead of* ""customerservice@transnetyx.com"". 

Places where we know about this:

* Chat bubble
* Contact Support Question mark
* Bottom of Registration page
* {color:#d04437}Genotype results page for controls?{color}
* Email - Research Group Invitation
* Email - QuickOrder Account Link
* {color:#d04437}More places?{color}



Refer to QO-53",,,,;30/Jul/18 10:02 PM;rjonakin;28800,;02/Aug/18 11:27 AM;rwilliams;300,;06/Aug/18 4:18 PM;bwinter;1800,;13/Aug/18 12:25 PM;rjonakin;14400,;14/Aug/18 8:24 PM;rwilliams;300,;15/Aug/18 7:51 AM;bwinter;60,,,,0,45660,,0,0,60120,,,,,,,,13/Aug/18 11:48 AM;rjonakin;COMA-2668_UpdateCustomerServiceToGeneticServices.sql;https://transnetyx.atlassian.net/secure/attachment/27339/COMA-2668_UpdateCustomerServiceToGeneticServices.sql,06/Aug/18 4:18 PM;bwinter;FAILED - text and email NOT changed in Research Group Invite Email - 2018-08-06 16_17_03-.png;https://transnetyx.atlassian.net/secure/attachment/27306/FAILED+-+text+and+email+NOT+changed+in+Research+Group+Invite+Email+-+2018-08-06+16_17_03-.png,06/Aug/18 4:18 PM;bwinter;FAILED - text and email address NOT changed in QuickOrder Link Email - 2018-08-06 16_14_44-.png;https://transnetyx.atlassian.net/secure/attachment/27305/FAILED+-+text+and+email+address+NOT+changed+in+QuickOrder+Link+Email+-+2018-08-06+16_14_44-.png,14/Aug/18 11:40 AM;bwinter;PASSED - Account Link Email says Genetic Services and links to geneticservices at transentyx.com - 2018-08-14 11_24_34-Transnetyx QuickOrder Account Security - Message (HTML).png;https://transnetyx.atlassian.net/secure/attachment/27359/PASSED+-+Account+Link+Email+says+Genetic+Services+and+links+to+geneticservices+at+transentyx.com+-+2018-08-14+11_24_34-Transnetyx+QuickOrder+Account+Security+-+Message+%28HTML%29.png,14/Aug/18 11:40 AM;bwinter;PASSED - Join my Group Email says Genetic Services and links to geneticservices at transentyx.com - 2018-08-14 11_35_37-Transnetyx Colony - Research Group Invitation - Message (HTML).png;https://transnetyx.atlassian.net/secure/attachment/27358/PASSED+-+Join+my+Group+Email+says+Genetic+Services+and+links+to+geneticservices+at+transentyx.com+-+2018-08-14+11_35_37-Transnetyx+Colony+-+Research+Group+Invitation+-+Message+%28HTML%29.png,06/Aug/18 1:54 PM;bwinter;PASSED - Text changed at bottom of Register Page - 2018-08-06 13_43_05-.png;https://transnetyx.atlassian.net/secure/attachment/27302/PASSED+-+Text+changed+at+bottom+of+Register+Page+-+2018-08-06+13_43_05-.png,06/Aug/18 1:54 PM;bwinter;PASSED - Text changed in question mark - 2018-08-06 13_42_12-.png;https://transnetyx.atlassian.net/secure/attachment/27300/PASSED+-+Text+changed+in+question+mark+-+2018-08-06+13_42_12-.png,06/Aug/18 1:59 PM;bwinter;PASSED - text changed in blue growler on well plate page - 2018-08-06 13_58_18-.png;https://transnetyx.atlassian.net/secure/attachment/27303/PASSED+-+text+changed+in+blue+growler+on+well+plate+page+-+2018-08-06+13_58_18-.png,06/Aug/18 4:07 PM;bwinter;PASSED - text changed in chat bubble - 2018-08-06 13_41_28-.png;https://transnetyx.atlassian.net/secure/attachment/27304/PASSED+-+text+changed+in+chat+bubble+-+2018-08-06+13_41_28-.png,14/Aug/18 11:40 AM;bwinter;Transnetyx Colony - Research Group Invitation - 2018-08-14.msg;https://transnetyx.atlassian.net/secure/attachment/27360/Transnetyx+Colony+-+Research+Group+Invitation+-+2018-08-14.msg,14/Aug/18 11:40 AM;bwinter;Transnetyx QuickOrder Account Security - 2018-08-14.msg;https://transnetyx.atlassian.net/secure/attachment/27361/Transnetyx+QuickOrder+Account+Security+-+2018-08-14.msg,,,,,,,rjonakin,rjonakin,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2018-08-14T20:26:20.945-0500"",""stateCount"":2,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":false}}",,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00zb3:,,,,,,New Product/Feature,,YX Connect,2018-08-06 17:25:39.604,"06/Aug/18 12:25 PM;bwinter;[~rjonakin], just curious, what pages were these changes made for this story?  I scanned the source code for ""geneticservices@transnetyx.com"" and could not find it on any page. Just wondering what pages I missed.","06/Aug/18 1:08 PM;bwinter;[~jcox], this ticket is very bare bones.  Not much description at all.  [~rjonakin] made the ticket as a placeholder for his branch for Colony changes.  However, I don't know what to test.  I spoke with Rus, and we found a few places, but I don't know all the places to look for.  Any ideas?","06/Aug/18 1:19 PM;jcox;[~bwinter], The only places I'm aware of in Colony that would need to be updated for this rebranding are already enumerated in the description you've edited a few minutes ago.","06/Aug/18 1:40 PM;bwinter;Roger that.  Thanks, [~jcox]!","06/Aug/18 4:26 PM;bwinter;[~rjonakin], I created a rework COMA-2678 on this ticket for the emails not having the changes. 

CC: [~jcox]","09/Aug/18 1:49 PM;rwilliams;[~jcox] [~bwinter] [~rjonakin] Do any of you have any issue with Russel (or whoever) just pulling this existing ticket (and branch) back down, fixing the couple things noted and recommitting without having the rework? I am still trying to figure out the benefit of the rework ticket. Our goal should be to make a ticket, get it into QA and then work with QA to complete the ticket completely so that it can be promoted to the next environment.","09/Aug/18 1:51 PM;jcox;[~rwilliams], [~bwinter], [~rjonakin], I have no problem whatsoever with that.  ","09/Aug/18 1:57 PM;bwinter;[~rwilliams], I am open to the idea.  Could you explain more why it would be beneficial in this case to break the current custom of using reworks?  And do we want to bypass it just for this ticket or for all future tickets?  The latter may need a broader conversation with other team members.","09/Aug/18 2:04 PM;rwilliams;[~bwinter] I don't understand what the use of a rework is. We already have the requirement is the original ticket. We already have a branch based on the original ticket. We have a ticket that we have committed to complete when we agreed to move it to QA. If QA finds that a developer missed a requirement or acceptance criteria, you simply notify the developer, he gets back on the existing branch, he fixes the known issue, puts the ticket back through the same process (and statuses) as before (peer review, etc.). The developer puts in another pull request that gets deployed to QA for QA to test again. I don't see a need or an advantage to having a whole additional ticket in this process. Those are my thoughts and perspectives on it. CCing [~jcox] and [~rjonakin] to see if they have any additional thoughts.","09/Aug/18 2:10 PM;bwinter;Roger that, [~rwilliams].  Perhaps, we should include [~admin] in the conversation.  [~admin] wants us to use reworks to organize what is working and not working in a given JIRA ticket.  I believe [~jmedlock] prefers them also.  SQA is here to serve you guys in whatever way you want us to communicate with you.

Perhaps, we should also finish the conversation in Teams, in email, or in-person.  Looking forward to it!","13/Aug/18 3:43 PM;rwilliams;[~rjonakin]  have you tested this in QA to see if the footers of the emails are updated? If so I will ask Bryan to test again.  
","13/Aug/18 3:47 PM;rjonakin;[~rwilliams]

Yes I tested it in QA. It's all good to go.","13/Aug/18 3:51 PM;rwilliams;[~bwinter]  Can you please retest this in QA. I believe it is only the email footers that failed. The fix was a data-base-only update that has been applied to QA and is ready.  
","14/Aug/18 11:39 AM;bwinter;[~rwilliams], Thank you!  TESTING PASSED.  I will update ticket status as soon as it is READY FOR QA.",,,,,,,,,,,,
Disable free control discount capability in colony,COMA-2663,29465,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jadhikari,jadhikari,25/Jul/18 9:15 AM,03/Aug/18 9:57 AM,23/Aug/18 2:35 PM,03/Aug/18 9:57 AM,,CM - Release 1.2,,,0,,,,,"* See ORMA-589 for how this ticket should be tested in Colony.  
* Ask [~jadhikari] if further clarification is needed.",,,,;25/Jul/18 10:04 AM;jadhikari;14400,;25/Jul/18 10:39 AM;rwilliams;300,;26/Jul/18 11:26 AM;jadhikari;7200,;26/Jul/18 2:12 PM;rwilliams;300,,,,,0,0,22200,"9,223,372,036,854,775,807%",0,0,22200,,,,,,ORMA-418,,26/Jul/18 3:05 PM;qevans;ORMA-589 Testing.docx;https://transnetyx.atlassian.net/secure/attachment/27258/ORMA-589+Testing.docx,,,,,,,,,,,,,,,,,jadhikari,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2018-07-26T14:13:16.331-0500"",""stateCount"":2,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00z3b:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
YSOD when creating a breeding from the Mice List,COMA-2650,29441,,Bug,Production,COMA,Colony Manager,software,admin,,,HotFix,Done,,bwinter,bwinter,19/Jul/18 3:11 PM,03/Aug/18 9:57 AM,27/Aug/18 11:00 AM,03/Aug/18 9:57 AM,,CM - Release 1.2,,,0,,,,,"h1. What happened

# Go to Mice List
# Click on 2 or more mice to add to a breeding
# Select Create Breeding button (heart in the blue action tray)
# Colony throws YSOD <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen

I expected Colony to take me to the Breeding Wizard instead of throwing YSOD.",,,,;20/Jul/18 9:16 AM;jjensen;7200,;25/Jul/18 10:40 AM;rwilliams;300,;25/Jul/18 4:14 PM;bwinter;600,,,,,,,0,8100,,,0,8100,,,,,,,,19/Jul/18 3:11 PM;bwinter;BUG - STEP BEFORE YSOD - Mice List - select mice - click Setup Breeding - 2018-07-19 15_09_04-.png;https://transnetyx.atlassian.net/secure/attachment/27183/BUG+-+STEP+BEFORE+YSOD+-+Mice+List+-+select+mice+-+click+Setup+Breeding+-+2018-07-19+15_09_04-.png,19/Jul/18 3:06 PM;bwinter;BUG - YSOD when creating a breeding from the mice list - 2018-07-19 15_05_24-.png;https://transnetyx.atlassian.net/secure/attachment/27185/BUG+-+YSOD+when+creating+a+breeding+from+the+mice+list+-+2018-07-19+15_05_24-.png,19/Jul/18 4:52 PM;bwinter;Bug on PROD - Add Breeding throws 500 error - 2018-07-19 16_50_41-.png;https://transnetyx.atlassian.net/secure/attachment/27186/Bug+on+PROD+-+Add+Breeding+throws+500+error+-+2018-07-19+16_50_41-.png,25/Jul/18 4:14 PM;bwinter;PASSED - No more YSOD when creating breeding from Mice List - 2018-07-25 16_12_30-.png;https://transnetyx.atlassian.net/secure/attachment/27240/PASSED+-+No+more+YSOD+when+creating+breeding+from+Mice+List+-+2018-07-25+16_12_30-.png,,,,,,,,,,,,,,bwinter,jcox,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-25T10:40:26.592-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,,bwinter,0|i00yxz:,,,,,,New Product/Feature,,YX Connect,,"19/Jul/18 3:12 PM;bwinter;[~jmedlock] here is the bug ticket for that hotfix needed in PROD.

CC: [~jcox], [~admin]","19/Jul/18 5:08 PM;bwinter;[~jmedlock], [~jcox], [~admin], [~cleduc]

[~jjensen] messaged me that the bug in COMA-2642 will fix this bug.  I placed the IS FIXED BY link on this ticket.

[~jjensen], when your ticket is READY FOR QA, would you mind moving this one also?  Then I can test and pass them at the same time.",,,,,,,,,,,,,,,,,,,,,,,,
Fix possible exception with missing key in list,COMA-2642,29430,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,18/Jul/18 11:30 AM,03/Aug/18 9:57 AM,27/Aug/18 11:00 AM,03/Aug/18 9:57 AM,,CM - Release 1.2,,,0,,,,,"h1. Problem

# Code was written to solve COMA-1889
# When pushed to production, IIS exception thrown concerning add/edit breeding <- {color:#d04437}UNEXPECTED{color}

h1. Notes

* [~jmedlock] emailed [~rwilliams] who emailed [~jjensen]. See COMA-2641 for details.
* This exception MAY POSSIBLY be related to COMA-1889
* This error cannot be replicated due to unknown execution parameters
* [~bwinter] is writing this as a bug since COMA-1889 is already in production

h1. Solution 

[~jjensen] will add exception handling code to POSSIBLY PREVENT this IIS exception.",,,,"FWIW, checked rest of cshtml code and did not find another list access statement (except in JavaScript, but who cares about that...?).  The code from COMA-1889 is most likely the culprit, but we still have not been able to reproduce the error.;18/Jul/18 1:24 PM;jjensen;3600",;25/Jul/18 10:40 AM;rwilliams;300,;25/Jul/18 4:15 PM;bwinter;60,,,,,,,0,3960,,,0,3960,,,,COMA-2650,,,,25/Jul/18 4:14 PM;bwinter;PASSED - No more YSOD when creating breeding from Mice List - 2018-07-25 16_12_30-.png;https://transnetyx.atlassian.net/secure/attachment/27241/PASSED+-+No+more+YSOD+when+creating+breeding+from+Mice+List+-+2018-07-25+16_12_30-.png,20/Jul/18 11:29 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27189/image001.png,20/Jul/18 11:29 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27190/image003.png,,,,,,,,,,,,,,,bwinter,jcox,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-25T10:40:26.592-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,,bwinter,0|i00yvj:,,,,,,New Product/Feature,,YX Connect,2018-07-18 18:24:56.927,"18/Jul/18 11:37 AM;bwinter;[~jmedlock], [~rwilliams], [~jjensen], this ticket along with *COMA-2641* address the IIS exception thrown on the server on Monday, July 16, 2018.  

* COMA-2641 outlines the exception thrown and has the email thread between [~jmedlock], [~rwilliams], and [~jjensen] attached
* COMA-2642 (THIS ticket) outlines a POSSIBLE solution for the IIS exception

This ISS exception in *COMA-2641*  cannot be replicated due to unknown execution parameters.
 
CC: [~jcox], [~cleduc]","18/Jul/18 1:24 PM;jjensen;FWIW, checked rest of cshtml code and did not find another list access statement (except in JavaScript, but who cares about that...?).  The code from COMA-1889 is most likely the culprit, but we still have not been able to reproduce the error.","20/Jul/18 9:15 AM;jjensen;[~bwinter], I just wanted to leave a comment here that I will move this along with COMA-2650 into READY FOR QA status after the peer reviewing is done.  This ticket and COMA-2650 really are the same thing.","20/Jul/18 10:00 AM;rwilliams;[~jjensen] [~bwinter] Jamie, another thing I would do in this case is to edit the Pull Request for COMA-2642 and add COMA-2650 into the description so that we know to add it to the release ticket.","20/Jul/18 11:29 AM;jjensen;Ok, so you already did that.  LOL


From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Rich Williams (Jira)
Sent: Friday, July 20, 2018 10:01 AM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] Rich Williams mentioned you on COMA-2642 (Jira)

[https://avatar-cdn.atlassian.com/cb7a312044a59011b27a6438a9ffbb09?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drwilliams%26avatarId%3D11400%26noRedirect%3Dtrue]

Rich Williams<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=rwilliams> mentioned you on [Bug] COMA-2642<https://transnetyx.atlassian.net/browse/COMA-2642>




Re: Fix possible exception with missing key in list<https://transnetyx.atlassian.net/browse/COMA-2642>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen> Bryan Winter<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=bwinter> Jamie, another thing I would do in this case is to edit the Pull Request for [https://transnetyx.atlassian.net/secure/viewavatar?size=xsmall&avatarId=12334&avatarType=issuetype] COMA-2642 <https://transnetyx.atlassian.net/browse/COMA-2642> Peer Review and add [https://transnetyx.atlassian.net/secure/viewavatar?size=xsmall&avatarId=12334&avatarType=issuetype] COMA-2650 <https://transnetyx.atlassian.net/browse/COMA-2650> Peer Review into the description so that we know to add it to the release ticket.


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2642#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2642#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","20/Jul/18 11:44 AM;bwinter;Thank you, [~jjensen] and [~rwilliams] , for keeping us organized and on track!",,,,,,,,,,,,,,,,,,,,
Fix Gene Mutation edit so that it marks old GeneResults as deleted,COMA-2640,29428,,Bug,Production,COMA,Colony Manager,software,admin,,,2 Important,Done,,rwilliams,rwilliams,18/Jul/18 8:29 AM,16/Aug/18 9:09 AM,27/Aug/18 11:00 AM,16/Aug/18 9:09 AM,,CM - Release 1.2,,,0,,,,,"h1. What happened:

# Select a strain > go to strain dashboard
# Manually create a new mutation for that strain (do NOT create via MGI ID)
# Manually create a new gene
# Go to Gene Mutations List
# Select created mutation > Mutation 3-dot menu > Edit Gene Mutation
# Select another gene from the Gene drop-down
# Save
# Go back to strain dashboard
# Gene card is blank in Strain Dashboard <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

When I move a mutation from a gene, I expect the gene card to always show.

h1. DEV Note

I have found the bug, or maybe “feature” as it may be better called. I forgot that the system allowed a user to do this, but a Gene Mutation can be edited and in that edit they can change the Gene that a mutation is associated with it. The problem MUST be that it DOESN’T clean up the GeneResults that were associated with it PREVIOUS Gene. This is bad. It should at a minimum mark them as deleted so that we can treat them as such. I guess we need a bug ticket and some direction on priority to get this fixed. This is all of a sudden causing a problem because of the new code that I added to the GeneResult that allows it to calculate its own SysGenTranslatedResult and it own Shorthand name. That code picks up these GeneResults and looks up the Gene and Allele information for the GeneResult but if cannot find it in the system, and it is because it has been MOVED!! 

We need to look at Transgene scenarios and see if there are any implications with those as well.",,,,;27/Jul/18 10:37 AM;rwilliams;86400,;27/Jul/18 2:33 PM;rwilliams;300,;03/Aug/18 9:50 AM;admin;300,;15/Aug/18 5:37 PM;bwinter;7200,;16/Aug/18 9:02 AM;rwilliams;300,;16/Aug/18 9:09 AM;jcox;300,,,,0,94800,,,0,94800,,,,,,,,15/Aug/18 5:11 PM;bwinter;BUG - Moving mutation from one gene to another causes Gene Card to go blank - 2018-08-15 17_07_19-.png;https://transnetyx.atlassian.net/secure/attachment/27379/BUG+-+Moving+mutation+from+one+gene+to+another+causes+Gene+Card+to+go+blank+-+2018-08-15+17_07_19-.png,19/Jul/18 5:16 PM;bwinter;Moving mutations across genes causes problems in gene cards - 2018-07-17.msg;https://transnetyx.atlassian.net/secure/attachment/27188/Moving+mutations+across+genes+causes+problems+in+gene+cards+-+2018-07-17.msg,15/Aug/18 5:51 PM;bwinter;PASSED - move transgene allele back to a transgene works as expected - must be a new transgene though - 2018-08-15 17_26_17-.png;https://transnetyx.atlassian.net/secure/attachment/27385/PASSED+-+move+transgene+allele+back+to+a+transgene+works+as+expected+-+must+be+a+new+transgene+though+-+2018-08-15+17_26_17-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving a mutation to a new gene updates the gene card for all strains with that mutation - 2018-08-15 17_34_49-.png;https://transnetyx.atlassian.net/secure/attachment/27386/PASSED+-+moving+a+mutation+to+a+new+gene+updates+the+gene+card+for+all+strains+with+that+mutation+-+2018-08-15+17_34_49-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving a transgene allele (why is this a thing) to a non-transgene is allowed - 2018-08-15 17_23_55-.png;https://transnetyx.atlassian.net/secure/attachment/27383/PASSED+-+moving+a+transgene+allele+%28why+is+this+a+thing%29+to+a+non-transgene+is+allowed+-+2018-08-15+17_23_55-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving multiple mutations to a gene works as expected - 2018-08-15 17_20_07-.png;https://transnetyx.atlassian.net/secure/attachment/27381/PASSED+-+moving+multiple+mutations+to+a+gene+works+as+expected+-+2018-08-15+17_20_07-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving mutation to a gene created from MGI search updates gene cards as expected - 2018-08-15 17_17_23-.png;https://transnetyx.atlassian.net/secure/attachment/27382/PASSED+-+moving+mutation+to+a+gene+created+from+MGI+search+updates+gene+cards+as+expected+-+2018-08-15+17_17_23-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving mutation to a manually created gene works as expected - 2018-08-15 17_28_19-.png;https://transnetyx.atlassian.net/secure/attachment/27384/PASSED+-+moving+mutation+to+a+manually+created+gene+works+as+expected+-+2018-08-15+17_28_19-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving strain from MGI created gene back to manually created gene works as expected - 2018-08-15 17_18_14-.png;https://transnetyx.atlassian.net/secure/attachment/27380/PASSED+-+moving+strain+from+MGI+created+gene+back+to+manually+created+gene+works+as+expected+-+2018-08-15+17_18_14-.png,,,,,,,,,jcox,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-03T11:22:58.591-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00yv3:,,,,,,New Product/Feature,,YX Connect,2018-07-18 13:42:46.953,"18/Jul/18 8:31 AM;rwilliams;[~jcox]  I don’t know what the process is for new bugs but I created this ticket and I plan on working on it today. It automatically assigned it to you. Can you assign it to me once you do what you need to do with it? 
",18/Jul/18 8:42 AM;jcox;[~rwilliams] Since we don't groom/estimate Bug tickets I just move them straight to Backlog status.  Just did that and assigned back to you.,"18/Jul/18 8:45 AM;rwilliams;[~jcox]  Awesome. I assigned it to me when I created it, but when I saved it it automatically assigned it to you. I wasn’t sure what to do at that point. Thanks for the help. 
","19/Jul/18 5:13 PM;bwinter;For additional details, see comments of COMA-2636 for discussion between [~rwilliams] and [~cleduc] about the issue in this ticket.","27/Jul/18 10:44 AM;rwilliams;[~bwinter] This is the ticket for Edit Mutation. I ""Stopped Development"" on it, but I am considering myself done. Not sure how you want to test it and then how/when we want to move it into the deployment pipeline...",06/Aug/18 7:55 PM;rwilliams;[~bwinter] I didn't realize that the same Edit Mutation dialog popped up on the Strain Dashboard page as well as the Gene Mutation list page. I had no idea until tonight. We need to make sure that we test that dialog in both places to make sure that they both work the same way and without error. Just FYI.,,,,,,,,,,,,,,,,,,,,
GetGeneCardObjects throws 500 error,COMA-2636,29421,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,16/Jul/18 4:53 PM,19/Jul/18 5:11 PM,27/Aug/18 11:00 AM,17/Jul/18 8:41 PM,,CM - Release 1.2,,,0,,,,,"h1. What happened:

# Go to _Sandbox_ (Enrollment Key: SANDBOX) group on QA
# Go to strains list
# Select _Bryan's Strain ¯\_(ツ)_/¯_ strain
# Scroll down to Gene cards
# Details for gene card for the _\ (•◡•) /_ gene shows but not the _pur1_ gene <- {color:#d04437}UNEXPECTED{color}
# GetGeneCardObjects throws 500 error <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

I expected to see gene details of both gene cards.",,,,;17/Jul/18 11:24 AM;rwilliams;10800,;17/Jul/18 12:45 PM;rwilliams;300,[~cleduc] tested this;17/Jul/18 8:40 PM;rwilliams;3600,;17/Jul/18 8:41 PM;rwilliams;300,;17/Jul/18 8:41 PM;rwilliams;300,,,,,0,15300,,,0,15300,,,,,,COMA-2613,COMA-2640,16/Jul/18 4:48 PM;bwinter;BUG - GetGeneCardObjects throws 500 error - 2018-07-16 16_43_02-.png;https://transnetyx.atlassian.net/secure/attachment/27158/BUG+-+GetGeneCardObjects+throws+500+error+-+2018-07-16+16_43_02-.png,19/Jul/18 4:54 PM;bwinter;PASSED - pur1 shows all genotypes for Bryan's Strain on QA - Sandbox - 2018-07-19 16_53_33-.png;https://transnetyx.atlassian.net/secure/attachment/27187/PASSED+-+pur1+shows+all+genotypes+for+Bryan%27s+Strain+on+QA+-+Sandbox+-+2018-07-19+16_53_33-.png,16/Jul/18 4:48 PM;bwinter;YSOD Stack Trace Error for GetGeneCardObjects - 2018-07-16 16_46_38-.png;https://transnetyx.atlassian.net/secure/attachment/27159/YSOD+Stack+Trace+Error+for+GetGeneCardObjects+-+2018-07-16+16_46_38-.png,,,,,,,,,,,,,,,jcox,jcox,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-17T12:46:17.196-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,cleduc,0|i00ytj:,,,,,,New Product/Feature,,YX Connect,2018-07-17 21:07:38.473,17/Jul/18 4:07 PM;cleduc;[~rwilliams] the Pur1 gene still does not show for me in qa.transnetyx on my PC nor mac.,17/Jul/18 4:08 PM;rwilliams;[~cleduc] What environment are you looking in? And what group?,"17/Jul/18 4:10 PM;cleduc;[~rwilliams] qa.transnetyx.com, sandbox, on chrome on PC or Mac","17/Jul/18 8:37 PM;rwilliams;[~cleduc] This is a different issue that you have run into. This has to do with the feature that allows users to change the Gene that a Gene Mutation is associated with. Unfortunately it appears that this feature makes no attempt to clean up the already associated GeneResults when it moves the allele to the next Gene and that causes it to leave behind GeneResults that are associated with Alleles that are no longer associated with the Genes that the GeneResults belong to. Bad news, bad data!! I sent a email with more details, but I think we need another ticket for that issue and some priority to get that fixed.

cc: [~bwinter]",17/Jul/18 8:40 PM;rwilliams;[~cleduc] tested this,"17/Jul/18 9:54 PM;rwilliams;[~cleduc]  just wanted to add that this GeneCard should work now because I marked the bad generesults deleted.  
","19/Jul/18 4:55 PM;bwinter;[~rwilliams], [~cleduc], here is a screen shot of the the Gene Card working now.

 !PASSED - pur1 shows all genotypes for Bryan's Strain on QA - Sandbox - 2018-07-19 16_53_33-.png|thumbnail! ",19/Jul/18 4:56 PM;bwinter;FUTURE REFERENCE: This ticket was tested by [~cleduc] as this was a hotfix release for gene card issue.,,,,,,,,,,,,,,,,,,
Adding labels to Mice in Mice List throws red growler message unexpectantly,COMA-2632,29379,,Bug,Production,COMA,Colony Manager,software,admin,,,2 Important,Done,,bwinter,bwinter,08/Jul/18 11:17 PM,16/Jul/18 4:47 PM,27/Aug/18 11:00 AM,16/Jul/18 4:47 PM,,CM - Release 1.2,,,0,,,,,"h1. What happened

# Go to Mice List
# Select one or more mice
# Add Label from blue toolbar for selected mice
# Create label > Add > Save
# Red growler error message thrown: ""Error adding labels: undefined"" <- {color:#d04437}UNEXPECTED{color}
# Must Cancel to get past modal <- {color:#d04437}UNEXPECTED{color}
# Once back at the Mice List, labels not added until Mice List is refreshed <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen

I expected I could add labels to mice without an error, so that my mice have labels.",,,,;09/Jul/18 2:56 PM;rwilliams;10800,;10/Jul/18 10:34 AM;rwilliams;300,;11/Jul/18 4:23 PM;bwinter;600,,,,,,,0,11700,,,0,11700,,,,,,,,08/Jul/18 11:14 PM;bwinter;BUG - 1 of 2 - strange red growler thrown when adding label to mice from Mice List - 2018-07-08 23_10_25-.png;https://transnetyx.atlassian.net/secure/attachment/27097/BUG+-+1+of+2+-+strange+red+growler+thrown+when+adding+label+to+mice+from+Mice+List+-+2018-07-08+23_10_25-.png,08/Jul/18 11:14 PM;bwinter;BUG - 2 of 2 - label does not update until refreshing page - 2018-07-08 23_10_46-.png;https://transnetyx.atlassian.net/secure/attachment/27098/BUG+-+2+of+2+-+label+does+not+update+until+refreshing+page+-+2018-07-08+23_10_46-.png,11/Jul/18 4:23 PM;bwinter;PASSED - No red growler thrown when adding lables to mice - 2018-07-11 16_22_19-.png;https://transnetyx.atlassian.net/secure/attachment/27128/PASSED+-+No+red+growler+thrown+when+adding+lables+to+mice+-+2018-07-11+16_22_19-.png,,,,,,,,,,,,,,,jcox,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-10T10:34:43.249-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00plv:,,,,,,New Product/Feature,,YX Connect,,08/Jul/18 11:19 PM;bwinter;[~cleduc] Here is the bug we discussed from last Friday where we get the weird red growler error message when adding labels to mice.  I left it as high priority in Colony 1.2.  You might want to bring it up during stand-up.,09/Jul/18 9:40 AM;bwinter;[~rwilliams] Thank you for looking into this ticket for us\!,,,,,,,,,,,,,,,,,,,,,,,,
Cage map filter does not match results from Cage bar graph or iOS Cage Map filter,COMA-2627,29357,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,25/Jun/18 3:50 PM,16/Aug/18 9:09 AM,27/Aug/18 11:00 AM,16/Aug/18 9:09 AM,,CM - Release 1.2,,,0,,,,,"bq. Several issues were causing the problem of the dashboard cages panel bar chart count to NOT match the Cage Map filter.  [~rwilliams] fixed a few.  This ticket has been updated to fix another one found during testing.  The Investigation section below outlines the original description of this ticket.

h1. What happened:

# Go to Dashboard
# Hover over the one-mouse-per-cage bar in Cage bar graph panel > Tool tip should say ""1 Mouse (X)""
# Note the number in parentheses ""(X)"".
# Add a litter to a breeding
# Let the litter count be 1 pup
# ID, Biopsy, and wean litter just created
# Place weaned pup in a new cage
# Place cage in a room on a rack
# Note the Cage ID, Rack Name, and RoomName
# Go to Dashboard > Cages Panel > Cage bar graph > hover over one-mouse-per-cage bar with Tool Tip ""1 Mouse (Y)""
# The actions taken above incremented the count of cage with just one mouse <- {color:#14892c}EXPECTED{color}
# Note that Y = X+1, where X was the original number <- {color:#14892c}EXPECTED{color}
# Go back to the litter and delete it > Litters List > find litter > View Litter > Litter 3-dot menu > Delete litter 
# Go back to weaned pups cage
# Note weaned pup has been deleted and no longer shows in cage <- {color:#14892c}EXPECTED (for now){color}
# Filter Cage Map by Singly Housed mice
# Note that empty cage that previously housed weaned pup is not selected <- {color:#14892c}EXPECTED{color}
# Go to Dashboard > Cages Panel > Cage bar graph > hover over bar with Tool Tip ""1 Mouse (Y)""
# Note that Y is still equal to X+1 <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

* I expected the one-mouse-per-cage bar in the Cages panel to equal the original starting number X.
* I expected the Z-mice-per-cage counts in the bar graph to match the number of cages selected from the Cage Map's Z-mice-per-cage Filter.

h1. Investigation

bq. This ticket started out as an investigation to figure out why the bar graph in the cages panel on the dashboard does not match the Cage Map filter.  [~rwilliams] has done a great job investigating this pernicious problem.  See comments below.  {color:#f79232}The _What happened_ section below should NOT be used to test this ticket further.{color} It is only included for historical purposes.

h2. What happened

# in Staging > Wilkersons Lab
# Cage bar graph counts do not match equivalent Cage Map filter counts <- UNEXPECTED

h2. What I expected to happen:

I expected Cage bar graph counts to match equivalent Cage Map filter counts

h2. Table of Differences in Counts across Cage Graph (in web), iOS Cage Map Filter, and Web Cage Map Filter

|| Mice per Cage || Cage Graph || iOS - Cage Map Filter || Web - Cage Map Filter Count || Cages of Interest ||
| *0 mice*    | 3   | 3   |  3 | |
| *1 mouse* | 36 | 36 | {color:#d04437}*38*{color} | Note 1 |
| *2 mice*    | 30 | 30 | {color:#d04437}*33*{color} | Note 2 |
| *3 mice*    | 22 | 22 | {color:#d04437}*23*{color} | Note 3 |
| *4 mice*    | 21 | 21 | 21 | |
| *5 mice*    | 18 | 18 | 18 | |
| *6+ mice* |   6 |   6 |    {color:#d04437}*0*{color} | Note 4 |

h2. Notes

* *Note 1* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 1 mouse
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *D4*
*** iOS Cage Map filter shows 3 mice in Cage
*** Web Cage Map filter shows 1 mouse in Cage
*** _DB - there are 3 mice in the cage, but only 1 is weaned and the cage should only show weaned mice. There is a litter in the cage as well for the unweaned mice, but that litter was deleted._
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B9*
*** iOS Cage Map filter shows 1 breeder with active litter of ten 20-week old, unweaned pups mice in Cage
*** Web Cage Map filter shows 1 retired breeder (broken heart) with active litter of seven 20-week, weaned pups in Cage
*** _DB - There are 8 mice in the cage, but only 1 is weaned. There is a litter in the cage as well that the other 7 mice belong to._
* *Note 2* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 2 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B2*
*** iOS Cage Map filter shows 3 mice in Cage
*** Web Cage Map filter shows 2 mice in Cage
*** _DB - There are 3 mice in that cage. None of them are weaned, however, only 1 of the 3 are associated with a litter. So that is part of the logic as well for displaying mice in a cage - if the mouse is associated with a litter, only show it in the cage if it is weaned, else show the mouse regardless of weaned status. There are 4 litters in that cage, 1 is deleted and the other 3 are weaned, therefore none of them show in the cage._
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *A5*
*** iOS Cage Map filter shows 6+ mice in Cage
*** _DB - This cage has 19 mice in it. None of the mice have wean dates, but 2 of the mice are not associated with a litter. There are 7 litters in that cage, 1 is deleted, 1 is weaned._
## _Room_ MCB-208 > _*Rack_ 2* > _Position_ *A5*
*** iOS Cage Map filter shows 6+ mice in Cage
*** DB - The cage has 14 mice, 0 are weaned, 2 are not part of a litter. There are 4 litters, 3 are weaned.
* *Note 3* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 3 mice
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *G3*
*** iOS Cage Map filter shows 6+ mice in Cage
* *Note 4* - *_Web - Cage Map Filter_* does NOT count these cages as having 6+ mice
## _Room_ *Unassociated* > _Cage ID_ *2986544*
*** _instead Web - Cage Map Filter only counts this cage as having 3 mice_
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *A5* 
*** Web - Cage Map Filter only counts this cage as having 2 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *E5*
*** Web - Cage Map Filter only counts this cage as having 3 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B9*
*** Web - Cage Map Filter only counts this cage as having 1 mouse
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *A5*
*** Web - Cage Map Filter only counts this cage as having 2 mice
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *G3*
*** Web - Cage Map Filter only counts this cage as having 3 mice
",,,,;14/Jul/18 11:42 AM;rwilliams;57600,;25/Jul/18 10:47 AM;rwilliams;300,;02/Aug/18 10:14 AM;bwinter;14400,;02/Aug/18 2:13 PM;rwilliams;3600,;03/Aug/18 9:39 AM;admin;60,;06/Aug/18 10:07 AM;bwinter;600,;16/Aug/18 9:02 AM;rwilliams;300,;16/Aug/18 9:09 AM;jcox;300,,0,77160,,,0,77160,,,,,,,,02/Aug/18 10:14 AM;bwinter;BUG - Cages Bar Chart counts weaned mice deleted from a cage after deleting litter record BUT Cage Map filter does not - 2018-08-01 13_04_37-.png;https://transnetyx.atlassian.net/secure/attachment/27272/BUG+-+Cages+Bar+Chart+counts+weaned+mice+deleted+from+a+cage+after+deleting+litter+record+BUT+Cage+Map+filter+does+not+-+2018-08-01+13_04_37-.png,06/Aug/18 10:06 AM;bwinter;PASSED - 1-mouse-per-cage on Dashboard matches 1-mouse-per-cage on filtered Cage Map - 2018-08-06 09_42_49-.png;https://transnetyx.atlassian.net/secure/attachment/27292/PASSED+-+1-mouse-per-cage+on+Dashboard+matches+1-mouse-per-cage+on+filtered+Cage+Map+-+2018-08-06+09_42_49-.png,01/Aug/18 4:18 PM;rwilliams;bad data in staging for this lab.png;https://transnetyx.atlassian.net/secure/attachment/27271/bad+data+in+staging+for+this+lab.png,,,,,,,,,,,,,,,rwilliams,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=3}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":3,""lastUpdated"":""2018-08-03T11:25:22.458-0500"",""stateCount"":3,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":3,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00ygf:,,,,,,New Product/Feature,,YX Connect,2018-07-11 12:49:50.277,"25/Jun/18 3:52 PM;bwinter;[~cleduc], [~rwilliams], [~jmedlock], here is the requested BUG ticket related to COMA-2424 and Carrie's and mine comment from today.  I placed it as Standard priority in Unplanned.  Feel free to to make any changes.","11/Jul/18 7:49 AM;rwilliams;[~bwinter] CC: [~cleduc] [~jmedlock] [~jstrickland]
This ticket deals with mice per cage counts discrepancies: 
So the first thing I have found, and this may be THE issue with the rest of the cage mice count issues, is that there are mice in cages that are part of a litter, but the mice have never been weaned and the litter has been deleted. I am doing some educated assuming here but, on the web I don't think that the cage shows (or includes in counts) non-weaned mice because the assumption is that they are still considered to be part of a litter. Also, on the web, the Cage normally displays a litter when it is associated with a cage, however, in this case, the Litter has been deleted, so it isn't being shown in the cage view for that reason. I guess the question becomes, how do we deal with this issue? Should we have marked any unweaned mice as deleted when the litter was deleted? I would assume that there is no cascading deletion  like that being done today, but is that what we need to do to resolve this? Or another option might be that when a litter is deleted we mark any pups as weaned immediately? Or do we need to calculate the mice per cage count differently and change what mice get displayed in a cage, so that, if there are unweaned mice who are in a deleted litter, that we go ahead and include them in the cage and in the count. That to me sounds like the yuckiest solution.

This first cage I looked at (first in the list in the ticket above), it really does have 3 mice in the cage (and it looks like iOS shows all 3 mice in the cage there), but 2 are not weaned and belong to a deleted litter which is also associated with the same cage, but doesn't show because it is deleted

Looking at the second cage listed in the ticket, the one at position B9 , has 8 mice but 7 are not weaned and are part of the same litter, the litter that is listed in the cage. The litter pup count discrepancy between iOS and the web is an issue on the iOS side with the calculation of pups. On the litter is recorded the PupCountAtBirth of 10 with a MissingCount of 3. I believe that iOS is showing the PupCountAtBirth and not considering the Missing or the FoundDeadCount, etc. On the web, we actually calculate the pup count whenever we load the litter. If the pups haven't been generated we use the litter fields to determine count, but as soon as the pups are generated we actually look at the actual mice in the system to determine the number of pups.","11/Jul/18 10:19 AM;cleduc;[~rwilliams] [~bwinter][~jmedlock] [~jstrickland] This sounds like we maybe worked off different users particular needs in the different apps, and users also maybe made some errors between ""dead"" vs. ""deleted"". 
What if it did this in both systems:
* Animal records are created when litter counts are entered or not but it should be the same in both systems if possible. Then how we include exclude animals in counts would be same in both as well. 
* If pup records are created prior to wean and appear in the mouse list, the user just needs to know so that they can consider age in their record searching.
* Delete litter throws question: would you like to mark all pups dead or delete record of the pups? If a litter is deleted this must be resolved. 
* Animals per cage = Adults (weaned) including breeders  - I say this as the animals per cage is used primarily to see cages that have too many adult mice that need to be recaged, and/or cages that can be consolidated. 
* Two pup counts have value: Pups born = total recorded born, Pups weaned = pups born minus the missing, found dead, and euthanized prior to wean. 




","11/Jul/18 12:37 PM;rwilliams;[~cleduc] Here are my responses to your earlier comments: 

*Note:* I did some additional research into some of the specific scenarios mentioned in the ticket and I added my findings to the description in the ticket. While doing this I realized that there is a little more logic for the displaying of mice in cages. If a mouse is not associated with a litter (meaning that it was manually added to colony via ""add mice""), then it will show in the cage (if it isn't deleted or dead, etc.). If the mouse is from a litter then it will only show in the cage if it is weaned.

* Animal records are created when litter counts are entered or not but it should be the same in both systems if possible. Then how we include exclude animals in counts would be same in both as well.
** My response: Agree. In the web, mice/pups for a litter are created via the litter workbench at the specific time that that user clicks the ""Save and Generate"" button. This is done before the mice are IDed, Biopsied or Weaned.  Once the mice are generated they are viewable in the MiceList, however, in the Cage view, the unweaned litter is displayed and the unweaned mice are NOT displayed (unless the mouse is not associated with a litter, then it is displayed regardless of its weaned state).
* If pup records are created prior to wean and appear in the mouse list, the user just needs to know so that they can consider age in their record searching.
** My response: I don't have issues with this, but I don't know how we communicate that to users. The Mouse List has a default filter that shows alive mice.
* Delete litter throws question: would you like to mark all pups dead or delete record of the pups? If a litter is deleted this must be resolved.
** My response: Do we need a ticket for this or do we use this ticket to do that? I lean toward a specific ticket to implement that functionality. I think we need to identify all of the places where litters can be deleted to make sure that they all use the same logic.
* Animals per cage = Adults (weaned) including breeders - I say this as the animals per cage is used primarily to see cages that have too many adult mice that need to be recaged, and/or cages that can be consolidated.
** My response: This is the case with the web app, however, it appears that the iOS app may not be excluding non-weaned mice (or maybe it is doing something else), see Note 1 above.
* Two pup counts have value: Pups born = total recorded born, Pups weaned = pups born minus the missing, found dead, and euthanized prior to wean.

cc: [~bwinter] [~jmedlock] [~jstrickland]","13/Jul/18 8:14 AM;rwilliams;[~cleduc]

I've been doing a little more looking into this issue. I am seeing 2 issues so far.

* 1. We need to change the way that the application (web and iOS) handles the deletion of a litter. I think we need to write this up as its own ticket. I don't know how often this happens, but when it does it will potentially throw off counts and mice will get lost in cages (if the mice were not weaned prior to the deletion of the litter). The mice are still able to be found in the mouse list, but not in the cages. Possible options for what happens when a litter is deleted:
** Delete all of the associated pups
** Mark dead all of the associated pups
** Disassociate all of the associated pups from the litter (we have logic in the cage card view that only shows weaned pups if they are associated with a litter, if they are not associated with a litter we show them)
** I don't think this is a good option, but we leave the pups associated with the litter, but mark them all as weaned. That way they would show up in the cage.
** Another possibly silly option would be to only allow the litter to be deleted is if NO pups have been generated OR if the litter as a whole has been weaned (all alive pups are weaned).
* 2. We have logic that is applied to which mice show in a cage on the cage card view, however we do not have that same logic applied to the mice counts that are displayed on the dashboard page. I am correcting this issue with this ticket. I have also shared the logic with [~jstrickland] for the iOS side (I'm not sure if the iOS needs any changes to be made).

cc: [~bwinter] [~jmedlock]","13/Jul/18 8:53 AM;cleduc;[~rwilliams] [~jmedlock] Agree on the ticket writing and thank you for making things consistent. Once they are consistent we can train users how to find the count they need. 

On the ticket: My inclination is to keep the user from doing this. Our users struggle with understanding the difference between a record and a physical mouse.
How about this:
When a user attempts to delete a litter they are prompted with a selection something like:
What would you like to do with the pups:
* Delete the record of this litter and delete associated pup records and resulting empty cages
* Keep the record of this litter and mark all pups as dead, deleting the resulting empty cages
* Delete the record of this litter and reassign pups to new cages (I have no idea why this would happen though)
I'm sure I missed things here. I'll review further. ","14/Jul/18 12:00 PM;rwilliams;[~cleduc] I agree with you for the most part. I personally don't think we need to give them the option to move the mice to other cages simply because its adds complexity to the simple process of deleting the litter especially if you don't see that as a normal choice. I agree with making the options very clear. We can even add something like ""If you choose to delete the pups, this will remove them completely from the history of your colony, as opposed to if you choose to mark the pups as dead, Colony will retain the information on these pups as part of the history of your colony."" Who ever works on the ticket will need to be cautious when it comes to deleting the cage. What I mean by that is that they will need to make sure that the cage is empty before deleting it. I could see it where the mom is still in the cage with the pups and deleting the litter and the pups shouldn't delete the mom, so in a case like this we shouldn't delete the cage either. I add that more as a note to the developer that picks up this new ticket.","18/Jul/18 4:18 PM;bwinter;[~cleduc], [~rwilliams], after thinking about this problem and doing some research, I realized that the following table might be helpful in summarizing what should happen.  What do you think?

h1. Inputs at Issue

I see that the inputs at issue are 

* Pups at birth ( 0 or more than 0)
* Number of offspring (0 if no records generated, some count otherwise)
* At least one offspring in a breeding? (yes or no)

h1. Actions to Take

From the table below, I see 3 possible actions:

# Do not allow user to delete litter record
# Notify user that litter has offspring records, and those need to be deleted first. Give user screen to delete all. 
# Delete litter record - no consequence


h1. Table of Inputs and Actions

|| Pups at birth || Number of offspring || At least one offspring in a breeding? || Action to take ||
| 1 or more | 1 or more | Yes | Do not allow user to delete litter record |
| 1 or more | 1 or more | No | Notify user that litter has offspring records, and those need to be deleted first. Give user screen to delete all. |
| 1 or more | {color:#f691b2}0{color} | {color:#f691b2}Yes{color} | Do not allow user to delete litter record |
| 1 or more | 0 | No | Delete litter record - no consequence |
| {color:#f79232}0{color} | {color:#f79232}1 or more{color} | Yes | Do not allow user to delete litter record |
| {color:#f79232}0{color} | {color:#f79232}1 or more{color} | No | Notify user that litter has offspring records, and those need to be deleted first. Give user screen to delete all. |
| 0 | {color:#f691b2}0{color} | {color:#f691b2}Yes{color} | Do not allow user to delete litter record |
| 0 | 0 | No | Delete litter record - no consequence |


h1. Notes

* {color:#f79232}Pups at birth can be 0 and offspring more than zero if user selects, say 5 pups at birth when creating litter, then takes action that creates offspring records, then edits litter count at birth to 0 and saves.{color}
* {color:#f691b2}Offspring can be 0 and in a breeding if user deletes mouse through inactive litter card after adding them to a breeding.
{color}

h1. More details on Inputs

* Pups at birth -> entered when
** (web + iOS) adding litter to breeding (default = 0)
** (web + iOS) editing a litter
* Number of offspring -> created when
** (web + iOS) litters > select litter > 3-dot > biopsying a litter
** (iOS) litters > select litter > 3-dot > ID'ing a litter
** (web + iOS) litters > select litter > 3-dot > weaning a litter
** (web + iOS) *edit* litter > enter a date for the ID, Biopsy, or wean date AND save
** (web) select breeding > select litter > taken to litter workbench
** (iOS) litters > select litter > 3-dot > edit offspring, add genotypes, add pup, add found dead or missing
* At least one offspring in a breeding? (yes or no)
** Add a offspring to a breeding
** Offspring must be created to add to a breeding
** Can breeders be deleted from a breeding?
*** Cannot delete from Breedings > select breeding > parents tab > breeder 3-dot menu
*** Cannot delete from Cage > mouse 3-dot menu
*** {color:#d04437}Can be deleted from _inactive_ Litter card if broken heart{color}
","18/Jul/18 4:33 PM;rwilliams;[~bwinter] I really like where you are going and I need to sit and read through it all, however, I just wanted to mention this: in code, PupCountAtBirth means nothing once mice are generated. Once a litter has offspring, then we shouldn't consider the PupCountAtBirth any longer. I would add, that if a litter has no offspring, regardless of how many pups at birth, then deleting the litter is fine. This disagrees with your suggestion in your table, but in this case there have been no mice generated and therefore there is no reason to be concerned about deleting the litter.

Question regarding your table, 2nd row, 3rd column - ""At least one offspring in a breeding?"", what does ""no"" mean there? In fact, what does breeding have to do with this conversation?","18/Jul/18 4:42 PM;bwinter;[~rwilliams] Great point! After thinking about your column, I noticed that that first column for pups at birth is actually redundant anyway.  If you remove it, the action to take remains the same.  The action to take is really dependent on number of offspring and whether at least one of them is in a breeding.","18/Jul/18 5:06 PM;rwilliams;[~bwinter] So I am not sure why you thought to bring breedings into this discussion, but I think I understand your concern. Basically we may not be able to just ""delete all mice in the litter"" because some of these mice may be employed in other tasks in the Colony. Wow. There is so much to think about!! But, based on this thought I say we allow any litter to be deleted if 1) it has no offspring, or 2) if all of it's offspring are dead, deleted or transferred. Therefore, if they really really want to delete a litter, and if there are offspring, then the user has to go through the system and find the offspring and delete them where they are. Let the rules for deletion of the mouse be employed in the context of the the mouse instead of in the context of the litter. Basically we can let the user click the delete button on any litter, but if there are any offspring that is not deleted, dead or transferred, then we tell the user that the litter cannot be deleted until all of it's offspring have been deleted, marked dead or transferred. If there are no offspring, or if they are all deleted, marked dead or transferred, then we go ahead and delete the litter. That makes this nice and simple. I almost feel like we should take out the ""marked dead"" option and I think that all mice should be deleted or transferred. If they are marked dead but they are tied to a litter, I would think that we would want the history, the data, that the mouse was tied to that litter. But, honestly, we aren't really hard deleting anything so the deleted mouse and the deleted litter would still be there in the system, but just not seen by the user.
CC: [~cleduc]","18/Jul/18 5:19 PM;cleduc;[~rwilliams][~bwinter] - I want to make them go delete the pups if they want to delete the litter or the breeding. Marking dead and transferred still means they were real, and alive. If creation of the litter or breeding was an error, they need to go through the trouble of deleting the animals associated and recreating the correct litter or breeding, creating new pups in those and doing whatever they need to to make those animals correct. 
They can delete but they need to delete associated animals. I'm OK with that. 
The only short cut they will want is to reattach to a different litter or breeding but we can get fancy later. ","23/Jul/18 11:44 AM;bwinter;[~rwilliams] and [~cleduc], I am agreement with both of you, and I was trying to capture those ideas in a truth table in my comment from last week (July 19):

User wants to delete litter 
* if no offspring ever created, then let them delete litter record
* if offspring created, then check for offspring in a breeding
** if no offspring in a breeding, then ask them what to do with offspring of the litter
** if at least one offspring in a breeding, then do not allow deletion of record","23/Jul/18 11:52 AM;rwilliams;[~bwinter] [~cleduc]  To keep this simple I still say that we make the user go and delete the mice associated with the litter before they can delete the litter. This keeps the delete litter process nice and simple.  
","23/Jul/18 11:55 AM;cleduc;[~bwinter][~rwilliams] Agree. To delete this litter record, you must first delete the animals associated. ...or something like that..",25/Jul/18 4:16 PM;bwinter;[~rwilliams] is this ticket testable in QA?,"25/Jul/18 7:08 PM;rwilliams;[~bwinter]  Testing May be difficult because we have data issues. I.e. live unweaned mice that belong to deleted litters. We need another ticket to fix the delete litter functionality and we need to take a little time to “fix” the bad data by either undeleting the litter or deleting mice of a deleted litter (ha).  
","31/Jul/18 9:05 AM;bwinter;[~rwilliams], thank you for talking to me about this ticket yesterday.  Can you take a second and let me know if I have everything written correctly?

*Here are the testable fixes for this ticket*

* {color:#205081}IF{color} (_litter IS NOT weaned_ AND _litter IS NOT deleted_) {color:#205081}THEN{color} (_display mice from that litter in cage_ AND _count them toward mice in cage count_).
* {color:#205081}IF{color}  (_mouse is in a cage_) AND (_mouse IS NOT associated with a litter_ OR _mouse HAS a wean date) {color:#205081}THEN{color} (_display mouse in cage_ AND _count them toward mice in cage count_).

*Here are other issues related to this ticket.*

* Verify that these changes addressed (at least some of the) issues in Wilkerson Lab in *Staging* as described in Description.
* Create story to address when litters are allowed to be deleted AND what should happen with associated mice records after litter is deleted.
* Create a task to manually un-delete litters or deleting mice of deleted litter <- {color:#f79232}may not do since Wilkerson Lab is in Staging and not Production{color}

CC: [~cleduc]","31/Jul/18 4:35 PM;rwilliams;[~bwinter]
Display a litter in the cage => IncludeLitterInCageView => !this.DateWeaned.HasValue && !this.DateDeleted.HasValue;
Display a mouse in the cage => IncludeMouseInCageView => this.WeanDate.HasValue || !this.LitterId.HasValue;
* This is also used to ""fix"" the count of mice in cages on the dashboard

My comment on your comment ""Create a task to manually un-delete litters or deleting mice of deleted litter""
* This issue affects all environments for customers who have deleted litters with generated mice. We will need to discuss how to deal with this issue because right now there is a possibility that some counts are off because of the data. We can discuss this as part of the ticket that fixes deleting litters.","01/Aug/18 3:22 PM;rwilliams;[~bwinter] [~cleduc] Based on Bryan's recent testing we found that the application is deleting pups on a litter when the litter is deleted. I verified in the code that the ""delete litter"" menu option on both 1) a litter in a cage card and 2) the litter in the litter card are calling the same code on the server side (LitterController.DeleteLitter) and that code cascades the delete to the mice in the pup. In fact, it also marks litter parents deleted and the offspring settings as well. Now, are there any other places in the application that you can think of where a litter can be deleted? Ohhhhh, one place is likely the iOS app. We need to check that...

I just checked in with [~jstrickland] with regard to the iOS and he says that the iOS application works the same way as far as cascading the delete to the mice, parents and offspring settings. So this relly leaves me scratching my head. Maybe we are looking at old data, but I won't know until I look at it again.

Last note, none of these delete litter functions throws up a warning to the user about deleting the pups, it just does it!

One more note: The more you know... I just ran a query in staging for the Wilkerson lab to look at litters that were deleted with mice that weren't deleted. After looking at the data like this I can see that these litters were deleted outside of the application, probably because of bad data. So all of this around deleted litters with no deleted mice and it appears that probably picked a poor data set to do our initial investigation on. I also ran this query on production to see if there were any deleted litters with non-deleted pups and there are ZERO cases. I attached an image of the data from Staging where you can see that these litters all show a deleted date of '2000-01-01 00:00:00.000'.

[~bwinter] Based on that last bit of information we may have totally fixed the count issues, however, to really know that we probably need to look at a better set of data. If you want to stick with this data, why don't you let me mark all of these pups as deleted and then let's check it again.

 !bad data in staging for this lab.png|thumbnail! 

Here is my SQL:

{code:sql}
SELECT m.Name Mouse, m.DateDeleted MouseDeleted, m.TransferDate, m.DeathDate, m.WeanDate, l.Name Litter, l.DateDeleted LitterDeleted, c.Name, rm.RoomName, rk.RackName, c.RackIndex Position, *
FROM Mice m
	JOIN Litters l ON m.LitterId = l.LitterId
	JOIN Cages c ON m.CageId = c.CageId
	JOIN Racks rk ON c.RackId = rk.RackId
	JOIN Rooms rm ON rk.RoomId = rm.RoomId
--WHERE m.GroupId = '7b5a3b72-5fe4-49f5-9518-c73f791b7bdb'
	AND l.DateDeleted IS NOT NULL
	AND m.DateDeleted IS NULL
ORDER BY l.Name, m.Name
{code}
","02/Aug/18 10:21 AM;bwinter;Thanks, [~rwilliams]!  Thank you for the fixes you made on concerning this bug of mice-per-cage counts not matching between the dashboard bar graph and the Cage Map filter.  

One problem with this ticket is its poor description, which is 100% my fault.  I updated the description today to better describe the problem and how to recreate it.  I also included a screenshot that uses {color:#d04437}red{color} to point out the problem, {color:#f79232}orange{color} to talk about supporting evidence, and {color:#14892c}green{color} to signify what parts passed from you comments on July 31st.

The Mice-per-cage filter on the cage map does not count unweaned mice deleted when a litter is deleted.  However, the bar chart still does.  I think this is one of the remaining issues.  Let me know if you disagree.","02/Aug/18 11:37 AM;bwinter;[~rwilliams], I am assigning this ticket back to you so that we can find the fix for the last remaining item on it.  I decided not to put a rework on it, since the description did not include steps to reproduce the bug and since the description was not clear what bug needed to be fixed.  But the description has been updated with steps to recreate the bug for the remaining item.

CC: [~jcox], [~cleduc]","02/Aug/18 11:38 AM;bwinter;[~cleduc], [~jcox], [~rwilliams] note that this ticket is in UNPLANNED release.  I am not sure why.","02/Aug/18 1:41 PM;bwinter;[~cleduc] commented me on Teams, so I moved this ticket to Colony 1.2.",02/Aug/18 2:17 PM;rwilliams;[~bwinter] [~cleduc] This cage count ticket is fixed. It was a simple fix that only changes the way that the dashboard calculates it numbers.,02/Aug/18 2:20 PM;bwinter;[~rwilliams]  YAY! SWEET! 
Breeders can be moved from Breeding Wizard when breeding has exactly one litter,COMA-2626,29355,24332,Rework,Production,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,bwinter,bwinter,25/Jun/18 3:14 PM,17/Jul/18 2:22 PM,27/Aug/18 11:00 AM,12/Jul/18 9:09 AM,,CM - Release 1.2,,,0,,,,,"h1. What happened:

# Select a breeding with exactly one litter
# Edit breeding to get to Breeding Wizard
# Step 2 allows user to remove breeder from breeding <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

I expected that no breedings with 1 or more litters would be allow to remove parents from breeding via the Breeding Wizard.",,,,;12/Jul/18 8:45 AM;jjensen;3600,;12/Jul/18 9:09 AM;bwinter;600,,,,,,,,0,4200,,,0,4200,,COMA-1889,,,,,,11/Jul/18 4:27 PM;bwinter;PASSED - Breedings with one litter will not allow breeders to be removed in Edit Breedings Wizard - 2018-07-11 16_25_47-.png;https://transnetyx.atlassian.net/secure/attachment/27129/PASSED+-+Breedings+with+one+litter+will+not+allow+breeders+to+be+removed+in+Edit+Breedings+Wizard+-+2018-07-11+16_25_47-.png,25/Jun/18 3:17 PM;bwinter;REWORK - Breeders can be removed from breeding with exactly one breeding - 2018-06-25 15_14_50-.png;https://transnetyx.atlassian.net/secure/attachment/27076/REWORK+-+Breeders+can+be+removed+from+breeding+with+exactly+one+breeding+-+2018-06-25+15_14_50-.png,10/Jul/18 11:35 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27116/image001.png,11/Jul/18 10:01 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27119/image001.png,12/Jul/18 8:48 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27138/image001.png,10/Jul/18 11:35 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27117/image003.png,11/Jul/18 10:01 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27120/image003.png,12/Jul/18 8:48 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27139/image003.png,,,,,,,,,,jcox,jjensen,{},,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,,,0|i00yfz:,,,,,,,,YX Connect,2018-07-10 16:35:29.308,09/Jul/18 1:28 PM;bwinter;[~jjensen] this is the rework we were just discussing today.,"10/Jul/18 11:35 AM;jjensen;Bryan, the code changes I made should work.  I need to get with you and have you show me the breeders and the single litter which cause this to fail.


From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Bryan Winter (Jira)
Sent: Monday, July 9, 2018 1:29 PM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] (COMA-2626) Breeders can be moved from Breeding Wizard when breeding has exactly one litter

[https://avatar-cdn.atlassian.com/302a117f5a1a7626af090e7d2ae5ef77?s=48&d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2F302a117f5a1a7626af090e7d2ae5ef77%3Fd%3Dmm%26s%3D48%26noRedirect%3Dtrue]

Bryan Winter<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=bwinter> commented on [Rework] COMA-2626<https://transnetyx.atlassian.net/browse/COMA-2626>




Re: Breeders can be moved from Breeding Wizard when breeding has exactly one litter<https://transnetyx.atlassian.net/browse/COMA-2626>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen> this is the rework we were just discussing today.


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","11/Jul/18 10:01 AM;jjensen;Bryan:

For Breeding 41, the litter associated with the parents is marked as Inactive via the logic in the Litters business object.  Here is what it does.  A litter is considered inactive when:

  1.  The DeletedDate is null, and
  2.  The WeanedDate is null and
  3.  There is at least one surviving mouse or pup.

Breeding 41’s parents were associated with a litter that had the WeanedDate set.  As such, it was marked ‘Inactive’ and thus the parents had no ‘active’ litters.

I think the rest of the breedings you tested will show one of the three tests listed above as false.

So, the question is this:  Is the current method of determining the active status of a litter accurate?

I spoke briefly with other devs and it seems that there may be an issue with the WeanedDate.  Specifically, we were unsure if the WeanedDate on a litter was an accurate representation of the pups’ actual weaned status, or perhaps the check should be with the WeanedDate on each individual mouse in the litter.

I am leaning toward checking each mouse, but I don’t have or cannot find any pre-existing code which determines a litter’s status based on weaned information.

Also, this is the only item holding up the code release.

I look forward to your judgement on this issue.


From: Jim Jensen
Sent: Tuesday, July 10, 2018 11:35 AM
To: Bryan Winter (Jira) <jira@transnetyx.atlassian.net>
Subject: RE: [JIRA] (COMA-2626) Breeders can be moved from Breeding Wizard when breeding has exactly one litter

Bryan, the code changes I made should work.  I need to get with you and have you show me the breeders and the single litter which cause this to fail.


From: jira@mail-us.atlassian.net<mailto:jira@mail-us.atlassian.net> <jira@mail-us.atlassian.net<mailto:jira@mail-us.atlassian.net>> On Behalf Of Bryan Winter (Jira)
Sent: Monday, July 9, 2018 1:29 PM
To: Jim Jensen <jjensen@transnetyx.com<mailto:jjensen@transnetyx.com>>
Subject: [JIRA] (COMA-2626) Breeders can be moved from Breeding Wizard when breeding has exactly one litter

[https://avatar-cdn.atlassian.com/302a117f5a1a7626af090e7d2ae5ef77?s=48&d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2F302a117f5a1a7626af090e7d2ae5ef77%3Fd%3Dmm%26s%3D48%26noRedirect%3Dtrue]

Bryan Winter<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=bwinter> commented on [Rework] COMA-2626<https://transnetyx.atlassian.net/browse/COMA-2626>




Re: Breeders can be moved from Breeding Wizard when breeding has exactly one litter<https://transnetyx.atlassian.net/browse/COMA-2626>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen> this is the rework we were just discussing today.


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","11/Jul/18 4:19 PM;bwinter;[~jjensen] Can you update the status of this rework for COMA-1889, so that I can move the status to QA?","12/Jul/18 8:48 AM;jjensen;The status of the ticket is now in QA.

From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Bryan Winter (Jira)
Sent: Wednesday, July 11, 2018 4:20 PM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] (COMA-2626) Breeders can be moved from Breeding Wizard when breeding has exactly one litter

[https://avatar-cdn.atlassian.com/302a117f5a1a7626af090e7d2ae5ef77?s=48&d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2F302a117f5a1a7626af090e7d2ae5ef77%3Fd%3Dmm%26s%3D48%26noRedirect%3Dtrue]

Bryan Winter<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=bwinter> commented on [Rework] COMA-2626<https://transnetyx.atlassian.net/browse/COMA-2626>




Re: Breeders can be moved from Breeding Wizard when breeding has exactly one litter<https://transnetyx.atlassian.net/browse/COMA-2626>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen> Can you update the status of this rework for [https://transnetyx.atlassian.net/secure/viewavatar?size=xsmall&avatarId=12337&avatarType=issuetype] COMA-1889 <https://transnetyx.atlassian.net/browse/COMA-1889> QA , so that I can move the status to QA?


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
",,,,,,,,,,,,,,,,,,,,,
AddMiceToCage throws 405 error,COMA-2621,29350,28271,Rework,Production,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,bwinter,bwinter,25/Jun/18 11:16 AM,17/Jul/18 2:22 PM,27/Aug/18 11:00 AM,08/Jul/18 10:36 PM,,CM - Release 1.2,,,0,,,,,"h1. What happened:

# Cages > Select empty cage > Click *Add Existing Mice*
# Checked some mice to add to cage > Save
# AddMiceToCage methods throws 405 error <- UNEXPECTED

h1. What I expected to happen:

I expected that clicking Save allowed me to add existing mice to the cage I selected.",,,,;02/Jul/18 4:23 PM;jadhikari;14400,;08/Jul/18 10:36 PM;bwinter;600,,,,,,,,0,15000,,,0,15000,,COMA-2064,,,,,,08/Jul/18 10:40 PM;bwinter;PASSED - AddMiceToCage no longer throws 405 error - 2018-07-08 22_37_35-.png;https://transnetyx.atlassian.net/secure/attachment/27092/PASSED+-+AddMiceToCage+no+longer+throws+405+error+-+2018-07-08+22_37_35-.png,25/Jun/18 11:16 AM;bwinter;REWORK - AddMiceToCage throws 405 error - 2018-06-25 11_11_59-.png;https://transnetyx.atlassian.net/secure/attachment/27061/REWORK+-+AddMiceToCage+throws+405+error+-+2018-06-25+11_11_59-.png,,,,,,,,,,,,,,,,,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-06T14:34:51.176-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,,,,Unassigned,jmedlock,bwinter,0|i00yev:,,,,,,,,YX Connect,,25/Jun/18 11:17 AM;bwinter;[~jadhikari] Just wanted to give you a heads up that AddMiceToCage throws a 405 error when trying to add mice to existing cage.  ,,,,,,,,,,,,,,,,,,,,,,,,,
Gene Cards are blank in Chrome,COMA-2613,29314,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,14/Jun/18 4:39 PM,19/Jul/18 4:58 PM,27/Aug/18 11:00 AM,17/Jul/18 8:40 PM,,CM - Release 1.2,,,0,,,,,"h1. What happened:

# Not sure what I was doing
# Gene Cards in Strain Dashboard are blank for all strains in *Chrome 67.0.3396.87* (Official Build) (64-bit) <- {color:red}UNEXPECTED{color}
# See screenshots

h1. What I expected to happen:

I expect the Gene Cards to never be blank.

h1. Note to DEV

* Note that in the attached screenshots, there was some tinkering around with checking/unchecking {{overflow-y}} style element for{{ .gene-card-bdy.view}} in {{GeneCardStyles.CSS}}, but as you may know, this may not fix the whole issue, because that will have other consequences (e.g., see attached {{{color:#205081}BEWARE - Unchecking overflow-y has CONSEQUENCES - 2018-06-18 11_17_32-.png{color}}}).
* Note that for Chrome, the Gene Cards also appear and disappear based on Zoom.  
** Any presets above 100% is blank.  
** 100% is okay
** 90% is blank
** 75%, 80% is okay
** Any presets below 67% is blank

",,,,;17/Jul/18 12:29 PM;rwilliams;10800,;17/Jul/18 12:44 PM;rwilliams;300,[~cleduc] tested this;17/Jul/18 8:40 PM;rwilliams;3600,;17/Jul/18 8:40 PM;rwilliams;300,;17/Jul/18 8:40 PM;rwilliams;300,,,,,0,15300,,,0,15300,,,,,,,,18/Jun/18 11:25 AM;bwinter;BEWARE - Unchecking overflow-y has CONSEQUENCES - 2018-06-18 11_17_32-.png;https://transnetyx.atlassian.net/secure/attachment/27028/BEWARE+-+Unchecking+overflow-y+has+CONSEQUENCES+-+2018-06-18+11_17_32-.png,14/Jun/18 4:32 PM;bwinter;BUG - Gene Cards are blank in Chrome - cell width in Chrome not the same as FireFox2018-06-13 13_43_03-.png;https://transnetyx.atlassian.net/secure/attachment/27019/BUG+-+Gene+Cards+are+blank+in+Chrome+-+cell+width+in+Chrome+not+the+same+as+FireFox2018-06-13+13_43_03-.png,14/Jun/18 4:39 PM;bwinter;BUG - Gene Cards blank in Chrome - overflow-y style element in gene-card-bdy view is CHECKED - 2018-06-13 13_43_45-.png;https://transnetyx.atlassian.net/secure/attachment/27018/BUG+-+Gene+Cards+blank+in+Chrome+-+overflow-y+style+element+in+gene-card-bdy+view+is+CHECKED+-+2018-06-13+13_43_45-.png,14/Jun/18 4:39 PM;bwinter;NOTE - Gene Cards no longer blank when overflow-y style element of gene-card-bdy.view is UNCHECED - 2018-06-13 13_44_01-.png;https://transnetyx.atlassian.net/secure/attachment/27017/NOTE+-+Gene+Cards+no+longer+blank+when+overflow-y+style+element+of+gene-card-bdy.view+is+UNCHECED+-+2018-06-13+13_44_01-.png,,,,,,,,,,,,,,bwinter,jcox,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-17T12:46:17.196-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,cleduc,0|i00y73:,,,,,,New Product/Feature,,YX Connect,2018-06-19 13:55:58.955,"14/Jun/18 4:42 PM;bwinter;[~jmedlock], [~admin], [~rwilliams] and I stumbled across what might be causing the Gene Cards to go blank in Chrome.  See screenshot below.

 !BUG - Gene Cards are blank in Chrome - cell width in Chrome not the same as FireFox2018-06-13 13_43_03-.png|thumbnail! 

 !NOTE - Gene Cards no longer blank when overflow-y style element of gene-card-bdy.view is UNCHECED - 2018-06-13 13_44_01-.png|thumbnail! 

Given how much the lab-side may the Gene Cards to determine number of mice with particular genotype, this ticket might be a higher priority if it is a quick fix.

[~cleduc], [~jcox], I have placed this ticket in Unplanned at the moment, but raised its priority to Important.","19/Jun/18 8:45 AM;bwinter;[~jmedlock], would you mind testing something on your machine?  Does resizing your browser zoom change whether or not you can see the Gene Card info.  I stumbled across it yesterday and noticed noticed that I can see (not see) the Gene Cards for these Zoom percentages:

* Any presets above 100% is *blank*
* 100% is visible
* 90% is *blank*
* 75%, 80% is visible
* Any presets below 67% is *blank*

CC: [~cleduc], [~jcox], [~admin]",19/Jun/18 8:55 AM;cleduc;[~bwinter] I tried resizing and can't reproduce this in QA or production but might be in the wrong instance?,"19/Jun/18 9:07 AM;bwinter;[~cleduc], yeah, this is a pernicious bug.  It doesn't happen to everyone.  And we don't know why yet.","20/Jun/18 2:26 PM;admin;[~jjensen] [~cleduc]

In addition to the weirdness described above, there are other instances where a gene card will simply not show up (inconsistent between page loads). Lets approach this with an eye to making sure that the gene cards are 100% visible any time they are present.","20/Jun/18 4:37 PM;jjensen;[~admin], [~bwinter]  Okay, so when I change the zoom in the browser to 90%, for example, the cards all show blank.  But, a refresh with F5 brings all the data back.  A quick look through the interwebs shows that Chrome has had several font and display-related issues with text and borders as far back as version 34 and up until the present.  

I believe the zooming issue belongs to the Chrome development team, is outside of our scope, and can be resolved with an F5 redraw.  In other words, a non-issue.

The missing gene cards may have some relationship to css attributes, but I doubt this, and I have yet not been able to see this in action.  Ergo, I cannot do much about that ""problem"" if it cannot be reproduced.  Nonetheless, I will keep trying.

[~cleduc], Finally, there was a sense that this issue is related to a problem found at UCLA when attempting to select mutations in a drop-down list for a new strain that do not appear.  This is a completely different problem.  If there is a ticket which addresses the missing mutations in the drop-down list, please let me know.",20/Jun/18 5:17 PM;cleduc;[~jjensen] [~admin] I think Chris felt these were related and so tacked on to here. I can make a new ticket or you can. I have only the feedback sent in the email.  Thank you so much for researching it!,"25/Jun/18 7:48 AM;bwinter;[~jjensen], [~cleduc], [~jmedlock] I am cancelling this ticket since the exact problem cannot be found (nor fixed) AND because there is a work around of zooming in or out.  This gene card issue will likely get fixed when we re-write the Strain Dashboard.","17/Jul/18 4:09 PM;cleduc;[~rwilliams] I tested adding things and zooming in and out, created a new strain, gene mutation etc. and all was well. I am fine to release this because although I won't be sure until it reaches production it certainly it fixes the issue, it doesn't seem to have had a detrimental effect!",17/Jul/18 8:40 PM;rwilliams;[~cleduc] tested this,19/Jul/18 4:58 PM;bwinter;FUTURE REFERENCE: This ticket was part of a hotfix release to fix the gene cards.  [~cleduc] tested.  The ticket was originally cancelled then re-opened then fixed.,,,,,,,,,,,,,,,
Include Breeding Offspring Strain when filtering cages by strain,COMA-2542,29145,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,tposchel,tposchel,18/Apr/18 9:38 AM,12/Jul/18 10:07 AM,27/Aug/18 11:00 AM,12/Jul/18 10:07 AM,,CM - Release 1.2,,,0,,,,,"Currently, when filtering cages by strain, only mice and litters are included in the search. We would like to add the ability to show cages whose breeders are producing an offspring strain other than their own strains. If a litter exists in the cage then the cage will be returned by the filter, but if no litter is present, then the filter will not show the cage.

Example: Male breeder is Strain 1. Female breeder is Strain 2. Breeding.OffspringStrain is Strain 3. Both mice are in the same cage (cage ABC). When filtering cages by ""Strain 3"", ""Cage ABC"" will NOT be returned in the results. After a litter is added to cage ABC, then the cage will be included in the filter results.

Note: I've attached some images from a production account (Levine, Michael at UCLA). They have several breedings with offspring strain of ""(Line 31000..."". 2 of these breedings do not have any litters yet and they are unable to find them when filtering cages. The iOS app had the same issue but has recently added that query when filtering cages by strain. See CMI-261.

*Logic from iOS (pseudo code because the actual code is harder to read because it is very specific to the data storage on iOS)*
When filtering cages by Strains (\[theStrainIds\])
* Include cages that have an associated litter with that strain (where any cage.litters.offspringstrainid IN \[theStrainIds\])
* Include cages that have an associated mouse with that strain (where any cage.mice.strainid IN \[theStrainIds\])
* Include cages that have an associated breeding with that strain (where any cage.mice.breedingParents.breeding.offspringstrainId IN \[theStrainIds\]).
** The iOS app does not currently exclude INACTIVE breedings because we couldn't figure out how to do it. However, it seems unlikely that a breeder would be in multiple breedings of different offspring strains AND it is not common to keep a breeder alive after they are retired. Generally they are euthanized after being retired. 

h2. *+Web Implementation Note:+*
Per instruction above the web DOES NOT exclude Inactive breedings either, *BUT* if needed or wanted, the web can only filter on Active breeding offspring strains.
",,,,;19/Apr/18 5:00 PM;rjonakin;28800,;23/Apr/18 3:28 PM;admin;600,;24/Apr/18 7:33 PM;bwinter;1800,;12/Jul/18 10:07 AM;rwilliams;300,,,,,,0,31500,,,0,31500,,,,,,,,24/Apr/18 7:33 PM;bwinter;PASSED - Filtering on offspring strain WITH LITTER IN CAGE includes cage in filtered results - 2018-04-24 19_24_11-.png;https://transnetyx.atlassian.net/secure/attachment/26803/PASSED+-+Filtering+on+offspring+strain+WITH+LITTER+IN+CAGE+includes+cage+in+filtered+results+-+2018-04-24+19_24_11-.png,24/Apr/18 7:33 PM;bwinter;PASSED - Filtering on offspring strain WITHOUT LITTER IN CAGE includes cage in filtered results - 2018-04-24 19_30_38-.png;https://transnetyx.atlassian.net/secure/attachment/26804/PASSED+-+Filtering+on+offspring+strain+WITHOUT+LITTER+IN+CAGE+includes+cage+in+filtered+results+-+2018-04-24+19_30_38-.png,18/Apr/18 9:35 AM;tposchel;Prod_Levine_BreedersFrom31011_InACage.png;https://transnetyx.atlassian.net/secure/attachment/26670/Prod_Levine_BreedersFrom31011_InACage.png,18/Apr/18 9:35 AM;tposchel;Prod_Levine_BreedingStrain_31000.png;https://transnetyx.atlassian.net/secure/attachment/26669/Prod_Levine_BreedingStrain_31000.png,18/Apr/18 9:35 AM;tposchel;Prod_Levine_Missing_Strain_on_CageFilter.png;https://transnetyx.atlassian.net/secure/attachment/26668/Prod_Levine_Missing_Strain_on_CageFilter.png,,,,,,,,,,,,,jcox,rjonakin,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-04-23T15:25:34.701-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00x5b:,,,,,,New Product/Feature,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sync iOS and Web counts,COMA-2424,28943,,Bug,Production,COMA,Colony Manager,software,admin,,,2 Important,Done,jmedlock,rwilliams,rwilliams,08/Mar/18 7:38 AM,12/Jul/18 2:04 PM,27/Aug/18 11:00 AM,10/May/18 3:44 PM,,CM - Release 1.2,CM - Release 1 (MVP),,0,,,,,"Reported by [~jmedlock]:
We still have 2 potential problems with counts of active/alive mice/litters. We almost have this!!!

Staging environment/Bush group

In the web, 326 mice are reported alive on dashboard and list. The counts on the strain cards state 327. iOS states 327. The total mouse count for bush group in staging is 906 (matches iOS list). The database says 906 total. The mouse list in web states with 0 filters, 900 mice.

Staging environment/Sandbox group

The iOS shows Litter 20 has 18 pups, 7 dead, 11 missing. 2 male, 2 female. The male and female mice are marked dead or missing but the iOS counts this litter as active. The web does not. The number of mice dead or missing = the total born, this litter should not be active.
",,fdobjenschi,,;15/Mar/18 1:04 PM;rwilliams;3600,;20/Mar/18 3:20 PM;rwilliams;28800,;21/Mar/18 12:37 PM;bkoch;900,;12/Jul/18 2:04 PM;rwilliams;300,,,,,,0,33600,,,0,33600,,,,,,COMA-2627,,,,,,,,,,,,,,,,,,,rwilliams,rwilliams,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-03-15T13:54:38.783-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,bkoch,,,Unassigned,,jmedlock,0|i00vvr:,,,,,,New Product/Feature,,,2018-03-12 11:42:24.833,"12/Mar/18 6:42 AM;fdobjenschi;[~tposchel][~rwilliams][~jmedlock]
The issue with Litter count from Sandbox group it's fixed now on iOS app.
The first one Bush group seems to be on web ... Can anyone confirm ?",12/Mar/18 8:15 AM;jmedlock;[~fdobjenschi] correct the first one is on the web. I will verify the iOS litter counts. Thanks!,"12/Mar/18 8:17 AM;fdobjenschi;[~jmedlock]
For this i need to push the changes into an new build on staging but i think will be good [~tposchel] to review my changes , this should be quick .",13/Mar/18 3:38 PM;tposchel;[~fdobjenschi] The changes look good from what I can tell. I think we can hold off on the push to staging until we lump a few more changes in.,"14/Mar/18 2:42 AM;fdobjenschi;[~tposchel]
Ok, we will keep it for a next release .",15/Mar/18 1:07 PM;rwilliams;closed by accident,21/Mar/18 12:23 PM;bwinter;[~bkoch] This ticket was released today but is still in PEER REVIEW status.  Is it ready to be sent to QA status?,"21/Mar/18 12:43 PM;bkoch;[~bwinter], yep, just moved it over, looks good.","19/Jun/18 4:33 PM;cleduc;[~bwinter] UCSF sees different counts in dashboard mice in cage graph vs. cage page filter on 6+ mice. 
Do you see this as fixed in staging? 

Here is their recent statement and then the steps. Confirmed this is still an issue. Using the exact same steps I looked at the data for the Wilkerson group and it doesn't match up either. The dashboard is showing 7 cages with 6+ mice, while I could only find 1 on the cage map. My guess would be that cages containing pups over a certain age (21 or 28 days) are throwing the data off from the dashboard. Criteria for what constitutes an adult mouse should be the same on the dashboard and cage map. 

Steps:
from Dashboard, within ""cages"" red box...hold mouse over one of the bars in the ""mice in cage"" graph...I see ""6+ mice (9)""...which I understand to mean I have 9 cages containing 6+ mice. I want to see information about these cages, so I click on the cage tab at the top. Firstly I can only see my cages one rack at a time. So I filter the first rack to see cages containing 6+ mice, and I see one cage come up. i select a second rack...I have to reset the filter for 6+ mice, 0 cages come up. I select my third rack, reset the filter for 6+ mice, and 3 cages come up. Total of cages with 6+ mice=4. Where is the 9 coming from from the dashboard??","25/Jun/18 10:51 AM;bwinter;[~cleduc], Okay.  I see same problems in *Staging > Wilkerson Lab*.  I am not quite sure what is going on.  It looks like possibly several separate issues.  Below is a table of differences and the cages that are being counted differently.  What else would like me to investigate?

CC: [~jmedlock]

h1. Table of Differences in Counts across Cage Graph (in web), iOS Cage Map Filter, and Web Cage Map Filter

|| Mice per Cage || Cage Graph || iOS - Cage Map Filter || Web - Cage Map Filter Count || Cages of Interest ||
| *0 mice*    | 3   | 3   |  3 | |
| *1 mouse* | 36 | 36 | {color:#d04437}*38*{color} | Note 1 |
| *2 mice*    | 30 | 30 | {color:#d04437}*33*{color} | Note 2 |
| *3 mice*    | 22 | 22 | {color:#d04437}*23*{color} | Note 3 |
| *4 mice*    | 21 | 21 | 21 | |
| *5 mice*    | 18 | 18 | 18 | |
| *6+ mice* |   6 |   6 |    {color:#d04437}*0*{color} | Note 4 |

h1. Notes

* *Note 1* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 1 mouse
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *D4*
*** iOS Cage Map filter shows 3 mice in Cage
*** Web Cage Map filter shows 1 mouse in Cage
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B9*
*** iOS Cage Map filter shows 1 breeder with active litter of ten 20-week old, unweaned pups mice in Cage
*** Web Cage Map filter shows 1 retired breeder (broken heart) with active litter of seven 20-week, weaned pups in Cage
* *Note 2* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 2 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B2*
*** iOS Cage Map filter shows 3 mice in Cage
*** Web Cage Map filter shows 2 mice in Cage
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *A5*
*** iOS Cage Map filter shows 6+ mice in Cage
## _Room_ MCB-208 > _*Rack_ 2* > _Position_ *A5*
*** iOS Cage Map filter shows 6+ mice in Cage
* *Note 3* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 3 mice
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *G3*
*** iOS Cage Map filter shows 6+ mice in Cage
* *Note 4* - *_Web - Cage Map Filter_* does NOT count these cages as having 6+ mice
## _Room_ *Unassociated* > _Cage ID_ *2986544*
*** _instead Web - Cage Map Filter only counts this cage as having 3 mice_
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *A5* 
*** Web - Cage Map Filter only counts this cage as having 2 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *E5*
*** Web - Cage Map Filter only counts this cage as having 3 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B9*
*** Web - Cage Map Filter only counts this cage as having 1 mouse
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *A5*
*** Web - Cage Map Filter only counts this cage as having 2 mice
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *G3*
*** Web - Cage Map Filter only counts this cage as having 3 mice
","25/Jun/18 11:50 AM;bwinter;[~cleduc], Heads up: I was talking to [~jmedlock] about this ticket, and he said that Wilkerson group likely has data issues associated with it. ","25/Jun/18 12:40 PM;rwilliams;[~cleduc] [~bwinter] Do we need to assign a dev some time to look into these issues? Also, This ticket was focused on the dashboard counts and the various list views and didn't involve making any changes to the cage counts or the cage map filters/views. I mention that so that you understand that there were no code changes involved with the previous work on this ticket that should have changed these numbers that you are now talking about. I personally think that a new ""bug"" ticket should be created for this work.","25/Jun/18 1:04 PM;cleduc;[~rwilliams][~bwinter][~jmedlock] I think it is a new ""bug"" ticket and a dev's eyes would really help. They could tell us if it is bad data or a bug and then we can also really research to see where we have remaining count issues. ",,,,,,,,,,,,,
Biopsy/Id counts and filters: Dashboard count and list filter when navigating to litters list,COMA-2398,28906,,Story,Production,COMA,Colony Manager,software,admin,,,1 Critical,Done,,jmedlock,jmedlock,27/Feb/18 4:42 PM,12/Jul/18 2:38 PM,27/Aug/18 11:00 AM,12/Jul/18 2:38 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,"_As a user I need the biopsy/ID count on the dashboard and litters list filter to accurate describe what actions have completed on litters_

*Acceptance Criteria*:
* The dashboard biopsy/ID count should not eliminate litters that were weaned and not biopsied
* If all the pups are dead or missing in a litter that needed biopsy, this litter should not be included in the count or show on the filtered list.

NOTES:
The iOS does this already so we need to match what is happening there for ""counts"" consistency.
The user needs to know which actions were performed on a litter at a glance. Currently the web removes litters that were weaned from the active count and so allows users to ""skip"" the biopsy step.
Users should be able to wean and biopsy a litter at any time.

*Dev Notes:*
* Existing logic for biopsy count: Count of litters where (litterIsActive & NotBiopsied & BiopsyNeeded)
** litterIsActive logic: NotDeleted & NotWeaned & HasLivingOffspring
* New logic for biopsy count: Count of litters where (litterNotDeleted & HasLivingOffspring & NotBiopsied & BiopsyNeeded)",,,,;28/Feb/18 4:15 PM;rwilliams;10800,;02/Mar/18 5:20 AM;bkoch;900,;15/Mar/18 8:14 AM;bwinter;60,;12/Jul/18 2:38 PM;rwilliams;300,,,,,14400,0,12060,83%,14400,0,12060,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-12T15:44:51.671-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,bkoch,,,Unassigned,jmedlock,jmedlock,0|i00vlz:,,,,,,New Product/Feature,,,2018-03-15 03:17:43.085,27/Feb/18 4:43 PM;jmedlock;[~jcox] sneaking in 1 small change and assigning to Rich so we can finish getting dashboard and list counts consistent across the web and iOS.,14/Mar/18 10:17 PM;bwinter;[~jmedlock] This ticket was set for Colony 1.2 but is now in the Colony 1.1 code base.  Is it one that you already QA'ed?,15/Mar/18 6:45 AM;jmedlock;[~bwinter] yes it has been QAed. But it is moving before 1.1 it is already in staging.,"22/May/18 10:54 AM;cleduc;If done, great, if not, move to 1.3.",,,,,,,,,,,,,,,,,,,,,,
Display age in weeks when older than 28 days for Dashboard Bar Chart Tooltips,COMA-2393,28894,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,26/Feb/18 11:31 AM,16/Jul/18 4:49 PM,27/Aug/18 11:00 AM,16/Jul/18 4:49 PM,,CM - Release 1.2,,,0,,,,,"_As a user, I want to see *bar chart tooltips'* mouse age, litter age, and breeding time (""age"") in days until the 29 day, then from 29 days and beyond, I want to see them in weeks, so that I see age in terms of how we normally talk about them when managing the colony._

+Acceptance Criteria+:
* The Tooltips that display over bar charts on the Dashboard display time in weeks once they represent an item over 28 days in age.
 !barcharttooltip.JPG|thumbnail! ",,,,;22/May/18 9:35 AM;jjensen;28800,;27/Jun/18 6:08 PM;rjonakin;1800,;08/Jul/18 10:20 PM;bwinter;900,,,,,,28800,0,31500,109%,28800,0,31500,,,,,,,,08/Jul/18 10:20 PM;bwinter;PASSED - Breeding Panel - tool tips - 2018-07-08 22_15_04-.png;https://transnetyx.atlassian.net/secure/attachment/27091/PASSED+-+Breeding+Panel+-+tool+tips+-+2018-07-08+22_15_04-.png,08/Jul/18 10:20 PM;bwinter;PASSED - Mice Panel - tool tips - 2018-07-08 22_15_04-.png;https://transnetyx.atlassian.net/secure/attachment/27090/PASSED+-+Mice+Panel+-+tool+tips+-+2018-07-08+22_15_04-.png,26/Feb/18 11:29 AM;jcox;barcharttooltip.JPG;https://transnetyx.atlassian.net/secure/attachment/26024/barcharttooltip.JPG,,,,,,,,,,,,,,,jcox,jjensen,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-06T14:39:26.085-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rjonakin,,,Unassigned,,bwinter,0|i00vjb:,,,,,,New Product/Feature,,,2018-05-21 19:17:21.213,"21/May/18 2:17 PM;jjensen;[~cleduc] and I spoke about the details in this story and a few changes were made.  First, since Litters should not age beyond 28 days, the current 5-day groupings were left untouched.  Second, we thought it best to have the first aging label for Mice and Breedings to say ""0-27 days"".  The next categories would then say ""4-7 weeks"", ""8-11 weeks"", ""12-15 weeks"", and finally ""16+ weeks"".  The function which breaks these numbers down-{{ColonyManager.Core.Business.GroupService.GetDashboardData()}}-was altered to represent these exact week values.","28/Jun/18 10:20 AM;bwinter;[~jjensen], has a pull request been made against this ticket?  I see that it is READY FOR QA, but it was not release in the last three pushes to QA (May 25th nor June 11th nor June 25th).

* COMA-2620
* COMA-2610
* COMA-2592",28/Jun/18 12:40 PM;jjensen;[~bwinter] I will check.,,,,,,,,,,,,,,,,,,,,,,,
Search all Visible Columns in Breedings and Litters,COMA-2389,28887,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,23/Feb/18 10:31 AM,12/Jul/18 2:38 PM,27/Aug/18 11:00 AM,12/Jul/18 2:38 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,"_As a user I want to be able to search Breedings and Litters with the same user experience as I can search for Mice._

+Acceptance Criteria+:
* Breedings and Litters lists are searchable in the same manner as Mice list based on requirements from COMA-2262.

",,,,;26/Feb/18 1:07 PM;bkoch;28800,;26/Feb/18 3:55 PM;rwilliams;300,;13/Apr/18 11:41 AM;bwinter;10800,;12/Jul/18 2:38 PM;rwilliams;300,,,,,72000,31800,40200,55%,72000,31800,40320,,,,,,COMA-2392,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2018-02-27T16:00:15.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00vhr:,,,,,,New Product/Feature,,,2018-02-26 15:01:58.811,"26/Feb/18 9:01 AM;bkoch;[~jcox], looking into this more, it looks like we can't add more columns or do base filtering on straings and gene mutations.  Do we want to add this functionality in?  If not, maybe we should just apply this advanced filter logic to Breedings and Litters.  What do you think?","26/Feb/18 10:05 AM;jcox;[~bkoch], Great question.  We hadn't considered the fact that the columns in Strains and Gene Mutations weren't dynamic like the others.  That would be a larger effort and it would probably fit in with other improvements to those respective pages.  I'm going to remove Strains and Gene Mutations from the requirements of this ticket so that this effort focuses on just Breedings and Litters.  I'll create a new ticket in Unplanned release to cover future work on Strains and Gene Mutations.

Let me know if there's anything else I can help out with!","15/Mar/18 4:38 PM;bwinter;[~bkoch] Do you know if the code for searching all visible columns of the mice list has been taken out?  It seems like the other day, I could search for ""some strain name"" in the mice list, and the search would find those mice.","29/Mar/18 6:58 PM;bwinter;[~bkoch]  I want to pass this ticket if it was Breedings List, but I can't based on Litters List.

h1. Breedings List

* Searches on current columns - {color:#14892c}PASSED{color}
* Searches on filters - {color:#14892c}PASSED{color}
* A message in search box - {color:#d04437}FAILED{color} 
* Searches on added columns - {color:#14892c}PASSED{color}

h1. Litters List

* Searches on current columns - {color:#d04437}FAILED{color}
** Does not search on current columns with dates (DOB, Biopsy By, Wean By
** Does not search by age
* Searches on filters - {color:#14892c}PASSED{color}
* A message in search box - {color:#d04437}FAILED{color} 
* Searches on added columns - {color:#d04437}FAILED{color}
** Does not search on added date-type columns 
** Does not search on Yes/No columns (Weaned, Needs Biopsy, Needs ID)
** Does not search on active","29/Mar/18 6:59 PM;bwinter;[~jcox], [~bkoch] I don't think there is anything high priority about this ticket that will keep it from production.","02/Apr/18 8:19 AM;bwinter;[~jcox], [~jmedlock] This ticket has not exactly passed testing, but it is lower in priority given the 1.1 push.  How should I handle it?

* Create reworks for 1.1?
* Leave as is, and create reworks for 1.2?
* Leave as is, and create bugs for 1.2 instead of reworks so that they are not sub-tasks of a 1.1 ticket?
* Move entire ticket to 1.2?","02/Apr/18 8:23 AM;bwinter;Update: [~jmedlock] is offsite but messaged me on Teams to create rework for this ticket in 1.1.  

CC: [~jcox]","02/Apr/18 8:41 AM;bwinter;[~jcox] should the Breedings List and Litters List search based on age (in days if before 29 days in weeks after)?

CC: [~bkoch]","02/Apr/18 10:45 AM;jcox;[~bwinter] If I understand the Mice search correctly it is always done in days as that is what the list view always displays, so I would think it should work the same for Litters and Breedings.  Let me know if I'm missing something.","13/Apr/18 11:37 AM;bwinter;[~jmedlock], [~cleduc], [~jcox], [~bkoch], I am going to move this ticket to Ready for UAT.   It has just a few minor issues noted in its sub-task COMA-2493, which I am going to convert to a bug ticket for 1.2.  Let me know if that ticket has any issues that you guys do not feel comfortable going into 1.2.  I think they are reasonable risk.",,,,,,,,,,,,,,,,
Add Cage ID to Cage Map,COMA-2385,28881,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,22/Feb/18 2:04 PM,12/Jul/18 2:40 PM,27/Aug/18 11:00 AM,12/Jul/18 2:40 PM,,CM - Release 1.2,,,0,,,,,"_As a user I to see Cage IDs on the Cage Map so that I can more easily organize my work._

+Acceptance Criteria+:
* Cage ID is included on the cage cards within the Cage Map view, at the top of the cage icon left justified against the heart icon that denotes a breeding.  (see attached whiteboard sketch)
* Show the first X number of characters of the CageID with an ellipsis if the string is longer than the UI element.  On Mouse hover show the entire string. 

+Notes+:
* We can increase the size of the Cage UI elements to alleviate screen real estate concerns if needed.  25% size increase may work?
",,,,;09/Mar/18 3:20 PM;jadhikari;7200,;12/Mar/18 2:27 PM;rwilliams;300,;02/Apr/18 12:19 PM;bwinter;600,;12/Jul/18 2:40 PM;rwilliams;300,,,,,72000,63600,8400,11%,72000,63600,8400,,,,,COMA-2438,,,22/Feb/18 2:25 PM;jcox;20180222_141950.jpg;https://transnetyx.atlassian.net/secure/attachment/25998/20180222_141950.jpg,02/Apr/18 12:19 PM;bwinter;PASSED - Cage ID on Cage Icon in Cage Map - 2018-04-02 12_14_42-.png;https://transnetyx.atlassian.net/secure/attachment/26495/PASSED+-+Cage+ID+on+Cage+Icon+in+Cage+Map+-+2018-04-02+12_14_42-.png,22/Feb/18 2:08 PM;jcox;cagemap.JPG;https://transnetyx.atlassian.net/secure/attachment/25997/cagemap.JPG,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-03-15T13:34:59.498-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00vgf:,,,,,,New Product/Feature,,,2018-03-09 21:22:44.377,09/Mar/18 3:22 PM;jadhikari;[~rwilliams] : I pushed changes for this ticket into COMA-2335 by mistake.,02/Apr/18 12:20 PM;bwinter;Testing completed.  QA verified.,,,,,,,,,,,,,,,,,,,,,,,,
Mouse Upload/Import: Worker Process,COMA-2338,28830,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,13/Feb/18 9:57 AM,03/Aug/18 9:57 AM,27/Aug/18 11:00 AM,03/Aug/18 9:57 AM,,CM - Release 1.2,,,0,,,,,"_As a user uploading mouse data, I need the Colony system to process the data I have uploaded so that my Mice are added to my colony._

+Acceptance Criteria+:
* As the mice are imported, if they have a parent ID, then create the necessary breedings and litters for mice that have the same parent IDs and birthday.  
* Any parents that have a death date should have their breedings retired.
* If we can't match the imported mouse Strain with an existing Strain, then error out to fallout table.
* If parent ID is present but doesn't match an existing Mouse, then error out to fallout table.
* Mouse IDs that we import have to be unique.
* [Todo] Required fields for Mouse, Litter, Breeding, Cage need to be identified and populated by input data, including default values.
* -{color:#d04437}Use the existing Notes table(s) to help the user understand data that was imported but is missing some data.  (for example, a mouse was added that didn't have parents listed){color}-
* If the user imports a mouse with a cage ID and that cage ID doesn't exist in our system, then we need to create that cage without room/rack info.  If the cage already exists then we just add the mouse to that cage.
* Add a flag on the Breedings, Litters, -{color:#d04437}Cages{color}- tables to indicate that records were imported through this process.
* Provides error handling when encountering bad data.  Bad data rows (errored out) are stored in a ""fallout"" table that is grouped by error type.  
* {color:#d04437}-Notifies user when import is complete.-{color}

+Notes+:
Order of precedence for creating Mice records:
* Start with Mice with blank Parent IDs
* Order by Birth Date and import Oldest to Youngest
* User can view Fallout table and make adjustments for reprocessing those rows.

+Scenario+:
*Given* I am importing mice with this process
*When* a mouse has a parent ID that doesn't exist,
*Then* it should go into the fallout table.
*And* If that parent ID is imported later on during the first pass of processing
*Then* a second pass of importing the fallout table rows will successfully import the original mouse now.

h1. Attachments


* {{Specifications - Mice Import - COMA-2338.xlsx}}
** Titles and description of column names
** Initial Processing flow
** Questions
** Assumptions
** Data Entities to be created from Mice Import
* {{Various Tests - COMA-2338.xlsx}}
** Rows with expected errors are highlighted in red
** Types of tests per worksheet
*** Test for happy case - everything downloaded with no errors
*** Errors thrown when required fields are missing
*** Errors thrown when column type is not correct (e.g., number given for a date field)
*** Errors thrown when for columns expecting data within some range (boundary testing)
*** Tests for behind the scenes logic (e.g., mouse ID must be unique to import data and mice in colony)
*** Checks for date formatting
* {{Genotype Shorthand and Format - COMA-2338.xlsx}}
** Documents which genotype scenarios get simple shorthand (green cells)
** Documents the genotype format for various scenarios.
* {{Genotype Testing - COMA-2338.xlsx}}
** Rows with expected errors are highlighted in red
** Types of tests per worksheet
*** Tests for system generated genotypes for various scenarios (e.g., {{GeneName<ALLELE1/ALLELE2>}})
*** Tests for simple shorthand (e.g., {{HOM, HET, WT, NCAR, CAR, HEM}})
*** Tests for shorthand with gene-base (e.g., {{GeneName<HOM>}})
*** Tests for case sensitivity
*** Tests for spacing around and within genotype
*** Tests for overwriting genotypes

h1. Developer Notes
* 4/3 added initial definition of input file from [~bwinter]  [^Colony Import - Data Definitions - 4-3-2018.xlsx] 
* Assumptions made by Bryan when he create the input file definition:
** That data definitions lists
*** desired columns
*** brief description of what the column is trying to capture
*** input type
*** example input
** There is one record per mouse
** There are NO records for un-weaned pups
** Entity IDs are different from Entity Names 
*** IDs are unique
*** Names are non-unique
*** I listed IDs as possible alphanumeric strings, but this restriction is not necessary
*** I was unsure how to handle strains IDs (user created vs Transnetyx provided)
*** Strain names would be the names the user gives the strains, which may not be unique.
** From this list we can infer litters (same parents IDs) 
*** How will we infer litter name?
*** How will we infer pup counts at birth? Will missing and dead pups have records in the import?
*** Have we captured the minimum set of litter properties needed to create a litter record in colony?
** From this list we can infer breedings (after inferring litters) 
*** How will we infer breeding active status?
*** How will we infer breeding time?
*** How will we infer breeding name?
*** Have we captured the minimum set of breeding properties needed to create a breeding record in colony?
** From this list, we CANNOT infer history of where mice have been physically (previous cages, racks, rooms)
",,rwilliams,,;13/Jul/18 9:51 AM;rwilliams;1296000,;25/Jul/18 10:48 AM;rwilliams;600,;31/Jul/18 6:05 PM;bwinter;144000,,,,,,576000,0,1440600,250%,576000,0,1440600,,,,,,COMA-2337,COMA-2339,04/Apr/18 8:49 AM;jcox;20180323_150200.jpg;https://transnetyx.atlassian.net/secure/attachment/26531/20180323_150200.jpg,04/Apr/18 8:49 AM;jcox;20180323_150207.jpg;https://transnetyx.atlassian.net/secure/attachment/26532/20180323_150207.jpg,24/Apr/18 10:26 AM;cleduc;COMA-2338 - Colony Mouse Import Specifications 04242018cal (02751114xAE394).XLSX;https://transnetyx.atlassian.net/secure/attachment/26794/COMA-2338+-+Colony+Mouse+Import+Specifications+04242018cal+%2802751114xAE394%29.XLSX,26/Apr/18 2:42 PM;rwilliams;COMA-2338 - Colony Mouse Import Specifications 04262018.xlsx;https://transnetyx.atlassian.net/secure/attachment/26811/COMA-2338+-+Colony+Mouse+Import+Specifications+04262018.xlsx,02/Aug/18 11:59 AM;bwinter;Genotype Shorthand and Format - COMA-2338.xlsx;https://transnetyx.atlassian.net/secure/attachment/27274/Genotype+Shorthand+and+Format+-+COMA-2338.xlsx,02/Aug/18 12:13 PM;bwinter;Genotype Testing - COMA-2338.xlsx;https://transnetyx.atlassian.net/secure/attachment/27276/Genotype+Testing+-+COMA-2338.xlsx,28/Feb/18 2:46 PM;rwilliams;IMG_0821.JPG;https://transnetyx.atlassian.net/secure/attachment/26089/IMG_0821.JPG,02/Aug/18 12:13 PM;bwinter;Specifications - Mice Import - COMA-2338.xlsx;https://transnetyx.atlassian.net/secure/attachment/27275/Specifications+-+Mice+Import+-+COMA-2338.xlsx,02/Aug/18 12:13 PM;bwinter;Various Tests - COMA-2338.xlsx;https://transnetyx.atlassian.net/secure/attachment/27277/Various+Tests+-+COMA-2338.xlsx,,,,,,,,,jcox,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=13}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":13,""lastUpdated"":""2018-08-20T13:59:48.801-0500"",""stateCount"":13,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":13,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,COMA-2200,,,,,,,,,,,,,,admin,,,Unassigned,,bwinter,0|i00v53:,,,,,,New Product/Feature,,,2018-03-01 22:30:20.251,"01/Mar/18 4:30 PM;cleduc;A scenario to consider:
The user imports a table with animals and the parent records are there so it creates a breeding and litters with the animals in the table by birthdate. 
Later the user wants to import more records and this import contains another litter belonging to a breeding already in the system. If they list the parent ID's as they are in the system already will the import logic create this new litter under the previously created breeding or create a new breeding with same parent IDs? 
If it creates a new breeding, that is OK if we have a way to then search for those and / or alert and then adjust whatever they need to. (could be wrong parent IDs second time or could be they need to put under existing breeding in which case they could just create that litter in the system). ","06/Apr/18 8:03 AM;rwilliams;[~cleduc] Carrie, see the attached document  [^COMA-2338 - Colony Mouse Import Specification.xlsx]. This is my first stab at getting more detailed requirements together for the mouse import. Would you mind reviewing it when you have a chance and help me with getting this further refined. There are additional tabs within the spreadsheet that spell out some assumptions as well as questions that will need to be answered, etc. If you have any questions about it please let me know.
And for anyone else who may care to see what is going on with the mouse import: [~jmedlock] [~bwinter] [~admin] [~jcox]",09/Apr/18 8:09 AM;cleduc;[~rwilliams] I'm almost done answering/clarifying what I can in the excel doc and will put it out here this AM. Thanks for this!,"09/Apr/18 8:13 AM;rwilliams;[~cleduc] Wow!! Thank you so much. I look forward to seeing your input. I can already see that there are a few challenges that will have to be worked through, but hopefully we can get it all documented and agreed upon and have a great tool! Thank you so much!!","09/Apr/18 8:39 AM;cleduc;[~rwilliams] My input is in purple. 
[^COMA-2338 - Colony Mouse Import Specifications CAL (02737308xAE394) (1).xlsx] 
","24/Apr/18 7:43 AM;rwilliams;[~bwinter] [~cleduc] Hey guys, as I was looking at the spreadsheet I uploaded yesterday I realized that I failed to remove the ""ParentNames"" column from the specification tab. That one should have been deleted because it is being replaced by 3 separate columns, Sire, Dam1 and Dam2. Assume that column does not exist. Thanks! ","24/Apr/18 10:29 AM;cleduc;[~rwilliams] [~bwinter] Hi Rich, I put my input in purple in the new questions and for the entities I added and kept the pink formatting. Let me know if you want to go over it. I think we'll need to talk about genotype again. I wasn't sure where to put anything for that. I know we discussed the export to help them import correctly. ","24/Apr/18 12:42 PM;rwilliams;[~jmedlock] [~cleduc] [~admin] It was mentioned this morning that before we went too much further with this story that we needed to talk to a customer. This is just a reminder to get that in process. Mean while I will continue to refine the requirements and I will go ahead and start working on building out some of the classes and such needed for the import,","24/Apr/18 2:30 PM;cleduc;[~rwilliams][~jmedlock][~admin] I can talk to the customer, Jeff was it, if Jim gives me the contact info. but is he more IT? I know I was on one email with him when I first started. 
also, just remembered...Rich, did you mention leaving the first import page in tact and adding this new one? 
Just made contact and asked for a meeting...","24/Apr/18 3:40 PM;rwilliams;[~cleduc] Thanks for your additional feedback on the spec. If you don't mind you can delete your earlier version of the spreadsheet from the attachments. I guess I don't have enough access to delete attachments that others upload or I would delete it. Also, when you make contact with the customer, they don't need to see that whole spreadsheet, they should only see information from the first tab I would think.",24/Apr/18 3:47 PM;cleduc;[~rwilliams] Done! And I contacted them just letting them know we are enhancing this feature and asking for a discussion since he hasn't imported yet. No visual aids as yet!,26/Apr/18 1:45 PM;rwilliams;[~bwinter] I just uploaded the latest version of the import spec spreadsheet. Please check it out as soon as you have time. I appreciate the help on this!! Much appreciated!!,"25/May/18 5:44 PM;bwinter;[~rwilliams], [~cleduc], [~nnowak], I attached emails from today and that spreadsheet to this ticket for the Mice Import.","30/May/18 10:04 AM;bwinter;[~rwilliams], I uploaded this data

 [^Test - 1 litter with mom and dad - 2018-05-30.xlsx] 

and I got successful import message.  Then when I went to Dashboard, I was given this stack trace error

 !Error thrown - 2018-05-30 10_00_06-.png|thumbnail! 

Group: Colony Example
Key: IQQOG87","01/Jun/18 6:56 AM;bwinter;[~rwilliams], I did another import today using a different file, and I noticed that there are no breeding records on the Breedings List (active nor retired) and not Litter records on the Litters List (active or not).  However, there were some litter records in the cage card, but each litter had zero pups and the same DOB.

 !Same DOB for each litter - 2018-06-01 06_49_51-.png|thumbnail! 

 [^Test - several filial litters - 2018-05-30.xlsx] 

FYI, I know you are out of town on vacation, so I am not expecting any response nor is this slowing me down.  I just wanted to give you a heads up since I will be out when you get back.",05/Jun/18 9:13 AM;rwilliams;[~bwinter] Good news. I looked into the mouse import issues you reported last week regarding 1) the dashboard not working and 2) the breedings and litters not showing up in the breeding and litter lists respectively. I had a bug in the import where is was not saving the offspring settings for the imported breedings and litters. Once I fixed that with a couple lines of code the dashboard worked and the breedings and litters showed up as expected in their lists. The litters are considered in-active because the litter has offspring and it has a weaned date.,"06/Jun/18 9:43 AM;rwilliams;[~bwinter] Yesterday I was finally able to look a little further into your reported issues, and the only thing left was the issue of seeing the litters from the import showing up in cages. Well, after I fixed the bug with the OffspringSettings not being created that I mentioned yesterday, these litters do not show up in cages. As far as I understand it, with the import, we are not creating litters unless they already have physical pups, and we are setting up the imported litter and pups as weaned, and therefore I would not expect to ever see an imported litter in a cage.","13/Jul/18 8:23 AM;bwinter;[~rwilliams], I looked over the acceptance criteria, and I believe your solution satisfies almost all of it!  There were a few things I saw that I wasn't sure about:

* _""Use the existing Notes table(s) to help the user understand data that was imported but is missing some data. (for example, a mouse was added that didn't have parents listed)_ {color:#14892c}""---*the Import2 UI handles this with Imported and Error column but not for the example given, which may not be the desired example anyway, since users may want to import mice without parent IDs.*{color}
* _""Add a flag on the Cages tables to indicate that records were imported through this process.""_{color:#14892c}---*I haven't looked to see if this is being done.*{color}
* _""Notifies user when import is complete""_{color:#14892c}---*Of course, the Import2 UI does this, but I am not sure if worker process will notify the import handler.*{color}

I feel that the Import Worker Process can be marked complete even with these.  Let me know your thoughts.

","13/Jul/18 8:43 AM;rwilliams;[~bwinter] In response to your final review of the acceptance criteria:
# While working through the creation of the mouse importer no one ever defined this feature, In hindsight I should have asked about it, but seeing that this never came up in our many discussions where we defined the desired functionality of the importer I would guess that it ended up not being something that anyone felt was important in the end. We did have some conversations early on about ""if we couldn't match the genotypes, maybe we should just add a note on the mouse"", but I think we worked through that and added rules and such that make the importer much more robust and complete to not have to add notes for things like no parents. If you find that there is a need for this then let's define it and add it.
# All of the pertinent entities that are created by the importer process have 3 new properties: IsImported, DateImported, and ImportedByUserId.  The specifications document (which needs to be attached to this ticket and old ones deleted), details each entity that is created and will also show these new fields that are associated with the import. In other words, I think we have this one covered.
# This criteria really should be part of a different ticket. This ticket defined the actual import processor which doesn't have a direct user interface.","13/Jul/18 12:53 PM;bwinter;[~rwilliams], I agree with each comment you made.

Some to-dos for me on this ticket are to 

# Tidy up ""specs spreadsheet"" (if needed) that you created and shared with me on Teams
# Add relevant summary notes to Description of this ticket
# Write up documentation for Mice Import
# Upload test cases to this ticket
# Upload simple short hand translations spreadsheet
# Remove no longer needed files from this ticket (if any)","02/Aug/18 12:15 PM;bwinter;[~rwilliams], I am done tidying up this ticket.  Take a look and let me know if you would like me to make any other changes.  Some images I do not have access to delete.","02/Aug/18 12:17 PM;bwinter;This ticket was tested during development, which explains the many times it was released to QA.  This ticket was tested with tests in the attached XLSX spreadsheets.",02/Aug/18 12:18 PM;rwilliams;[~bwinter] I'm good with it. I say we leave the images because they show what we started with as a spec...,02/Aug/18 1:39 PM;bwinter;[~rwilliams] Perfect!,,
Mouse Use: Animals marked as dead should not have a use. ,COMA-2335,28826,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,mbender,jmedlock,jmedlock,09/Feb/18 4:18 PM,19/Jul/18 9:57 AM,27/Aug/18 11:00 AM,12/Jul/18 2:54 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,"The system should automatically remove the use of a mouse when the mouse is marked dead. 

The system should automatically retire the mouse from any breedings when the mouse is marked dead.

",All,,,;09/Mar/18 12:33 PM;jadhikari;28800,;12/Mar/18 2:07 PM;rwilliams;300,Testing passed on Colony QA1.;20/Apr/18 10:45 AM;mbender;7200,;12/Jul/18 2:54 PM;rwilliams;300,,,,,,0,36600,,,0,36600,,,,,,,,20/Apr/18 10:46 AM;mbender;2335-1_001.png;https://transnetyx.atlassian.net/secure/attachment/26740/2335-1_001.png,20/Apr/18 10:46 AM;mbender;2335-2.png;https://transnetyx.atlassian.net/secure/attachment/26738/2335-2.png,20/Apr/18 10:46 AM;mbender;2335-3.png;https://transnetyx.atlassian.net/secure/attachment/26739/2335-3.png,18/Jul/18 5:07 PM;bwinter;Mice_-_2018-07-18_16.50.15.png;https://transnetyx.atlassian.net/secure/attachment/27175/Mice_-_2018-07-18_16.50.15.png,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-03-15T13:34:59.498-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,QA,,,rwilliams,,,Unassigned,,mbender,0|i00v3z:,,,,"Go to the mouse list
Add columns DOD to the list
Change the filter for status to include dead mice
Notice and dead mice with use of breeder or available.

Dead mice should not have a use.",,,,,2018-04-20 15:45:53.81,20/Apr/18 10:45 AM;mbender;Testing passed on Colony QA1.,12/Jul/18 4:14 PM;cleduc;[~bwinter] I don't see this as working in QA? but it is working in production.,"18/Jul/18 5:14 PM;bwinter;[~cleduc] Where did you see the animal use showing?  I went to Mice List > filtered on dead mice and saw that the use column was blank, so I am not seeing what you are seeing.

 !Mice_-_2018-07-18_16.50.15.png|thumbnail! ",19/Jul/18 9:57 AM;cleduc;[~bwinter] I just retested and it's all fine. I must have messed up. This is all set - thanks!,,,,,,,,,,,,,,,,,,,,,,
Mouse List: Selecting a mouse scrolls the user to top of page,COMA-2324,28807,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,06/Feb/18 9:10 AM,19/Jul/18 8:23 AM,27/Aug/18 11:00 AM,12/Jul/18 2:55 PM,CM - Release 1.1,CM - Release 1.2,,,0,,,,,The mouse list should not scroll to the top of the page when selecting a mouse.,All,,,;27/Feb/18 3:24 PM;bkoch;900,;27/Feb/18 4:10 PM;admin;60,;28/Feb/18 11:31 AM;bwinter;60,;12/Jul/18 2:55 PM;rwilliams;300,,,,,,0,1320,,,0,1320,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-27T15:56:25.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00uzr:,,,,"Go to mouse list
Select a mouse by left clicking
observe the page scrolls to top",,,,,2018-07-12 21:26:18.277,"12/Jul/18 4:26 PM;cleduc;[~bwinter] [~jmedlock] this is fine in production and QA but there is a different thing happening. 
In QA and Production:
go to mouse list
DO NOT SCROLL
Click on a record that is visible
Screen jumps and animal is not selected
reselect - all is well after this

Do same but scroll down first before picking animal - no problem
Do I enter a bug or is it part of this ticket?","12/Jul/18 4:42 PM;jmedlock;[~cleduc] That was the bug we were trying to fix when we created the scroll to the top of the page thing. [~bwinter] The lists act differently also if you have a litters list that is longer or breeding list.

We need a new ticket to address this issue.","18/Jul/18 5:43 PM;bwinter;[~cleduc], [~jmedlock], I created a bug ticket here COMA-2644 for the issue [~cleduc] found in the comment above.

[~cleduc], do you want the litters list, mice list, and breedings list to behave the same when selecting a record, or is there a good reason to have them behave differently?

* *Mice List* - selecting mice records does *not* automatically scroll list back to top
* *Litters List* - selecting one litter record automatically scrolls list back to top
* *Breedings List* - selecting a breeding immediately opens breeding record modal, and breeding list automatically scrolls back to the top behind the modal.","19/Jul/18 8:23 AM;bwinter;[~cleduc] I added two stories to UNPLANNED for the Litters List and Breedings List.

* COMA-2648 - stop auto scrolling for Litters List
* COMA-2649 - stop auto scrolling for Breedings List",,,,,,,,,,,,,,,,,,,,,,
Transferring Litters ,COMA-2321,28793,,Story,Testing FAILED,COMA,Colony Manager,software,admin,,,4 Helpful,,cleduc,jcox,jcox,01/Feb/18 9:33 AM,07/Aug/18 11:30 AM,27/Aug/18 11:00 AM,,,Unplanned,,,0,,,,,"_As a user I need to be able to transfer litters, even before pups are added, so that I can keep the Colony application in sync with my real world colony._

+Acceptance Criteria+:
* User is able to mark a litter as transferred from 3-dot menu of the Litter card view.
* -User is able to mark a litter as transferred from 3-dot menu of the Litter Workbench.-
* -User is able to mark individual pups as transferred from 3-dot menu of the Litter Workbench.-
* -If the user transfers a litter that does not have pups generated, then we have to add the pup records.-
* Transferred litters should no longer show as active.
* When a user transfers litters, litter counts for strains, breedings, and cages should be accordingly decremented (where applicable).

See screenshots of these 3-dot menus for reference.

----

[Transferring pups is not a transfer litter function.] -cs
[Marking a litter as transferred from litter workbench still allows the user to make litter workbench changes (id, biopsy, wean, mark dead, etc.).  See comments for more discussion.] - bw 2018-07-31
[There are conflicts on Litter Workbench so that if you transfer pups from the Offspring 3-dot menu, the litter workbench is not updated of this change, so this req needs to be removed as well.  See comments for more discussion.] - bw 2018-07-31
",,,,;18/May/18 9:45 AM;jjensen;86400,;11/Jul/18 12:16 PM;jjensen;14400,;25/Jul/18 11:14 AM;rwilliams;1800,;31/Jul/18 5:28 PM;bwinter;10800,;01/Aug/18 2:10 PM;bwinter;60,,,,86400,0,113460,131%,86400,0,113460,,,,,,CMI-266,,31/Jul/18 6:04 PM;bwinter;PASSED WITH RESERVATIONS - Litters can be transferred - 2018-07-31 17_53_09-.png;https://transnetyx.atlassian.net/secure/attachment/27269/PASSED+WITH+RESERVATIONS+-+Litters+can+be+transferred+-+2018-07-31+17_53_09-.png,09/May/18 12:15 PM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/26854/image001.png,10/Jul/18 11:32 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27114/image001.png,11/Jul/18 12:24 PM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27121/image001.png,10/Jul/18 10:58 AM;jjensen;image002.png;https://transnetyx.atlassian.net/secure/attachment/27112/image002.png,09/May/18 12:15 PM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/26855/image003.png,10/Jul/18 11:32 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27115/image003.png,11/Jul/18 12:24 PM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27122/image003.png,10/Jul/18 10:58 AM;jjensen;image005.png;https://transnetyx.atlassian.net/secure/attachment/27113/image005.png,01/Feb/18 9:33 AM;jcox;litterview3dotmenu.JPG;https://transnetyx.atlassian.net/secure/attachment/25705/litterview3dotmenu.JPG,01/Feb/18 9:33 AM;jcox;litterworkbench3dotmenuforlitter.JPG;https://transnetyx.atlassian.net/secure/attachment/25706/litterworkbench3dotmenuforlitter.JPG,01/Feb/18 9:33 AM;jcox;litterworkbench3dotmenuformouse.JPG;https://transnetyx.atlassian.net/secure/attachment/25707/litterworkbench3dotmenuformouse.JPG,09/May/18 4:15 PM;jjensen;screenshot-1.png;https://transnetyx.atlassian.net/secure/attachment/26858/screenshot-1.png,09/May/18 4:19 PM;jjensen;screenshot-2.png;https://transnetyx.atlassian.net/secure/attachment/26859/screenshot-2.png,,,,jcox,jjensen,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=4}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":4,""lastUpdated"":""2018-08-01T14:23:38.509-0500"",""stateCount"":4,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":4,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,admin,,,Unassigned,,,0|i00uwn:,,,,,,New Product/Feature,,,2018-05-09 17:09:16.773,"09/May/18 12:09 PM;admin;[~jjensen]
Want to give this one a go?
","09/May/18 12:15 PM;jjensen;Sure

From: Chris Scallion (Jira) <jira@transnetyx.atlassian.net>
Sent: Wednesday, May 9, 2018 12:09 PM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] Chris Scallion mentioned you on COMA-2321 (Jira)

[https://avatar-cdn.atlassian.com/dc90c5f5dba0250f2d8c0bd9e0740777?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dadmin%26avatarId%3D11600%26noRedirect%3Dtrue]

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin> mentioned you on [Story] COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>




Re: Transferring Litters <https://transnetyx.atlassian.net/browse/COMA-2321>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen>
Want to give this one a go?


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","09/May/18 4:15 PM;jjensen;FWIW, this is what the menu now looks like on the Litter Card:
 !screenshot-1.png|thumbnail! ","09/May/18 4:19 PM;jjensen;On Litter Workbench, the one code in LitterOverview.cshtml fix showed up here as well:
 !screenshot-2.png|thumbnail! ","14/May/18 3:14 PM;admin;[~jjensen]
I removed the weird requirement. I'll see if this is trying to match up to iOS or what, and if so we'll change how that is doing what it does.
","14/May/18 3:38 PM;admin;[~jcox]
Jeff, I spoke with Tyler about our preferred approach to handling litters without pups, which is to set a (new) DateTransferred column directly on the litter, and he sees no problem duplicating that functionality on the mobile client. 

The iOS application will need a ticket to account for this logic and handle the new property in its Litter getters, as well.
","17/May/18 8:55 AM;jcox;[~admin], is it safe to assume that DateTransferred would be set on the Litter record regardless of whether or not it has pups?  I get that this requirement we're discussing targets the use case where there are no pup records in the litter, but this feels like something we would just always populate when a litter is transferred.
","17/May/18 8:59 AM;admin;[~jcox]
Correct.
The logic for transferring a litter would be to set date transferred on the litter itself, and any mice of said litter.
","18/May/18 9:43 AM;jjensen;[~jcox] & [~admin]: the code does exactly what Chris said.  A new DateTransferred field in the Litter record is set upon transfer.  Additionally, any existing mice in the litter will also have their TransferDate set in the db record.

For the record (pun intended), I also made some changes to the .gitignore file so that Git ignores files created from performance testing.","10/Jul/18 9:42 AM;admin;[~jjensen]

Have a look at the pull request for this ticket, it has a merge conflict and some peer review notes. Those will need to be resolved and the pull request re-made.

-Chris","10/Jul/18 10:58 AM;jjensen;Chris:

Made the changes you noted, removed the ReSharper option that splits lines at certain widths, and pushed the C# code back out to origin.
I will get to the SQL conflict later, but first I must work on COMA-1889<https://transnetyx.atlassian.net/browse/COMA-1889>.
I could also use your help here.

Bryan’s testing says that this ticket fails when a breeding pair has one litter.  I think that the failure criterium is incorrect, due to the way that I test for litters:

                foreach (var parent in BreedingParents)
                {
                    if (parent.MouseId != null)
                    {
                        ParentLitterCount.Add(parent.MouseId, breeding.Litters.Count(l => l.IsActiveLitter && l.LitterParents.Any(lp => lp.MouseId == parent.MouseId)));
                   }
                }

As you can see in the code, I set up a Dictionary to use in the cshtml.  The Dictionary is filled with the parent id as the key and the number of litters where the parent is assigned.
Now, the _test_ comes from the Litter business object via IsActiveLitter.  Here is the definition:

        /// <summary>
        /// Common logic for determining whether or not a litter is ""active"".
        /// Note, that this is only accurate if we retrieve the litter's mice along with the litter.
        /// </summary>
        public bool IsActiveLitter => !this.DateDeleted.HasValue && !this.DateWeaned.HasValue && this.HasLivingOffspring;

Please note the comment which claims the Mice must be retrieved.

This is where I need help.

I don’t know where or how to retrieve the mice.

Granted, I could run the search for myself and maybe find it today, but I thought you might know where I could find the function or perhaps the best places where I should concentrate my search.

Once I load the mice into the litter object, the test should be accurate.

Can you help?




From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Chris Scallion (Jira)
Sent: Tuesday, July 10, 2018 9:43 AM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] (COMA-2321) Transferring Litters

[https://avatar-cdn.atlassian.com/dc90c5f5dba0250f2d8c0bd9e0740777?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dadmin%26avatarId%3D11600%26noRedirect%3Dtrue]

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin> updated [Story] COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>





James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen>

Have a look at the pull request for this ticket, it has a merge conflict and some peer review notes. Those will need to be resolved and the pull request re-made.

-Chris


Colony Manager<https://transnetyx.atlassian.net/browse/COMA> / [Story] <https://transnetyx.atlassian.net/browse/COMA-2321> COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>

Transferring Litters <https://transnetyx.atlassian.net/browse/COMA-2321>


Change By:

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin>

Assignee:

Chris Scallion James Jensen

Status:

In Review Development


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","10/Jul/18 11:32 AM;jjensen;Chris:  Rich helped me with COMA-1889.

From: Jim Jensen
Sent: Tuesday, July 10, 2018 10:59 AM
To: 'Chris Scallion (Jira)' <jira@transnetyx.atlassian.net>
Subject: RE: [JIRA] (COMA-2321) Transferring Litters

Chris:

Made the changes you noted, removed the ReSharper option that splits lines at certain widths, and pushed the C# code back out to origin.
I will get to the SQL conflict later, but first I must work on COMA-1889<https://transnetyx.atlassian.net/browse/COMA-1889>.
I could also use your help here.

Bryan’s testing says that this ticket fails when a breeding pair has one litter.  I think that the failure criterium is incorrect, due to the way that I test for litters:

                foreach (var parent in BreedingParents)
                {
                    if (parent.MouseId != null)
                    {
                        ParentLitterCount.Add(parent.MouseId, breeding.Litters.Count(l => l.IsActiveLitter && l.LitterParents.Any(lp => lp.MouseId == parent.MouseId)));
                   }
                }

As you can see in the code, I set up a Dictionary to use in the cshtml.  The Dictionary is filled with the parent id as the key and the number of litters where the parent is assigned.
Now, the _test_ comes from the Litter business object via IsActiveLitter.  Here is the definition:

        /// <summary>
        /// Common logic for determining whether or not a litter is ""active"".
        /// Note, that this is only accurate if we retrieve the litter's mice along with the litter.
        /// </summary>
        public bool IsActiveLitter => !this.DateDeleted.HasValue && !this.DateWeaned.HasValue && this.HasLivingOffspring;

Please note the comment which claims the Mice must be retrieved.

This is where I need help.

I don’t know where or how to retrieve the mice.

Granted, I could run the search for myself and maybe find it today, but I thought you might know where I could find the function or perhaps the best places where I should concentrate my search.

Once I load the mice into the litter object, the test should be accurate.

Can you help?




From: jira@mail-us.atlassian.net<mailto:jira@mail-us.atlassian.net> <jira@mail-us.atlassian.net<mailto:jira@mail-us.atlassian.net>> On Behalf Of Chris Scallion (Jira)
Sent: Tuesday, July 10, 2018 9:43 AM
To: Jim Jensen <jjensen@transnetyx.com<mailto:jjensen@transnetyx.com>>
Subject: [JIRA] (COMA-2321) Transferring Litters

[https://avatar-cdn.atlassian.com/dc90c5f5dba0250f2d8c0bd9e0740777?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dadmin%26avatarId%3D11600%26noRedirect%3Dtrue]

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin> updated [Story] COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>





James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen>

Have a look at the pull request for this ticket, it has a merge conflict and some peer review notes. Those will need to be resolved and the pull request re-made.

-Chris


Colony Manager<https://transnetyx.atlassian.net/browse/COMA> / [Story] <https://transnetyx.atlassian.net/browse/COMA-2321> COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>

Transferring Litters <https://transnetyx.atlassian.net/browse/COMA-2321>


Change By:

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin>

Assignee:

Chris Scallion James Jensen

Status:

In Review Development


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","11/Jul/18 12:24 PM;jjensen;Chris, I changed the resharper thing, and then I manually reset only the items I saw in the comments (the two examples you gave).  Apparently, running the ctrl-a, ctrl-k, ctrl-d did not change the ones already done.  Of course, I only saw this after I committed and issued the pull request.  Let me know if reverting the cr/lfs is a necessity and I will address each item and issue another pull request.

From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Chris Scallion (Jira)
Sent: Tuesday, July 10, 2018 9:43 AM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] (COMA-2321) Transferring Litters

[https://avatar-cdn.atlassian.com/dc90c5f5dba0250f2d8c0bd9e0740777?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dadmin%26avatarId%3D11600%26noRedirect%3Dtrue]

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin> updated [Story] COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>





James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen>

Have a look at the pull request for this ticket, it has a merge conflict and some peer review notes. Those will need to be resolved and the pull request re-made.

-Chris


Colony Manager<https://transnetyx.atlassian.net/browse/COMA> / [Story] <https://transnetyx.atlassian.net/browse/COMA-2321> COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>

Transferring Litters <https://transnetyx.atlassian.net/browse/COMA-2321>


Change By:

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin>

Assignee:

Chris Scallion James Jensen

Status:

In Review Development


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","25/Jul/18 4:25 PM;bwinter;[~cleduc], [~jcox] What is the expected behavior if a litter is transferred then the litter is weaned?  Should the weaned pups be able to be placed in cages?

CC: [~jmedlock]","25/Jul/18 4:29 PM;cleduc;[~bwinter][~jcox][~jmedlock] If a litter is transferred the mom must transfer with it (physically). If not, the litter transferred prior to wean must be being immediately euthanized. The only reason to allow weaning post transfer is for when they made a mistake and do it in the wrong order.  ","31/Jul/18 4:11 PM;bwinter;[~rwilliams], could you make a change to this ticket so that Transfer Litter action is not available from the Litter 3-dot menu in the Litter Workbench?

This is the place that is causing the problems.  This change will nullify this requirement, but I have crossed it out in the description with a note.

* User is able to mark a litter as transferred from 3-dot menu of the Litter Workbench.

 !litterworkbench3dotmenuforlitter.JPG|thumbnail! 

","31/Jul/18 5:27 PM;bwinter;Okay...  About the Transferring litters...  After a little more investigation, we discovered that this ticket is good to go if we simply remove these two requirements which allow transfer actions from the litter workbench:

* User is able to mark a litter as transferred from 3-dot menu of the _Litter Workbench_.
* User is able to mark individual pups as transferred from 3-dot menu of the _Litter Workbench_.

After talking to [~rwilliams], this is desirable anyway, because the litter workbench can work in conflicting ways.  For example, if you transfer the litter from the litter 3-dot menu while in the Litter Workbench, the litter workbench does not refresh or update or redirect.  Therefore, you can still make litter actions (id, biopsy, wean, etc) on a litter that was just transferred.  

Another example, if you transfer pups from the ""offspring"" 3-dot menu on the left-hand-side of the Litter Workbench, the ""rows"" in the Litter Workbench are not updated, therefore you can take litter actions against a pups you just transferred. 

However, transferring litter from the litter list works as expected.  The litter list is immediately refreshed; the litter is made inactive; and the litter no longer appears in the litter list unless you selected the ""active = false"" filter.

[~rwilliams] will remove the Transfer litter action from the litter 3-dot menu in the Litter Workbench, and we will be good to go. 

CC: [~cleduc], [~jcox], [~admin], [~rwilliams], [~jjensen]",31/Jul/18 5:47 PM;cleduc;[~bwinter][~rwilliams] thanks,"31/Jul/18 5:51 PM;bwinter;[~cleduc], I made a mistake in my comment above.

When transferring litter from the litter list, the litter list is immediately refreshed, and the litter no longer appears in the litter list. 
 {color:#d04437}However{color}, selecting the ""active = false"" filter {color:#d04437}does not{color} show the litter again.

It is like the litter is neither active nor inactive from the litter list.  I cannot figure out how to get it to reappear in the litter list.  I can only find it in the breeding card.

{color:#d04437}More slightly bad news{color}, if you click the transferred litter from the breeding card, you are taken to the litter workbench where litter actions can be taken against the transferred litter.

All this seems low risk at the moment, but I wanted to give you the latest news.   Even having said all this, I have passed this ticket with the above caveats.  Let me know if this is not okay.

 !PASSED WITH RESERVATIONS - Litters can be transferred - 2018-07-31 17_53_09-.png|thumbnail! 

CC: [~jjensen], [~rwilliams] ","01/Aug/18 8:28 AM;jjensen;[~bwinter], after seeing what madness the filtering on these Kendo grid controls can become, I wouldn't put it past the litter filter to somehow contribute to your inability to view it after transfer.  However, your _{color:red}More slightly bad news{color}_ is significant, as it reinforces our belief that the original ticket missed the analysis boat.

In My Humble Opinion, we need to step back and see what needs to be done with Litters in general.  In other words, we need better analysis on a bigger picture.  I think [~cleduc], [~admin], and [~rwilliams] would agree that the awkward synchronization of states like _transferred_, _deleted_, and _weaned_ between the collections (litters) and the individual entities (mice) is proof of a poorly-implemented concept.","01/Aug/18 5:12 PM;rwilliams;[~bwinter]  and any dev that might work on this in the future... when a litter is transferred we need to treat much like we do when we delete a litter. We need to transfer the mice, remove the mice from any cage they are in, and and possibly delete the litter parent records, and remove the litter from the cage it’s in.  
","01/Aug/18 5:24 PM;cleduc;[~rwilliams] - Thanks Rich, and also for anyone considering development on this, I think I'll be rewriting a new ticket(s) for this. Transferred means they did exist, they were moved out of the colony. No more actions can be taken but it is important to see their history and that they were transferred out and when. More on the new ticket eventually..","02/Aug/18 11:34 AM;bwinter;[~cleduc], I have assigned this ticket to you so that we can add more requirements to it.  When you are ready for that, we should move it out of TESTING FAILED and back to OPEN or ANALYSIS.  Let me know if I can help.

CC: [~jcox]",,,
Mouse List:  Improved Sorting,COMA-2265,28718,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,17/Jan/18 1:37 PM,12/Jul/18 3:00 PM,27/Aug/18 11:00 AM,12/Jul/18 3:00 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,"_As a user, I want sorting on the mouse list to be more intuitive so that I can more easily find the mice I'm looking for._

+Acceptance Criteria+:
* Remove MouseID as the default sort when user selects a column to sort on.
* When the user selects a column to sort on, it now sorts only on that column, NOT on Mouse ID first and THEN that column.
* When the data is first sent to the Kendo grid, have the data sorted by MouseID on the server side and remove default Kendo sort.
",,,,;24/Jan/18 2:28 PM;jcox;3600,;20/Feb/18 5:36 PM;bkoch;18000,;21/Feb/18 2:20 PM;bkoch;7200,;22/Feb/18 12:02 AM;rwilliams;300,;29/Mar/18 5:41 PM;bwinter;600,;12/Jul/18 3:00 PM;rwilliams;300,,,14400,0,30000,208%,14400,0,30000,,,,,,,,29/Mar/18 5:39 PM;bwinter;PASSED - improved sorting on mice liste - 2018-03-29 17_36_49-.png;https://transnetyx.atlassian.net/secure/attachment/26482/PASSED+-+improved+sorting+on+mice+liste+-+2018-03-29+17_36_49-.png,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-22T00:19:39.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00ufj:,,,,,,New Product/Feature,,,2018-02-21 18:07:38.411,"21/Feb/18 12:07 PM;bkoch;[~jmedlock], after more research, I found some super wonky behavior with this.  In removing the kendo sort and moving it server side, the resulting functionality is as follows:

1. the majority of mice are sorted correctly by mouseName
2. the second element in the list is moved to the middle of the list randomly
3. the element that was at the middle of the list, was moved to the end

So, we can keep this ticket as removing the default kendo sort and adding it server side, but know there is a bug in the kendo grid that causes this strange behavior to happen.  If you want a demo showing the results, let me know.",29/Mar/18 5:41 PM;bwinter;Improved sorting on Mice List appears to be sorting as expected: send data to Kendo grid with mice sorted by Mouse ID (sorted from the client side); when sorting a column sort by the column instead of sorting by mouse id then that column.,,,,,,,,,,,,,,,,,,,,,,,,
Mouse List: Search Add visible columns,COMA-2262,28715,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,17/Jan/18 11:46 AM,12/Jul/18 3:08 PM,27/Aug/18 11:00 AM,12/Jul/18 3:08 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,"_As a user I need to be able to search the mouse list for data in any column visible so that the search is relevant to what I am looking for._

+Acceptance Criteria+:
* Users should only search the current columns and filters. Do not remove filters on search.
* A Message in the search box should instruct the user on what is being searched. (Message in search box, ""Search filtered data and visible columns"")
* If a column is added to the view, that column should be included in the search.

",,,,;25/Jan/18 12:51 PM;jcox;3600,;23/Feb/18 5:06 AM;bkoch;57600,;23/Feb/18 7:19 AM;rwilliams;300,;16/Mar/18 8:21 AM;bkoch;900,;19/Mar/18 8:17 AM;rwilliams;300,;13/Apr/18 11:41 AM;bwinter;3600,;12/Jul/18 3:08 PM;rwilliams;300,,144000,0,66600,46%,144000,0,77520,,,,,,COMA-2389,COMA-2392,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2018-02-23T05:04:44.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00uev:,,,,,,New Product/Feature,,,2018-02-21 22:00:24.911,"21/Feb/18 4:00 PM;bkoch;[~jcox] [~jmedlock], it seems when we add a decent amount of columns to the search, the performance is slightly worse.  Can we change this to search on blur instead of on keyup?","22/Feb/18 10:09 AM;jcox;[~bkoch], Yeah if performance on keyup is detrimental to the user experience then let's try using on blur.  As long as the search is performed when the user hits enter, or tabs/clicks out of the field.  ","14/Mar/18 10:23 PM;bwinter;[~bkoch] if it is okay with you, since the code merge was declined for this ticket, I am going to push it back to development status.  If some (or all) of it will be in Colony 1.1, let me know and I will test what is there.","16/Mar/18 4:55 AM;bkoch;[~bwinter], sorry for not letting you know, but this functionality was fixed in a different ticket (the one with the other lists changing their search functionality), so this is in QA, just not under the 2408 ticket.  It is complete though, and looking through the work log looks like it was tested successfully, so we can close it.","03/Apr/18 1:04 PM;bwinter;[~jmedlock], [~jcox] *Clarification:* After clearing all the filters for Breedings/Litters/Mice Lists, what should happen after refreshing the page?  Should the cleared filters persist or should the page reset to default filtering?

CC:[~bkoch]
","03/Apr/18 1:12 PM;bwinter;[~bkoch] Searching for mice after adding all available columns seems slow.  It that expected behavior?
","03/Apr/18 1:30 PM;jmedlock;[~bwinter][~bkoch] Bryan which environment are you in?

After clearing filters and refreshing the page the current behavior is that the view is reset. That is another ticket called persisting views. We need to persist the view but that is outside the scope of this ticket.","03/Apr/18 1:31 PM;jmedlock;[~bwinter][~bkoch] COMA-2453

","03/Apr/18 2:16 PM;bwinter;Thanks, [~jmedlock], for adding COMA-2453.

About clearing filters, I am a dummy!  I was looking at the wrong thing to check if filter was cleared.  I thought clearing the filter was persisting upon refresh, but that is a total user error on my part.  I apologize.  Filtering does not persist after refresh; filtering resets to default filtering.

CC: [~bkoch], [~jcox]",,,,,,,,,,,,,,,,,
"Retired Breeders: Breeding record, Breeding list",COMA-2254,28699,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,12/Jan/18 9:39 AM,12/Jul/18 3:18 PM,27/Aug/18 11:00 AM,12/Jul/18 3:18 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,"_As a user, I need to see all the breeders on the breeding record and breeding list, if they are active or retired/dead._

+Acceptance Criteria+:
* Active and retired breeder ""mouse cell"" are visible on the breeding card
* Active and retired/dead breeder mice are visible on the breeding list in the correct parent columns

We need to change the query to include retired/dead parents as visible on the breeding record under the parents tab and the breeding list in the mother, father columns.

 !Breeding list parents.png|thumbnail! 
 !Breeding record parents.png|thumbnail! 

(SmartSheet Coma91)",,,,;12/Jan/18 9:41 AM;jmedlock;900,;20/Feb/18 11:46 AM;bkoch;3600,;21/Feb/18 12:02 AM;rwilliams;300,"[~jmedlock], [~rwilliams], [~cleduc] This ticket passed QA based on the requirements in the description.

There is another story you may want to consider adding to Unplanned or elsewhere:

*Suggested Title:* Designate retired, dead, or transferred breeders in a breeding

_As a user who has retired, dead, or transferred breeders in a breeding, I want to see a different visual for each status, so that I am aware of which breeders in my breeding are active, retired, dead, or transferred._

+Acceptance Criteria+:

* Create a different visuals for each of these statuses: retired breeder, transferred, or dead.
** Note: icons already exist for transferred and dead
* Add these visuals, when appropriate, after breeder name in a breeding on the Breeding List
* Add these visuals, when appropriate, after breeder name in a Breeder Card;29/Mar/18 3:29 PM;bwinter;1200",;12/Jul/18 3:18 PM;rwilliams;300,,,,43200,0,6300,14%,43200,0,6300,,,,,,,,12/Jan/18 9:40 AM;jmedlock;Breeding list parents.png;https://transnetyx.atlassian.net/secure/attachment/25588/Breeding+list+parents.png,12/Jan/18 9:41 AM;jmedlock;Breeding record parents.png;https://transnetyx.atlassian.net/secure/attachment/25589/Breeding+record+parents.png,"29/Mar/18 3:22 PM;bwinter;PASSED - Transferred, Dead, Retired breeders appear in Breeding List Item and Breeding Card - 2018-03-29 15_11_28-.png;https://transnetyx.atlassian.net/secure/attachment/26456/PASSED+-+Transferred%2C+Dead%2C+Retired+breeders+appear+in+Breeding+List+Item+and+Breeding+Card+-+2018-03-29+15_11_28-.png",,,,,,,,,,,,,,,jmedlock,bkoch,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2018-02-22T00:05:58.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":3,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00ubb:,,,,,,,,,2018-02-19 13:11:21.492,"19/Feb/18 7:11 AM;bkoch;[~jmedlock], for the second point about showing retired mice on the breeding list in the father/mother columns, are we styling these in any way, or showing them the same as the parents (just listing out the mouse ID)? (for reference, if we do need to style them differently then it will take a decent amount more time to implement, just thought I'd ask here)","19/Feb/18 8:12 AM;bkoch;[~jmedlock], also, in the title it says we should view retired/dead parents, but in the acceptance criteria it says active/retired, so do we want dead parents as well?","19/Feb/18 8:45 AM;jmedlock;[~bkoch] yes, i updated the rest of the ticket. The idea is that the user should always see any parents that were associated to a breeding.

The status icons on the mouse cell will tell them what mice are alive/dead. etc..

Thanks,!

jim","26/Mar/18 5:20 PM;bwinter;[~jmedlock] Clarification:

# Breeder List
## Should there be some indication in the Breeding List that one of the parents is retired, dead, or transferred?
## Currently, the breeding record in the Breeding List does not show any indication of retired, dead, or transferred breeders for the displayed breeding.
# Breeding Details Modal 
## Should there be some indication in the Breeding Details Modal that one of the parents is retired, dead, or transferred?
## Currently, the breeding Details modal shows a black heart, when one of the breeders is Dead.
## No indication is made for retired or transferred breeders.
# Mice List
## Transferred Mice has Status = Transferred and Use = Breeding
## Dead Mice has Status = Dead and Use = blank
## Retired breeders have no select-able column from the Mice List

bump.","29/Mar/18 3:29 PM;bwinter;[~jmedlock], [~rwilliams], [~cleduc] This ticket passed QA based on the requirements in the description.

There is another story you may want to consider adding to Unplanned or elsewhere:

*Suggested Title:* Designate retired, dead, or transferred breeders in a breeding

_As a user who has retired, dead, or transferred breeders in a breeding, I want to see a different visual for each status, so that I am aware of which breeders in my breeding are active, retired, dead, or transferred._

+Acceptance Criteria+:

* Create a different visuals for each of these statuses: retired breeder, transferred, or dead.
** Note: icons already exist for transferred and dead
* Add these visuals, when appropriate, after breeder name in a breeding on the Breeding List
* Add these visuals, when appropriate, after breeder name in a Breeder Card","02/Apr/18 8:45 AM;cleduc;I think it is important to see the status of all animals that were in a breeding but, if it helps, what is key here is that it was active in the breeding and is not now. Why is less relevant. 
We could consider using the same icon for no longer in the breeding regardless of why. 
Or using same for retired and transferred - in both cases the animal was ""removed"" from the breeding. 
",02/Apr/18 8:54 AM;jmedlock;[~bwinter] [~cleduc] the visuals are usually there depending on where the breeding information is. If the mouse record is in view the mouse card is viewable the status is  usually there.,02/Apr/18 8:55 AM;cleduc;Great.,,,,,,,,,,,,,,,,,,
Offspring Settings: ID toggle switch,COMA-2253,28698,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,12/Jan/18 8:58 AM,12/Jul/18 3:23 PM,27/Aug/18 11:00 AM,12/Jul/18 3:23 PM,,CM - Release 1.1,CM - Release 1.2,,0,id_switch,offspring_settings,,,"_As a user, when I toggle the ID switch to on or off, the auto serialize option should also toggle on or off, respectively, so that my effort is reduced and the ID toggling ID switch on or off more accurately reflects my selection._

*NOTE*: When ID switch is off at the Breedings > Offspring Settings & Litters > Offspring Settings levels, I expect Auto-Serializing to stop, but auto-serializing IDs still occurs at the ID Stage of the Litter Workbench.

+Acceptance Criteria+:
* A user can turn off the ID feature with a single click from the offspring settings anywhere the offspring settings are displayed to the user.

+Scenario+:
*Given* I am editing the Offspring Settings for a strain, breeding, or litter
*When* I toggle the ID switch to on or off
*Then* The auto serialization switch should also toggle in the same direction as the ID switch.

*This is an area we need to coordinate with iOS functionality* According to Florin, the iOS already behaves according to the above user story and acceptance criteria.

*Offspring task areas to adjust*
* Strains
* Breedings
* Litters

",,,,;12/Jan/18 9:35 AM;jmedlock;1800,;19/Feb/18 11:14 AM;jadhikari;28800,;20/Feb/18 10:08 AM;rwilliams;300,"This ticket was QA'ed and passed.  Took some time to create the right strains, breedings, and litters.  There were also some interruptions.;29/Mar/18 3:01 PM;bwinter;10800",;12/Jul/18 3:23 PM;rwilliams;300,,,,28800,0,42000,145%,28800,0,42000,,,,,,,,29/Mar/18 3:00 PM;bwinter;PASSED - breeding level - 2018-03-29 14_09_38-.png;https://transnetyx.atlassian.net/secure/attachment/26454/PASSED+-+breeding+level+-+2018-03-29+14_09_38-.png,29/Mar/18 3:00 PM;bwinter;PASSED - strain level - 2018-03-29 14_09_38-.png;https://transnetyx.atlassian.net/secure/attachment/26455/PASSED+-+strain+level+-+2018-03-29+14_09_38-.png,,,,,,,,,,,,,,,,jmedlock,jadhikari,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2018-02-22T00:05:02.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":3,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00ub3:,,,,,,,,,2018-02-27 19:58:09.184,27/Feb/18 1:58 PM;bwinter;[~qevans] I saw that you were also QA on this 1.2 ticket.  Do you want me to take it?,27/Feb/18 2:03 PM;qevans;[~bwinter] since this is a 1.2 ticket it's all yours.,"29/Mar/18 3:01 PM;bwinter;This ticket was QA'ed and passed.  Took some time to create the right strains, breedings, and litters.  There were also some interruptions.",,,,,,,,,,,,,,,,,,,,,,,
All lists should display 100 items by default,COMA-2248,28691,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,11/Jan/18 3:11 PM,12/Jul/18 3:25 PM,27/Aug/18 11:00 AM,12/Jul/18 3:25 PM,,CM - Release 1.2,,,0,,,,,"_As a user, I would like to see all list views in Colony show 100 items be default so that I can see more of my data easier._

+Acceptance Criteria+:
* The listing pages for Strains, Gene mutations, Breedings, Litters, and Mice should default to 100 items per page.
* Modify the drop-down for number of items per page to include 10, 20, 50, 100 (default).",,,,;12/Jan/18 11:49 AM;jmedlock;900,;21/Feb/18 2:57 PM;bkoch;3600,;22/Feb/18 12:02 AM;rwilliams;300,;22/Feb/18 1:19 PM;bwinter;1800,;12/Jul/18 3:25 PM;rwilliams;300,,,,14400,0,6900,47%,14400,0,6900,,,,,,,,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on BREEDINGS List - 2018-02-22 13_24_15-.png;https://transnetyx.atlassian.net/secure/attachment/25991/PASSED+-+100+items+default+list+size+on+BREEDINGS+List+-+2018-02-22+13_24_15-.png,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on GENES List - 2018-02-22 13_22_49-.png;https://transnetyx.atlassian.net/secure/attachment/25994/PASSED+-+100+items+default+list+size+on+GENES+List+-+2018-02-22+13_22_49-.png,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on LITTERS List - 2018-02-22 13_25_39-.png;https://transnetyx.atlassian.net/secure/attachment/25992/PASSED+-+100+items+default+list+size+on+LITTERS+List+-+2018-02-22+13_25_39-.png,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on MICE List - 2018-02-22 13_26_46-.png;https://transnetyx.atlassian.net/secure/attachment/25990/PASSED+-+100+items+default+list+size+on+MICE+List+-+2018-02-22+13_26_46-.png,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on STRAINS List - 2018-02-22 13_20_56-.png;https://transnetyx.atlassian.net/secure/attachment/25993/PASSED+-+100+items+default+list+size+on+STRAINS+List+-+2018-02-22+13_20_56-.png,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-22T00:19:20.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00u9j:,,,,,,,,,2018-02-21 20:26:41.228,"21/Feb/18 2:26 PM;bkoch;[~jcox], What cage list were you talking about?  I can't seem to remember where there would be a cage list, but maybe I'm just having a brain fart.  Thanks,

Brad","21/Feb/18 2:53 PM;jcox;[~bkoch] My mistake!  Just removed that from the story description.  Good catch!
",,,,,,,,,,,,,,,,,,,,,,,,
Transfer mice from the Mice List,COMA-2236,28671,,Story,Cancelled,COMA,Colony Manager,software,admin,,,3 Standard,Won't Do,,bwinter,bwinter,04/Jan/18 8:39 AM,30/Jul/18 1:26 PM,27/Aug/18 11:00 AM,30/Jul/18 1:26 PM,,Unplanned,,,0,,,,,,,,,;30/Jul/18 1:26 PM;bwinter;60,,,,,,,,,0,60,,,0,60,,,COMA-2045,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,Unassigned,,,0|i00u53:,,,,,,,,,,23/Jan/18 12:29 PM;bwinter;[~jcox] can you delete this ticket?,,,,,,,,,,,,,,,,,,,,,,,,,
Data modified in RIO is not reflected,COMA-2226,28654,,Bug,Staging,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,jcox,jcox,19/Dec/17 10:32 AM,06/Jul/18 8:46 AM,27/Aug/18 11:00 AM,06/Jul/18 8:19 AM,,CM - Release 1.1,,,0,,,,,"After linking a cage to RIO data(data imported successfully), the user can modify the phone number in RIO. The change file is generated and uploaded to the Transnetyx ftp site - uet folder, however, the change is not propagated to Transnetyx.
Need to confirm that we are receiving and importing this data correctly.

(Smartsheet: COMA170)",,,,;06/Jul/18 8:19 AM;bwinter;60,;06/Jul/18 8:19 AM;bwinter;60,,,,,,,,0,120,,,0,120,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,rjonakin,{},,,,,,,,,,,,,,,,,rjonakin,,,Unassigned,,bwinter,0|i00u1b:,,,,We need to use a sample data file containing a phone number change and ensure that it is being imported correctly.,,,,,2018-01-08 17:06:45.188,08/Jan/18 11:06 AM;jmedlock;[~rjonakin] Did we do this? I think we may have been working from multiple tickets on the RIO data.,"11/Jan/18 2:31 PM;jmedlock;[~rjonakin] This is already in QA as you mentioned before, i am just escalating the ticket to the correct status. May need to adjust the release number also, if we release this in 1.1.",05/Jul/18 5:01 PM;rjonakin;The work for this ticket was a part of the fix in COMA-2110,"05/Jul/18 5:29 PM;rjonakin;[~bwinter]

I pushed this into QA, but I do not know if there is much you can test when you look at this ticket. This ticket was fixed by COMA-2110 Like I stated above. This has also been out in staging for  a while now. I think it is all working.","06/Jul/18 8:18 AM;bwinter;[~jmedlock], [~cleduc], [~jcox], [~rjonakin], I am not sure how to test this ticket, since (from what I understand from [~jmedlock]) it is special, one-off logic for UCSF users.  If there is anyone who would like me to reconsider, I am totally open to any ideas.  

For now, I will ""PASS"" it in testing and move it along to STAGING but am totally willing to re-open and test if anyone has a suggestion for how I could test in QA or Staging.

I am also changing the release to 1.1, since [~rjonakin] said in the comment above that this was part of the work done for another ticket released in 1.1.","06/Jul/18 8:46 AM;bwinter;[~cleduc], [~jcox], [~rjonakin], Just keeping you in the loop:

[~jmedlock] just replied via email that ""This is a pass I got confirmation from UCSF. We need to make 1 change but I will put in a new ticket if needed.""",,,,,,,,,,,,,,,,,,,,
Lab Contact Name missing from RIO information,COMA-2188,28551,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,22/Nov/17 1:36 PM,12/Jul/18 3:27 PM,27/Aug/18 11:00 AM,12/Jul/18 3:27 PM,,CM - Release 1.2,,,0,,,,,"Lab contact name missing from RIO information (see screenshot).

(Smartsheet: COMA225)",,,,;12/Jan/18 4:16 PM;jmedlock;900,;21/May/18 11:33 AM;rjonakin;14400,;21/May/18 11:34 AM;rjonakin;1800,;21/May/18 11:34 AM;rjonakin;300,;12/Jul/18 3:27 PM;rwilliams;300,,,,,0,17700,,,0,17700,,,,,,,,22/Nov/17 1:36 PM;jcox;CageDetails_LabContactName missing.png;https://transnetyx.atlassian.net/secure/attachment/25277/CageDetails_LabContactName+missing.png,21/May/18 11:28 AM;rjonakin;This Is Working.png;https://transnetyx.atlassian.net/secure/attachment/26892/This+Is+Working.png,,,,,,,,,,,,,,,,jmedlock,rjonakin,{},,,,,,,,,,,,,,,,,rjonakin,,,Unassigned,,rjonakin,0|i00ten:,,,,"1) In the Wilkerson group, choose cage 2264677
2) View RIO details",,,,,2018-01-12 21:33:59.224,"12/Jan/18 3:33 PM;jmedlock;[~rjonakin] can you look at this ticket for RIO, I believe you corrected this also but wanted to verify.

Thanks,
Jim","12/Jan/18 4:03 PM;rjonakin;[~jmedlock]
I think I fixed this, but I can't quite remember, I'll check on it when I get some free time and I'll put an update in this ticket.",12/Jan/18 4:04 PM;jmedlock;[~rjonakin] Thanks man!,"21/May/18 11:32 AM;rjonakin;[~jmedlock]
[~jcox]

This is fixed.
Check the above screenshot attached to this ticket title ""This Is Fixed.png"".

 !This Is Working.png|thumbnail! ","21/May/18 11:35 AM;rjonakin;[~jcox]
I moved this ticket through the statuses, since this has been finished and deployed to the staging/UCSF environment. It has been sitting in my queue since November...",21/May/18 12:19 PM;jmedlock;[~rjonakin] Thanks man!,,,,,,,,,,,,,,,,,,,,
MGI Service: Search Jax site for alleles,COMA-2177,28517,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,jmedlock,jmedlock,jmedlock,14/Nov/17 3:20 PM,12/Jul/18 4:38 PM,27/Aug/18 11:00 AM,12/Jul/18 3:35 PM,,CM - Release 1.2,,,0,alleles,jax_website,mgi_integration,,"*This change should be completed in the Jax Service API.*
* Add a class to search the Jax web site for stock numbers and return MGI IDs for each allele
* Add a API exposed method to the MGI service that returns the MGI IDs for each allele

Search the Jax site for stock numbers and return alleles.",,,,;04/Jan/18 2:27 PM;jmedlock;28800,;26/Jan/18 2:12 PM;jmedlock;14400,;26/Jan/18 2:13 PM;jmedlock;3600,;12/Jul/18 3:35 PM;rwilliams;300,,,,,46800,0,47100,100%,46800,0,47100,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,jmedlock,{},,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,jmedlock,0|i00t73:,,,,,,,,,2018-01-04 20:47:30.458,"04/Jan/18 2:28 PM;jmedlock;[~rwilliams] I need to pull this into Prod at some point and with the latest updates to the branches, I would like your help when you get time.

Thanks,
Jim",04/Jan/18 2:47 PM;rwilliams;[~jmedlock] - you let me know when you are ready - it shouldn't take more than 10 minutes unless you really screwed things up or something... ;),"26/Jan/18 2:12 PM;jmedlock;[~rwilliams] dont forget to peer review this and move it on in the process please.

Thanks!",12/Jul/18 3:29 PM;rwilliams;[~jmedlock]  Did this get pulled into the source control and deployed to prod?,"12/Jul/18 3:35 PM;jmedlock;[~rwilliams] I am pretty sure it is there now. We are not using it yet but it did get pulled in.

Thanks,
Jim",12/Jul/18 3:48 PM;cleduc;[~rwilliams][~jmedlock] This is one where Amanda and I weren't sure how to tell if it is there or not. Am I right that this ticket is behind the scenes only? ,"12/Jul/18 4:37 PM;rwilliams;[~cleduc]  [~jmedlock]  Yes. This is a service that has no user interface. I moved all of those tickets that were in a “Staging” status to a “Production” status earlier (this is one of them and I assume the reason you are asking about it). Hopefully that will resolve some of your questions.  
",12/Jul/18 4:38 PM;cleduc;[~rwilliams] thanks!,,,,,,,,,,,,,,,,,,
"Change text from ""Gender"" to ""Sex""",COMA-2176,28515,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,14/Nov/17 10:56 AM,12/Jul/18 3:30 PM,27/Aug/18 11:00 AM,12/Jul/18 3:30 PM,,CM - Release 1.2,,,0,,,,,"_As a user I, I want ""Gender"" to be changed to ""Sex"" so that the site's verbiage is clear and consistent._

+Acceptance Criteria+:
* The word ""Gender"" to is changed to ""Sex"".  Currently we are seeing 2 locations that show the word ""gender"", one in the mouse filter listing, and one in the spreadsheet interface for importing mice.  See attached screenshots.",,,,;12/Jan/18 4:19 PM;jmedlock;900,;14/Feb/18 4:36 PM;bkoch;3600,;14/Feb/18 9:32 PM;rwilliams;300,;22/Feb/18 8:54 AM;bwinter;30,;12/Jul/18 3:30 PM;rwilliams;300,,,,14400,0,5130,35%,14400,0,5130,,,,,,,,22/Feb/18 8:54 AM;bwinter;PASSED - mice list - import mice - sex - 2018-02-22 08_51_03-.png;https://transnetyx.atlassian.net/secure/attachment/25960/PASSED+-+mice+list+-+import+mice+-+sex+-+2018-02-22+08_51_03-.png,22/Feb/18 8:54 AM;bwinter;PASSED - mice list - mouse filter - sex - 2018-02-22 08_51_03-.png;https://transnetyx.atlassian.net/secure/attachment/25959/PASSED+-+mice+list+-+mouse+filter+-+sex+-+2018-02-22+08_51_03-.png,14/Nov/17 10:56 AM;jcox;gender1.PNG;https://transnetyx.atlassian.net/secure/attachment/25255/gender1.PNG,14/Nov/17 10:56 AM;jcox;gender2.PNG;https://transnetyx.atlassian.net/secure/attachment/25254/gender2.PNG,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-15T11:58:45.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00t6n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change scroll bar width to default width for browser,COMA-2097,28358,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,27/Sep/17 2:02 PM,12/Jul/18 3:36 PM,27/Aug/18 11:00 AM,12/Jul/18 3:36 PM,,CM - Release 1.2,,,0,,,,,"_As a user, I would like the scroll bars to be normal sizes so that I can more easily navigate my data._

+Acceptance Criteria+:
* Scroll bar sizing to be the default size for most browsers.

+Per Ted - Note for SQA+: 
Default browser values:
* OSX (Chrome, Safari, Firefox) - 15px
* Windows XP (IE7, Chrome, Firefox) - 17px
* Windows 7 (IE10, IE11, Chrome, Firefox) - 17px
* Windows 8.1 (IE11, Chrome, Firefox) - 17px
* Windows 10 (IE11, Chrome, Firefox) - 17px
* Windows 10 (Edge 12/13) - 12px
* Updating the scroll bar size to default or 15 px would make the site more user friendly on Kendo grids.

(Smartsheet: COMA146)",,,,;12/Jan/18 4:16 PM;jmedlock;900,;14/Feb/18 3:57 PM;bkoch;3600,;14/Feb/18 9:32 PM;rwilliams;300,;12/Mar/18 2:23 PM;bwinter;900,;12/Jul/18 3:36 PM;rwilliams;300,,,,43200,0,6000,13%,43200,0,8100,,,,,,,,12/Mar/18 2:23 PM;bwinter;PASSED - Scroll bars in IE 11 - 2018-03-12 14_19_30-.png;https://transnetyx.atlassian.net/secure/attachment/26192/PASSED+-+Scroll+bars+in+IE+11+-+2018-03-12+14_19_30-.png,,,,,,,,,,,,,,,,,jmedlock,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-15T11:57:56.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,qevans,0|i00s9z:,,,,,,,,,2018-01-16 21:08:10.948,16/Jan/18 3:08 PM;tpatterson;These should be changed to their default appearances across browsers and devices. It makes sense to keep them at default because the user is already conditioned to each environment's scrolling look and feel.,,,,,,,,,,,,,,,,,,,,,,,,,
Display mouse/litter/breeding age in weeks when older than 28 days,COMA-2069,28284,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,05/Sep/17 9:15 AM,12/Jul/18 3:38 PM,27/Aug/18 11:00 AM,12/Jul/18 3:38 PM,,CM - Release 1.2,,,0,,,,,"_As a user, I want to see *mouse age*, *litter age*, and *breeding time* (""age"") in days until the 29 day, then from 29 days and beyond, I want to see them in weeks, so that I see age in terms of how we normally talk about them when managing the colony._

+Scenario+: _Display age_
*Given* the age of the {{<object>}} is equal to {{<days>}}
*When* the age is displayed
*Then* the age is displayed as {{<display_age>}}.

+Scenario+: _Sorting by age_
*Given* I am looking at a list with an {{<object>}} age column
*When* I sort the list by the age column
*Then* the age is sorting by the underlying age in days (e.g. this list is correctly sorted: {{1d, 2d, 5d, 6d, 28d, 5w, 6w, 28w}})

+Examples+:

|| {{object}} ||
| {{mouse}} |
| {{litter}} |
| {{breeding}} |

|| {{days}} || {{display_age}} ||
| {{1}} | {{1d}} |
| {{2}} | {{2d}} |
| {{...}} | {{...}} |
| {{28}} | {{28d}} |
| *{{29}}* | *{{5w}}* |
| {{30}} | {{5w}} |
| {{...}} | {{...}} |
| {{35}} | {{5w}} |
| *{{36}}* | *{{6w}}* |
| {{37}} | {{6w}} |
| {{...}} | {{...}} |
| {{42}} | {{6w}} |
| *{{43}}* | *{{7w}}* |
| {{44}} | {{7w}} |
| {{...}} | {{...}} |
| {{49}} | {{7w}} |
| {{...}} | {{...}} |

h1. Notes

* This task will assist the user visually in determining the age of mice in their colony. 
* Ages are generally referred to in weeks not days after the 28th day.

h1. Places that Display Age
Below are pages that display mouse/litter age

* Breedings > Breeding Details
** {color:#14892c}Banner > Active Age (of Breeding) - PASSED{color}
** {color:#14892c}Banner > Active Litter Ages - PASSED{color}
** {color:#14892c}Mouse Record(s) in Parent Tab - PASSED{color}
** {color:#14892c}Mouse Record(s) in Offspring Tab - PASSED{color}
* {color:#14892c}Breeding Wizard > Step 2 > Add Breeding Parents - PASSED{color} 
* {color:#14892c}Litters > Age column - PASSED{color}
* Litters > Litter Details
** {color:#14892c}Age detail in Litter Banner - PASSED{color}
** {color:#14892c}Mouse Record(s) in Parent Tab - PASSED{color}
** {color:#14892c}Mouse Record(s) in Offspring Tab - PASSED{color}
* Litters > Litter workbench 
** {color:#14892c}Age detail in Litter Banner - PASSED{color}
** {color:#14892c}Mouse Record(s) in Parent Group - PASSED{color}
** {color:#14892c}Mouse Record(s) in Offspring Group - PASSED{color}
* {color:#14892c}Mice > Age column - PASSED{color}
* {color:#14892c}Cages > Cage icon with litters - PASSED{color}
* Cages > Cage Details
** {color:#14892c}Mice Records - PASSED{color}
** {color:#14892c}Litter Records - PASSED{color}
* {color:#14892c}Cage Workbench > Cages > Mice Records - PASSED{color}


h1. Note to SQA

This ticket was tested using Google Chromes instead of Internet Explorer, because the test path chosen required setting up breedings, but the breeding wizard has a bug, see COMA-2360 - Cannot see text inside input fields for Breeding Wizard in IE 11 browser.

h1. Smartsheet Note

(Smartsheet: COMA198)


",,,,;24/Jan/18 2:15 PM;jcox;10800,;19/Feb/18 5:34 AM;bkoch;21600,;19/Feb/18 7:08 AM;rwilliams;300,;27/Feb/18 8:54 AM;bwinter;28800,;28/Feb/18 10:51 AM;bwinter;60,;12/Jul/18 3:38 PM;rwilliams;300,,,28800,0,61860,214%,28800,0,74040,,,,,,COMA-2393,,27/Feb/18 8:59 AM;bwinter;COMA-2069 - testing notes - 2018-02-27-0857.docx;https://transnetyx.atlassian.net/secure/attachment/26046/COMA-2069+-+testing+notes+-+2018-02-27-0857.docx,27/Feb/18 8:36 AM;bwinter;PASSED - Breeding Details - Offspring Tab - Mice Records - 2018-02-26 15_03_41-.png;https://transnetyx.atlassian.net/secure/attachment/26034/PASSED+-+Breeding+Details+-+Offspring+Tab+-+Mice+Records+-+2018-02-26+15_03_41-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Cage Details - Ages in Parent Records - 2018-02-26 14_28_04-.png;https://transnetyx.atlassian.net/secure/attachment/26035/PASSED+-+Cage+Details+-+Ages+in+Parent+Records+-+2018-02-26+14_28_04-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Cage Map Icons - 2018-02-26 14_25_37-.png;https://transnetyx.atlassian.net/secure/attachment/26032/PASSED+-+Cage+Map+Icons+-+2018-02-26+14_25_37-.png,28/Feb/18 10:50 AM;bwinter;PASSED - Cage map - litter records - litter ages in weeks (where appropriate) - negative ages in days but that is okay - 2018-02-28 10_45_53-.png;https://transnetyx.atlassian.net/secure/attachment/26077/PASSED+-+Cage+map+-+litter+records+-+litter+ages+in+weeks+%28where+appropriate%29+-+negative+ages+in+days+but+that+is+okay+-+2018-02-28+10_45_53-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter Details - Mice Records - Offspring - 2018-02-27 08_26_41-.png;https://transnetyx.atlassian.net/secure/attachment/26028/PASSED+-+Litter+Details+-+Mice+Records+-+Offspring+-+2018-02-27+08_26_41-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter Details - Mice Records - Parents - 2018-02-27 08_26_41-.png;https://transnetyx.atlassian.net/secure/attachment/26031/PASSED+-+Litter+Details+-+Mice+Records+-+Parents+-+2018-02-27+08_26_41-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter Workbench - Banner - Litter Age - 2018-02-26 14_55_17-.png;https://transnetyx.atlassian.net/secure/attachment/26027/PASSED+-+Litter+Workbench+-+Banner+-+Litter+Age+-+2018-02-26+14_55_17-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter Workbench - Mice Records - Offspring - 2018-02-27 08_26_41-.png;https://transnetyx.atlassian.net/secure/attachment/26029/PASSED+-+Litter+Workbench+-+Mice+Records+-+Offspring+-+2018-02-27+08_26_41-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter workbench - Mice Records - Parents - 2018-02-27 08_34_36-.png;https://transnetyx.atlassian.net/secure/attachment/26030/PASSED+-+Litter+workbench+-+Mice+Records+-+Parents+-+2018-02-27+08_34_36-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Workbench - Cage Cards - Mice Records - 2018-02-26 14_42_34-.png;https://transnetyx.atlassian.net/secure/attachment/26033/PASSED+-+Workbench+-+Cage+Cards+-+Mice+Records+-+2018-02-26+14_42_34-.png,28/Feb/18 10:50 AM;bwinter;PASSED - active breeding age in weeks - active litter ages in weeks (where appropriate) - negative litters in days but no problem there - 2018-02-28 10_41_15-.png;https://transnetyx.atlassian.net/secure/attachment/26075/PASSED+-+active+breeding+age+in+weeks+-+active+litter+ages+in+weeks+%28where+appropriate%29+-+negative+litters+in+days+but+no+problem+there+-+2018-02-28+10_41_15-.png,28/Feb/18 10:50 AM;bwinter;PASSED - breeding wizard - step 2 - select parents - age column in weeks (where appropriate) - 2018-02-28 10_43_54-.png;https://transnetyx.atlassian.net/secure/attachment/26076/PASSED+-+breeding+wizard+-+step+2+-+select+parents+-+age+column+in+weeks+%28where+appropriate%29+-+2018-02-28+10_43_54-.png,27/Feb/18 8:36 AM;bwinter;PASSED - litter details - parents - 2018-02-26 14_20_45-.png;https://transnetyx.atlassian.net/secure/attachment/26036/PASSED+-+litter+details+-+parents+-+2018-02-26+14_20_45-.png,27/Feb/18 8:36 AM;bwinter;PASSED - litter list - sorting by litter age desc - 2018-02-26 14_03_46-.png;https://transnetyx.atlassian.net/secure/attachment/26038/PASSED+-+litter+list+-+sorting+by+litter+age+desc+-+2018-02-26+14_03_46-.png,27/Feb/18 8:36 AM;bwinter;PASSED - mice list - sorting by mice age asc - 2018-02-26 09_05_49-.png;https://transnetyx.atlassian.net/secure/attachment/26039/PASSED+-+mice+list+-+sorting+by+mice+age+asc+-+2018-02-26+09_05_49-.png,27/Feb/18 8:36 AM;bwinter;PASSED - mice list - sorting by mice age desc - 2018-02-26 09_05_49-.png;https://transnetyx.atlassian.net/secure/attachment/26037/PASSED+-+mice+list+-+sorting+by+mice+age+desc+-+2018-02-26+09_05_49-.png,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-22T00:04:29.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00rtj:,,,,,,,,,2018-01-14 02:28:37.719,13/Jan/18 8:28 PM;bwinter;[~jmedlock] Mouse age and Litter age are typically displayed in weeks on day 29 and beyond.  What about Breeding time?  Does the same rule follow?,"15/Jan/18 8:26 AM;jmedlock;[~bwinter] i think i understand where in the app you are talking about so I am thinking that anywhere we display an age of something, we should follow the same display rules.
","19/Jan/18 1:40 PM;jmedlock;[~bwinter] [~jcox] any updates or questions that still need to be answered here before we send to ""Needs Scoring"" change control?
","19/Jan/18 1:42 PM;bwinter;[~jmedlock] and [~jcox] before I understood the differences between a task and a story, I wrote this as a ""task"".  I can change to story format.","19/Jan/18 1:45 PM;jmedlock;[~bwinter] [~jcox] Sounds good. If we have a need to incorporate Tasks as an issue type, I am open to that idea as long as the workflow still makes sense.

Thanks,
Jim","19/Jan/18 2:14 PM;bwinter;[~jmedlock] and [~jcox] This card is now ready for estimation.  [~jmedlock] after talking with Jeff, I can see how my conception of a ""task"" card is the same as a story card.  Having different workflows for tasks-that-are-stories and tasks-that-are-subtasks-of-stories would likely cause confusion.","16/Feb/18 8:20 AM;bkoch;[~bwinter] [~jmedlock], just making sure, but we're only replacing this in the lists correct?  Or if other places, do we have a specific list of all the places it needs changed?","16/Feb/18 8:44 AM;bwinter;[~bkoch] [~jmedlock] There is a ""Note to SQA"" section in the description that notes all the places where ""age"" comes up.  I am not sure it is exhaustive, but I feel confident it covers a majority of the places.","16/Feb/18 8:47 AM;bkoch;Thanks [~bwinter], will use that as a reference, totally looked over it.","16/Feb/18 8:49 AM;bwinter;[~bkoch] No problem at all.  It is my fault, I need to change the section title from ""Notes to SQA"" to ""Places where XYZ happens""  or something like that.   There were a couple of other tickets where ""Notes to SQA"" section listed the places where the given ticket function could occur.",,,,,,,,,,,,,,,,
Add Existing Mice to Cage,COMA-2064,28271,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,28/Aug/17 9:50 AM,20/Aug/18 10:42 AM,27/Aug/18 11:00 AM,16/Jul/18 4:48 PM,,CM - Release 1.2,,,0,add_mice,cage_map,cage_method,filtered_mice_list,"_As a user, I want to add *existing* mice to a cage from the cage details modal, because it is convenient._

+Acceptance Criteria+:
* When I open the Cage Details, then I can add existing mice to the cage from a new page that lists existing mice using an interface similar to the Add Breeding Parents view.  
* !addmice.JPG|thumbnail! 
* By default, the existing mice list should be filtered to only show mice that are not currently assigned a cage.
* -User can modify the filter to include mice that are NOT already assigned to a cage.-
* When user clicks the add button on a Mouse row, the row stays visible but indicates that the mouse is added.
* Users can remove/deselect mice that they have clicked Add on.
* -Users can sort the columns visible in this view.-
* When the user completes their selection they are returned to the cage map with the cage details view open to the cage they were just adding mice to.

+Task+: _Change ""Add Mice"" link to ""Add New Mice""_

+Scenario+: _Add ""Add Existing Mice"" to Cage Details_
*Given* that I have accessed the Cage Details
*When* I click ""Add Existing Mice"" button
*Then* I am taken to an Add-Existing-Mice Mice List where I can filter by all filters currently on Mice List and search for mice
*And* the Add-Existing-Mice Mice List is -default- filtered by *alive* mice *without* an assigned cage
-*And* I can change the default filer if desired.-
*And* I can select multiple mice from the Add-Existing-Mice Mice List
*And* I am presented with a Add Mice button that adds mice to Cage

----

h1. Notes

h2. Already in iOS

This story already exists in iOS.  Below are the steps to add *existing* mice to a cage.

# from Dashboard, click *Cages* button > user taken to _Cage List_
# from _Cage List_, click *Add Mice* button/link on desired cage > _Actions_ modal pops up (see *IMG_0005.PNG*)
# from _Actions Modal_, click *Add Existing Mice* button > a _Select Mice_ modal pops up with *auto-filter* for _alive_ mice _without a cage_ (see *IMG_0006.PNG*)
# from _Select Mice_ modal, *select a mouse from auto-filtered list* or change filter to find desired mouse.

(Smartsheet: COMA317)",,,,;13/Jan/18 10:07 PM;bwinter;1800,;17/May/18 4:47 PM;jadhikari;86400,;25/May/18 2:24 PM;rwilliams;300,;29/May/18 8:46 AM;bwinter;600,;08/Jul/18 10:45 PM;bwinter;1800,,,,115200,0,90900,78%,115200,0,120900,,,,,,COMA-2625,COMA-2631,11/Dec/17 9:47 AM;bwinter;IMG_0005.PNG;https://transnetyx.atlassian.net/secure/attachment/25424/IMG_0005.PNG,11/Dec/17 9:47 AM;bwinter;IMG_0006.PNG;https://transnetyx.atlassian.net/secure/attachment/25425/IMG_0006.PNG,08/Jul/18 10:45 PM;bwinter;PASSED - Add Existing Mice to Cage button allows user to select existing mice not yet assigned to cage - 2018-07-08 22_42_22-.png;https://transnetyx.atlassian.net/secure/attachment/27093/PASSED+-+Add+Existing+Mice+to+Cage+button+allows+user+to+select+existing+mice+not+yet+assigned+to+cage+-+2018-07-08+22_42_22-.png,08/Jul/18 10:45 PM;bwinter;PASSED - Existing mice successfully added to cage - 2018-07-08 22_44_21-.png;https://transnetyx.atlassian.net/secure/attachment/27094/PASSED+-+Existing+mice+successfully+added+to+cage+-+2018-07-08+22_44_21-.png,21/Feb/18 1:43 PM;jcox;addmice.JPG;https://transnetyx.atlassian.net/secure/attachment/25949/addmice.JPG,25/Jun/18 12:00 PM;bwinter;screenshot-1.png;https://transnetyx.atlassian.net/secure/attachment/27063/screenshot-1.png,25/Jun/18 12:00 PM;bwinter;zzz - Does modal need to be wider if screen allows it.png;https://transnetyx.atlassian.net/secure/attachment/27064/zzz+-+Does+modal+need+to+be+wider+if+screen+allows+it.png,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-05-25T14:24:42.445-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00rqv:,,,,,,,,,2017-12-11 15:39:34.229,"08/Dec/17 4:14 PM;jmedlock;[~bwinter] can you comment back on the steps on how this is done on iOS?
","11/Dec/17 9:39 AM;bwinter;[~jmedlock], in iOS | QA, to add *existing* mice to a cage from the _cage details_ modal, the user can follow these steps:

# from Dashboard, click Cages button > user taken to _Cage List_
# from _Cage List_, click ""Add Mice"" button on desired cage > _Actions_ modal pops up
# from _Actions Modal_, click ""Add Existing Mice"" button > a _Select Mice_ modal pops up with *auto-filter* for _alive_ mice _without a cage_.
# from _Select Mice_ modal, select a mice from auto-filtered list or change filter to find desired mouse.","17/Jan/18 1:32 PM;tpatterson;[~jmedlock] & [~bwinter] - Since this could be a potentially confusing process, I'd recommend that if the user selects ""Add Existing Mice"" they are taken to another page where they are presented a limited view of the Mice List. From here they could select, deselect, filter, search, and (at the bottom of the page) save or cancel. Also, it would be extremely helpful on both platforms to see how many mice you've selected and, if it's possible, easily see which ones have been selected. Like I mentioned this is where a user may get lost or forget which mice they've selected, having some way to display the collection of mice they're currently considering to add to the cage would takes pressure off the user and keep them moving forward.","17/Jan/18 2:56 PM;bwinter;[~jmedlock], I second [~tpatterson]'s comment.

[~tpatterson], did you see the attached screenshots below from iOS? What would you keep and change about them to fit your idea?

!IMG_0005.PNG|thumbnail! 
!IMG_0006.PNG|thumbnail! 

[~tpatterson], correct me if I am wrong:  the UI for this card would require these 3 items below.

* use a page for mice selection (as opposed to modal view)
* show count of mice selected
* visualize mice selected---I think this is done in iOS with the left-hand column of circles which are filled when you select a mouse
","17/Jan/18 3:30 PM;tpatterson;I did see those and you've definitely bulleted out what I suggested. I think that the iOS would also benefit from taking the user to another screen and having all real estate set aside to take the user through the adding process. With this approach, we'd have space to allow users to select mice, inform how many are selected, visualize which mice are selected and, finally, ""map"" or ""add"" mice to the cage. The only difference between what is currently being done (the users seeing the circle selections) and this last addition that I presented is that once a user has scrolled down enough or started another search, those selected mice will be out of view and could be forgotten or hard to find again. To keep our real estate in check, I think that a ""Currently Selected"" filter could help people quickly bring all their selections back into view again. I still think that this feature may be too hidden for most people to logically find it, but it could be a good first step.","07/Feb/18 4:48 PM;tpatterson;I've attached 2 mockups of some potential options for the add mouse to cage view. Clarification: the x icon would be used to clear all selections and the check icon could be used to only show currently selected mice. I'm not quite sure if using the check option is the best route, but the alternative would be to just include ""view selected"" and ""view all"" under filters. Thoughts?","21/Feb/18 1:46 PM;jcox;I've modified this story to be in line with the discussion we had during story estimation.  There is a new screenshot included of the existing UI for adding breeding parents, which is to be used as the template for the new page detailed by this story.","10/May/18 3:54 PM;jadhikari;[~jcox] [~tpatterson] Do we know what columns we want to show in the cage free mouse grid? 
cc [~jmedlock]","10/May/18 4:58 PM;jmedlock;[~jadhikari] [~tpatterson][~cleduc]

Jwala I think we can go simple an reuse the fields that iOS displays on the mouse cell in the above screen.
I believe they are:

Mouse Age, Gender, ID if present, Strain, Genotype, Owner initials, Labels.

[~cleduc] all of these required to identify a mouse? Can we limit to Age, gender, strain, genotype?

Thanks,
jim","11/May/18 8:12 AM;cleduc;[~jadhikari][~jmedlock][~tpatterson]
I think you can limit ID, Strain, Age, Gender, Genotype.
If possible, owner initials and labels would be helpful because the technician can receive one shipment of a strain and then be required to divide the animals based on the researcher and experiments. ","25/Jun/18 11:57 AM;bwinter;[~tpatterson], On Feb 7, you commented in this ticket that you attached 2 mock-ups, but I don't see them attached.  Probably too late now, but I just wanted to double-check if you still had them or not.
","25/Jun/18 11:58 AM;bwinter;[~cleduc], one of the acceptance criterion for this ticket was to have sort-able columns for the Add Existing Mice modal.  Is that still desired?","25/Jun/18 12:00 PM;bwinter;[~cleduc] Also, do you want the modal to be wider if the screen allows it?  Right now, it seems like the modal will only stretch so far which makes the Genotype and Strain hard to read.

 !zzz - Does modal need to be wider if screen allows it.png|thumbnail! ","25/Jun/18 12:02 PM;tpatterson;[~bwinter], I'm not quite sure where they are, as well. I'm going to stop by your office at some point and we'll look through the T Drive together. While the mockups will be dated, they may provide some directions.","25/Jun/18 12:03 PM;bwinter;[~cleduc], Sorry.  One more thing.  Two more acceptance criteria were the following:

* By default, the existing mice list should be filtered to only show mice that are not currently assigned a cage.
* User can modify the filter to include mice that are NOT already assigned to a cage.

The first one appears to be met, but the latter does not, which means that users will NOT be able to use ""Add Existing Mice"" feature to add mice that are in another cage.  It will only work for mice not yet assigned to a cage.
","25/Jun/18 1:00 PM;cleduc;[~bwinter] [~tpatterson]Hi! Let me know if I miss any questions.  

_By default, the existing mice list should be filtered to only show mice that are not currently assigned a cage._ - Yes.

_to have sort-able columns for the Add Existing Mice modal. Is that still desired?_ - Desired but I am willing to fly without it first pass. I vote to create a ""upgrade to Adding Existing Mice Feature"" ticket and add this functionality to that ticket.

_do you want the modal to be wider if the screen allows it? Right now, it seems like the modal will only stretch so far which makes the Genotype and Strain hard to read._ - If easy OK, if not, put in ""Upgrade to..."" ticket

_User can modify the filter to include mice that are NOT already assigned to a cage._ - Stick this in the ""upgrade to"" ticket also, although this is nice, it should not hold up the ticket as they can, and probably should, do this in the workbench.","25/Jun/18 2:30 PM;bwinter;[~cleduc],  I added these features to COMA-2625.   

[~tpatterson], when we get the chance, we should add the mock-ups to COMA-2625 instead of this ticket.","08/Jul/18 10:48 PM;bwinter;[~cleduc], [~jmedlock], I am passing this ticket.  Users can now add existing mice to cage from the Cage Map for mice not already assigned to cage. Great job, [~jadhikari]!  

I noticed that the add existing mice to cage does not work as expected when using this feature from the Cage Workbench.  The mice are added to the cage, but you cannot visually see the mouse records until you leave the Cage Workbench and go back to the Cage Map.

I will put in a bug ticket for this and assign to Unplanned: COMA-2631",,,,,,,,
Modify the Add Mice form,COMA-2058,28261,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,23/Aug/17 2:55 PM,12/Jul/18 3:41 PM,27/Aug/18 11:00 AM,12/Jul/18 3:41 PM,,CM - Release 1.1,CM - Release 1.2,,0,add_mice,creates_mice_unassigned_to_cage,prompt_user,quick-add,"_As a user, I want to quick-add mice to a strain or cage, so that I can quickly build up my colony to get started with the app._

+Acceptance Criteria+:

* When I click + button from Mice Panel on Dashboard, I want to be presented with a quick-add mice view.
* When I click ""Add Mice"" from a Cage, I want to be presented with a quick-add mice view.

+Scenario+: _""Quick-add"" mice from Mice Panel on Dashboard_
*Given* I am at the Dashboard 
*When* I click the + button in the Mice Panel
*Then* I am presented with a Quick-Add mice page where mice can be added quickly to my colony by strain.

+Scenario+: _""Quick-add"" mice from Cage Card_
*Given* I am at the Cage Map
*And* I click a Cage Icon to access the Cage Card
*When* I click Add Mice link
*Then* I am presented with a Quick-Add mice page where mice can be added quickly to my colony by strain.

+Scenario+: _Prompt user with ""Quick-Add"" page - from Cage Card_
*Given* that I have quick-added mice from Cage Card Panel
*When* I am presented with Quick-Add page
*Then* I can quickly set strain from strain drop-down
*And* I can quickly add mice data per row with 4 columns plus a button: *mouse id*, *genotype*, *sex*, *date of birth*, *remove button*
*And* I can quickly add mice row via ""+ Add New Mouse"" button
*And* I am presented with ""Cancel"" and ""Save"" buttons

+Scenario+: _Prompt user with ""Quick-Add"" page - from Mice Panel_
*Similar to* _Prompt user with ""Quick-Add"" page - from Cage Card_ \[differences in {color:#59afe1}blue{color}\]
*Given* that I have quick-added mice from Cage Card Panel
*When* I am presented with Quick-Add page
*Then* I can quickly set strain from strain drop-down
{color:#59afe1}*And* I can select cage from Cage drop-down{color}
*And* I can quickly add mice data per row with 4 columns plus a button: *mouse id*, *genotype*, *sex*, *date of birth*, *remove button*
*And* I can quickly add mice row via ""+ Add New Mouse"" button
*And* I am presented with ""Cancel"" and ""Save"" buttons

+Scenario+: _Select strain_
*Given* that I am presented with Quick-add page
*When* I select strain from from the Strain drop-down
*Then* the selected strain will be the assigned strain for each mouse added via Quick-Add page

+Scenario+: _Auto-fill Mouse ID_
*Given* that I am presented with Quick-add page
*When* I select strain from from the Strain drop-down
*Then* the Mouse ID is auto-filled (or not) according to the Offspring Settings set at the Strain Level

+Scenario+: _Auto-fill Mouse Genotype_
*Given* that I am presented with Quick-add page
*When* I select strain from from the Strain drop-down
*Then* the Mouse Genotype is auto-filled by first Genotype of the first Gene available for the selected strain
*And* the selected Mouse Genotype is displayed in the Mouse Genotype drop-down

+Scenario+: _Default state of Mouse sex is UNKNOWN_

+Scenario+: _Default state of Mouse Date of Birth sex is TODAY'S DATE_

+Scenario+: _Clicking remove button when there's only one row_
*Given* that I am presented with the Quick-add page
*And* there is only one new mouse row
*When* I click the remove button for the only row showing
*Then* the Quick Add page is cancelled
*And* I am taken back to previous page that called Quick-add page

+Scenario+: _Clicking ""+ Add new mouse"" button to add new mice_
*Given* that I am presented with the Quick-add page
*When* I click the ""+ Add new mouse"" button
*Then* a new mouse row is added
*And* Mouse ID is auto-filled (or not) according to Offspring Settings at Strain Level
*And* Mouse Genotype *copies previous* row's Genotype
*And* Mouse sex *copies previous* mouse's sex
*And* Mouse Date of birth *copies previous* mouse's date of birth

+Scenario+: _Clicking remove button when there's more than one row_
*Given* that I am presented with the Quick-add page
*And* more than one mouse row has been added
*When* I click the remove button for any mouse row (including the first row)
*Then* that mouse row is removed from Quick-Add page
*And* Mouse ID's for remaining rows are auto-filled again

+Scenario+: _Clicking Cancel button_
*Given* that I am presented with the Quick-add page
*When* I click the ""Cancel"" button
*Then* I am prompted with a modal to cancel or confirm cancellation

+Scenario+: _Clicking Save when coming from Cage Card_
*Given* that I am in the Cage Card view
*And* that I add mice to the Cage
*And* that I am presented with the Quick-add page 
*When* I click the ""Save"" button
*Then* all added mice are saved under that strain
*And* all added mice are added to that Cage

+Scenario+: _Clicking Save when coming from Dashboard Mice Panel_
*Given* that I am at the Dashboard
*And* that I click to add mice from the Mice panel + button
*And* that I am presented with the Quick-add page from the Cage Card view
*When* I click the ""Save"" button
*Then* all added mice are saved under that strain
*And* I am prompted to add created mice to a cage

+Scenario+: _Prompt user to add mice to a cage_
*Given* that I have successfully added mice to my colony from the Quick-add page
*When* I am prompted to Add Mice to a Cage
*Then* the prompt says ""Would you like to add these mice to a cage?""
*And* the user is presented with two buttons ""No"" and ""Yes""
*And* the user is presented with a small note at bottom of prompt stating ""If no, then mice will be unassigned to a cage and can only be searched from Mice List by removing strain filter and sorting by Cage ID, where unassigned mice have a blank for the Cage ID.""

+Scenario+: _Click No to Add Mice to Cage prompt_
*Given* that Add Mice to Cage prompt has been presented
*When* I click No button
*Then* add mice are created but are *not* assigned to a cage

+Scenario+: _Click Yes to Add Mice to Cage prompt_
*Given* that Add Mice to Cage prompt has been presented
*When* I click Yes button
*Then* I am redirected to Cage Workbench with all created mice added to a new cage

+Scenario+: _Click off Add Mice to Cage prompt modal_
*Given* that Add Mice to Cage prompt has been presented
*When* I click off the modal 
*Then* I am redirected to back to Quick-add mice page with all mice data still sitting there ready for me to take an action on it.

+Scenario+: _Clicking to change Mouse Genotype when strain has *{{one}}* gene with *{{n}}* allele combinations_
*Given* that I am presented with Quick-add page
*When* I select one {{<genotype>}} from the Mouse Genotype drop-down
*Then* the {{<selected result>}} is displayed in the Mouse Genotype drop-down

+Examples+:

|| {{genotype}} || {{selected result}}||
| {{Gene <allele combo 1>}} | {{*Gene* <allele combo 1>}} |
| {{Gene <allele combo 2>}} | {{*Gene* <allele combo 2>}} |
| {{...}} | {{...}} |
| {{Gene <allele combo n>}} | {{*Gene* <allele combo n>}} |

+Scenario+: _Clicking to change Mouse Genotype when strain has *{{two}}* genes with *{{n1}}* and *{{n2}}* allele combinations, respectively_
*Given* that I am presented with Quick-add page
*When* I select {{<Gene1 allele combo>}} and {{<Gene2 allele combo>}}from the Mouse Genotype drop-down
*Then* the {{<selected result>}} is displayed in the Mouse Genotype drop-down

+Examples+:

|| {{Gene1 allele combo}} || {{Gene2 allele combo}} || {{selected result}} ||
| *{{Gene1 <allele combo 1>}}* | {{Gene2 <allele combo 1>}} | {{*Gene1* <allele combo 1> *Gene2* <allele combo 1>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 2>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 2>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <...>}} | {{*Gene1* <allele combo 1>  *Gene2* <...>}} |
| {{Gene1 <allele combo 1>}} | *{{Gene2 <allele combo n2>}}* | *{{Gene1 <allele combo 1>  Gene2 <allele combo n2>}}* |
| *{{Gene1 <allele combo 2>}}* | {{Gene2 <allele combo 1>}} | {{*Gene1* <allele combo 2>  *Gene2* <allele combo 1>}} |
| {{Gene1 <allele combo 2>}} | {{Gene2 <allele combo 2>}} | {{*Gene1* <allele combo 2>  *Gene2* <allele combo 2>}} |
| {{Gene1 <allele combo 2>}} | {{Gene2 <...>}} | {{*Gene1* <allele combo 1> *Gene2* <...>}} |
| {{Gene1 <allele combo 2>}} | *{{Gene2 <allele combo n2>}}* | *{{Gene1 <allele combo 2>  Gene2 <allele combo n2>}}* |
| *{{...}}* | {{...}} | {{...}} |
| *{{Gene1 <allele combo n1>}}* | {{Gene2 <allele combo 1>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo 1>}} |
| {{Gene1 <allele combo n1>}} | {{Gene2 <allele combo 2>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo 2>}} |
| {{Gene1 <allele combo n1>}} | {{Gene2 <...>}} | {{*Gene1* <allele combo 1>  *Gene2* <...>}} |
| {{Gene1 <allele combo n1>}} | *{{Gene2 <allele combo n2>}}* | *{{Gene1 <allele combo n1>  Gene2 <allele combo n2>}}* |

+Scenario+: _Clicking to change Mouse Genotype when strain has *{{K}}* genes with *{{n1}}*, *{{n2}}*, ..., *{{nK}}* allele combinations, respectively_
*Given* that I am presented with Quick-add page
*When* I select {{<Gene1 allele combo>}}, {{<Gene2 allele combo>}}, ...,  {{<GeneK allele combo>}} from the Mouse Genotype drop-down
*Then* the {{<selected result>}} is displayed in the Mouse Genotype drop-down

+Examples+:

|| {{Gene1 allele combo}} || {{Gene2 allele combo}} || {{...}} || {{GeneK allele combo}} || {{selected result}} ||
| *{{Gene1 <allele combo 1>}}* | {{Gene2 <allele combo 1>}} | {{...}} | {{GeneK <allele combo 1>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 1>  ...  *GeneK* <allele combo 1>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 1>}} | {{...}} | {{GeneK <allele combo 2>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 1>  ...  *GeneK* <allele combo 2>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 1>}} | {{...}} | {{GeneK <allele combo nK>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 1>  ...  *GeneK* <allele combo nK>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| *{{Gene1 <allele combo 1>}}* | *{{Gene2 <allele combo 2>}}* | {{...}} | {{GeneK <allele combo 1>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 2>  ...  *GeneK* <allele combo 1>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 2>}} | {{...}} | {{GeneK <allele combo 2>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 2>  ...  *GeneK* <allele combo 2>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 2>}} | {{...}} | {{GeneK <allele combo nK>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 2>  ...  *GeneK* <allele combo nK>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| *{{Gene1 <allele combo 1>}}* | *{{Gene2 <allele combo n2>}}* | {{...}} | {{GeneK <allele combo 1>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo 1>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo n2>}} | {{...}} | {{GeneK <allele combo 2>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo 2>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo n2>}} | {{...}} | {{GeneK <allele combo nK>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo nK>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| *{{Gene1<allele combo n1>}}* | *{{Gene2 <allele combo n2>}}* | {{...}} | {{GeneK <allele combo 1>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo 1>}} |
| {{Gene1 <allele combo n1>}} | {{Gene2 <allele combo n2>}} | {{...}} | {{GeneK <allele combo 2>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo 2>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| {{Gene1 <allele combo n1>}} | {{Gene2 <allele combo n2>}} | {{...}} | {{GeneK <allele combo nK>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo nK>}} |

-----

h1. Housekeeping Notes

h2. Notes to BA

* The hand-drawn views for the Quick-Add page are accidentally *missing Cancel and Save buttons*.
* This ticket assumes that Quick-Add is handled as a page instead of a modal; it is currently being handled as a modal.
* Another ticket may be in for drop down selection text bug COMA-2062 
* The drop down text is remaining ""Select Genotype"" even when a genotype is selected.
* (Smartsheet: COMA319)
* (Smartsheet: COMA54)",,,,;12/Jan/18 10:44 PM;bwinter;7200,;06/Mar/18 1:41 PM;jadhikari;144000,;06/Mar/18 2:57 PM;admin;600,;12/Mar/18 2:05 PM;rwilliams;300,;04/Apr/18 10:36 AM;bwinter;1200,;12/Jul/18 3:41 PM;rwilliams;300,,,86400,0,153600,177%,86400,0,153600,,,,,COMA-2455,COMA-2062,,17/Jan/18 1:16 PM;tpatterson;New Add Mice Modal V1.html;https://transnetyx.atlassian.net/secure/attachment/25606/New+Add+Mice+Modal+V1.html,19/Feb/18 3:49 PM;tpatterson;New Add Mouse Modal V1.jpg;https://transnetyx.atlassian.net/secure/attachment/25913/New+Add+Mouse+Modal+V1.jpg,04/Apr/18 10:32 AM;bwinter;PASSED - All elements and functionality working for Add Mice form from the Cage Map - 2018-04-04 10_29_41-.png;https://transnetyx.atlassian.net/secure/attachment/26534/PASSED+-+All+elements+and+functionality+working+for+Add+Mice+form+from+the+Cage+Map+-+2018-04-04+10_29_41-.png,04/Apr/18 10:31 AM;bwinter;PASSED - All elements and functionality working for Add Mice form from the Mice Panel on the Dashboard - 2018-04-04 08_04_37-.png;https://transnetyx.atlassian.net/secure/attachment/26535/PASSED+-+All+elements+and+functionality+working+for+Add+Mice+form+from+the+Mice+Panel+on+the+Dashboard+-+2018-04-04+08_04_37-.png,12/Jan/18 9:51 PM;bwinter;quick-add.JPG;https://transnetyx.atlassian.net/secure/attachment/25595/quick-add.JPG,12/Jan/18 9:51 PM;bwinter;quick-add_cage.JPG;https://transnetyx.atlassian.net/secure/attachment/25594/quick-add_cage.JPG,,,,,,,,,,,,bwinter,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-03-15T13:51:33.713-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00ron:,,,,,,,,,2018-01-13 03:52:36.554,"12/Jan/18 9:52 PM;bwinter;[~tpatterson] this Colony Release 1.2 ticket needs some UI love.   We are enhancing an add mice modal.  I added to hand-drawn views (that I just realized are missing Cancel and Save buttons.
",15/Jan/18 1:11 PM;jmedlock;[~bwinter] I would make COMA-2062 a requirement for this ticket and delete the link to this ticket and the task COMA-2062 as a ticket.,"16/Jan/18 6:07 PM;bwinter;[~jmedlock] Before I delete COMA-2062 (show genotype in drop-down), we may want to consider if we would rather keep it to shorten the description in this card on quick-add mice.  Check out the description.  Those long tables in the middle are just sketching out scenarios when a strain has _g_ {{<genes>}} with _c_ {{<allele combinations>}}.

|| {{genes}} || {{allele combinations}} ||
| {{one}} | {{n}} |
| {{two}} | {{n1, n2}}, respectively |
| {{...}} | {{...}} |
| {{K}} | {{n1, n2, ..., nK}}, respectively |","17/Jan/18 1:20 PM;tpatterson;[~bwinter] & [~jmedlock] - I've changed the adding process in a small way to reflect the adding process in other spots in the site. I did this, because with the current approach, you'll lose real estate quickly as you add mice to the list. Check and see if this is okay. I've also included the html code just in case you want to see it in action, in the your browser.","17/Jan/18 3:00 PM;bwinter;[~jmedlock], [~tpatterson], I LOVE IT!  

Great job, [~tpatterson]!!!  
# Do you think I need to adjust the scenarios in the description? 
# To avoid any confusion, should we delete my hand-drawn sketches?  Or least rename them? ","17/Jan/18 3:10 PM;tpatterson;# Do you think I need to adjust the scenarios in the description?
** _Maybe not, until we get further confirmation that this is good to go._
# To avoid any confusion, should we delete my hand-drawn sketches? Or least rename them?
** _I say we leave them! It can be helpful to track design iterations._","26/Feb/18 3:36 PM;jadhikari;[~cleduc], [~jmedlock] : Couple Questions :
1. In the attached Add Mice screen mockup we are only showing limited number of columns in the bottom grid, I was wondering if we need to show what the user selected in first place ? And that would be : 
Strain Color, Mouse Id, Strain Name, Cage Name, Genotype, Gender and Birthdate ?
2. If we are showing all this information there is not enough room in the Modal. After having a brief conversation with [~tpatterson] suggested to have a 3 dot after certain length which when hovered shows a tooltip of the entire text. 
",28/Feb/18 7:57 AM;cleduc;I think the user would like to be able to choose to see the additional information but would not always need it so the hover is good. Good idea.,"14/Mar/18 10:25 PM;bwinter;[~jadhikari] Since this code did not make it into the Colony 1.1 branch and has some more work on it, I am going to send it back to development.  If there is something for me to test in 1.1, please let me know, and I will test it.",15/Mar/18 12:06 PM;jadhikari;[~bwinter] I believe this is one of the tickets that is waiting on the pull request and will be deployed with next deployment.,15/Mar/18 12:08 PM;bwinter;[~jadhikari] SNAP!  Roger that!  So sorry.  Would you like me to move it back to QA status?,15/Mar/18 12:26 PM;jadhikari;[~bwinter] When the qa deployment is complete it will include all the ticket names for that deployment you can change it in QA then. ,"15/Mar/18 1:17 PM;bwinter;Oh, I will totally forget by then, [~jadhikari].  I am going to go ahead and move it now.  Thank you!","04/Apr/18 10:35 AM;bwinter;Testing passed. QA verified.  Mice form has all required elements and creates new mice records in both locations (Dashboard > Mice Panel; Cage Map > Cage icon).  However, I could only test on Google Chrome 64 and *not IE 11* due to COMA-2455. 

CC: [~jmedlock], [~qevans]",,,,,,,,,,,,
Don't Allow Parent Removal from Breeding Wizard,COMA-1889,24332,,Story,Production,COMA,Colony Manager,software,admin,,,2 Important,Done,,qevans,qevans,19/May/17 5:52 PM,18/Jul/18 11:30 AM,27/Aug/18 11:00 AM,16/Jul/18 4:48 PM,,CM - Release 1.2,,,0,,,,,"_As a user, I should only be able to remove breeding parents from a breeding before the breeding is saved or marked as active/has a setup date. Once a breeding has at least one un-deleted litter, the parents should not be able to be removed but instead will need to be retired._

+Acceptance Criteria+:
* User is able to remove breeding parents from a breeding when 0 litters exist for the breeding
* User is warned or alerted that they cannot remove breeding parents that are linked to a litter in the system but instead need to retire the breeder.
* Remove the ""x"" UI element for removing parents from the breeding.

+Scenario+:
*Given* I have a parent I need to remove from a breeding
*When* I edit the breeding to remove the parent
_*AND*_ The breeding parent is the parent of a current litter in the system
*Then* warn or alert the user that the breeding parent must be retired instead of removed
",,,,;13/Jun/18 11:26 AM;jjensen;86400,;13/Jun/18 11:27 AM;jjensen;86400,;20/Jun/18 3:59 PM;rwilliams;300,;25/Jun/18 3:09 PM;bwinter;1800,;25/Jun/18 3:11 PM;bwinter;300,;11/Jul/18 12:03 PM;jjensen;28800,;11/Jul/18 3:18 PM;rwilliams;300,;11/Jul/18 4:35 PM;bwinter;900,86400,0,205200,237%,86400,0,209400,,,,,,COMA-2641,COMA-2642,13/Feb/18 8:56 AM;tpatterson;1889.1.jpg;https://transnetyx.atlassian.net/secure/attachment/25760/1889.1.jpg,13/Feb/18 8:56 AM;tpatterson;1889.2.jpg;https://transnetyx.atlassian.net/secure/attachment/25759/1889.2.jpg,13/Feb/18 8:56 AM;tpatterson;1889.3.jpg;https://transnetyx.atlassian.net/secure/attachment/25761/1889.3.jpg,13/Feb/18 8:56 AM;tpatterson;1889.html;https://transnetyx.atlassian.net/secure/attachment/25762/1889.html,25/Jun/18 3:10 PM;bwinter;PASSED - Brand new created breeding allows parents to be removed from breeding- 2018-06-25 15_05_45-.png;https://transnetyx.atlassian.net/secure/attachment/27073/PASSED+-+Brand+new+created+breeding+allows+parents+to+be+removed+from+breeding-+2018-06-25+15_05_45-.png,11/Jul/18 4:34 PM;bwinter;PASSED - Breeding with ZERO litters DOES allow breeders to be removed from breeding - 2018-07-11 16_33_20-.png;https://transnetyx.atlassian.net/secure/attachment/27132/PASSED+-+Breeding+with+ZERO+litters+DOES+allow+breeders+to+be+removed+from+breeding+-+2018-07-11+16_33_20-.png,11/Jul/18 4:32 PM;bwinter;PASSED - Breeding with more than one litter does NOT allow breeders to be removed from breeding - 2018-07-11 16_31_43-.png;https://transnetyx.atlassian.net/secure/attachment/27130/PASSED+-+Breeding+with+more+than+one+litter+does+NOT+allow+breeders+to+be+removed+from+breeding+-+2018-07-11+16_31_43-.png,11/Jul/18 4:32 PM;bwinter;PASSED - Breeding with one litter does NOT allow breeders to be removed from breeding - 2018-07-11 16_28_44-.png;https://transnetyx.atlassian.net/secure/attachment/27131/PASSED+-+Breeding+with+one+litter+does+NOT+allow+breeders+to+be+removed+from+breeding+-+2018-07-11+16_28_44-.png,16/Jul/18 5:29 PM;bwinter;PASSED - Deleting all litters allows parents to be removed from Breeding Wizard - 2018-07-16 17_26_56-.png;https://transnetyx.atlassian.net/secure/attachment/27160/PASSED+-+Deleting+all+litters+allows+parents+to+be+removed+from+Breeding+Wizard+-+2018-07-16+17_26_56-.png,25/Jun/18 3:10 PM;bwinter;PASSED - Older breeding with no litters is able to remove parents from breeding wizard - 2018-06-25 15_06_22-.png;https://transnetyx.atlassian.net/secure/attachment/27074/PASSED+-+Older+breeding+with+no+litters+is+able+to+remove+parents+from+breeding+wizard+-+2018-06-25+15_06_22-.png,25/Jun/18 3:10 PM;bwinter;PASSED - breeding with at least 1 litter is not allowed to have parents removed via Breeding Wizard - 2018-06-25 15_02_30-.png;https://transnetyx.atlassian.net/secure/attachment/27075/PASSED+-+breeding+with+at+least+1+litter+is+not+allowed+to+have+parents+removed+via+Breeding+Wizard+-+2018-06-25+15_02_30-.png,13/Feb/18 10:27 AM;admin;Retire.png;https://transnetyx.atlassian.net/secure/attachment/25766/Retire.png,,,,,,jmedlock,jjensen,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2018-07-11T15:10:59.256-0500"",""stateCount"":2,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,COMA-1101,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00plz:,,,,,,,,,2017-05-25 17:18:49.164,"25/May/17 12:18 PM;rwilliams;[~qevans] [~jmedlock] A couple things to think about with this one is that a mouse can be retired from a breeding outside of the breeding effectively removing it from the breeding. Also, a mouse could be deleted or marked dead (or culled) and do the same thing. So, even if we add constraints to not allow this on the edit breeding page, you can't stop it from happening in other round-about ways. Another thing is that a user could wipe out the active date, save it, remove a mouse, and then possibly mark it active again. I guess my question here is - is there value in adding constraints like this into the application?",25/May/17 12:47 PM;jmedlock;[~qevans] and [~rwilliams] i am going to assign this to me for getting requirements,05/Oct/17 10:26 AM;qevans;[~jmedlock] did we make a decision about this ticket? Trying to clean up any straggling tickets I had been involved in.,05/Oct/17 10:38 AM;jmedlock;[~qevans] No and it needs requirements gathered. I need to move this to a different workflow.,10/Oct/17 11:13 AM;qevans;[~jmedlock] should I make this into its own story ticket?,"27/Oct/17 7:58 AM;bkoch;[~qevans] [~jmedlock], has this been rolled into a different ticket?  It shouldn't be hard to remove the ability to delete or add parents to a breeding that has been activated, but I think that we need to figure out that other ticket as well surrounding whether or not a breeding can be deactivated.","04/Jan/18 2:42 PM;jmedlock;[~rwilliams] In the scenarios you listed above, is the mouse not automatically retired from breedings once the mouse is marked dead?
The app should handle the mouse delete instance as well. If a mouse is being deleted for any reason and is tied to breedings, litter parent records etc. We should warn the user. Then we can remove it from breeding and litter parent records. We may want to make sure we handling the scenarios you mentioned in addition to adding in these checks and balances to removing breeding parents.","04/Jan/18 2:59 PM;rwilliams;[~jmedlock] I would have to look into the code to see what exactly is happening when a mouse is marked dead or deleted. I also don't know off the top of my head if any of the places where you can do these types of tasks if there is any check or warning to the user that the mouse is in a breeding. I seem to recall at least one place where it shows active breedings for the mouse and asks how you want to handle those, but that is just a faint memory. And I think I have a memory of it because I built the UI for it.  I remember that it was a list of check boxes and date pickers, but I don't remember if that was for deleting a mouse or retiring a mouse or marking a mouse dead. But I need an hour or two to go looking through the application to see what is going on with those specific scenarios.","11/Jan/18 4:20 PM;jcox;1: Requested - “Remove from breeding” menu option 
2: Active – “Remove from breeding” changes to “Retire” 
3: Remove adding and editing parents from edit form (only possible from card)
4: Don’t allow status of breeding to be edited once litter has been added
2a: Retire chosen & no litters associated with parent, option to remove or retire (Not going to be clear how the system works) ",17/Jan/18 10:57 AM;tpatterson;I second [~jcox]'s approach.,"13/Feb/18 9:04 AM;tpatterson;I've attached 3 screenshots of the potential fixes that we presented in yesterday's meeting.

When there are litters attributed to a breeder:
# Disable the close button and warn the user from the beginning.
# Disable the close button, present a question icon, and inform the user after pressing the question icon.
# The process is mostly unchanged. After a user has clicked on the delete icon, a warning will be presented.

I've also attached an html document with the code used to make these variations. To check this out in your browser - open to this page in Colony, inspect, and replace everything within the <html> section with the 1889.html code.

After building these out, I'm thinking that option one may be too shocking and option three is frustrating. Option two could be a good balance between the two - passive and informative.

Thoughts? [~cleduc], [~jmedlock], [~admin]","13/Feb/18 9:48 AM;cleduc;2 or 3 would work for me as a user. Most likely I'm requesting removal in error - I either don't realize I have litters or actually want to move it from the cage or retire it. Would be nice to hit the x and have an immediate option to retire or cancel but that's another story... 

Some warning language to consider: Parents in a Breeding with active Litters cannot be ""Removed"" but may be ""Retired"" or moved it to another cage. ","13/Feb/18 10:28 AM;admin;I was not actually in favor of another button. My recommendation was this:
 !Retire.png|thumbnail! 

[~tpatterson]
","13/Feb/18 1:15 PM;tpatterson;Thanks for the language and UX input [~cleduc] & [~admin].

Tossing in an option to help users retire from this location would be extremely useful. Hopefully with the shift to record pages, our users would only see this wizard when creating something new and the retire options would be within close reach while editing from the breeding record page or the mouse record page.

Now, after some thought, with the fact that this fix will not be the norm forever and that there's already a standard of displaying errors when something is out of order above the list area, I'd suggest we merge the first & second designs and possibly (per [~jmedlock]'s idea) allow the user to see specific active litters it is connected to when they interact with the question icon. This interaction could also have tooltip functionality, as well.","06/Jun/18 11:09 AM;jjensen;Starting this.  Will use the suggestion of replacing the ""x"" icon with a ""?"" icon and display the message [~admin] showed in his earlier comment.  I may add in the [~jmedlock] suggestions if further analysis deems it a viable modification for this ticket.","13/Jun/18 11:24 AM;jjensen;Must note this:  The story language caused some confusion as there already is an IsActiveLitter flag in the Litter business object:

??current active or inactive(meaning they have not been deleted) litters??

Because the push in development is to use Business object functionality, I chose to test the litters via IsActiveLitter.
","11/Jul/18 11:23 AM;jjensen;[~cleduc], I have to ask you about the ""litter status"" as defined in this particular ticket.  The text is a bit confusing, but I believe what the story _wants_ to say is: _Once a breeding has *at least one un-deleted litter*, the parents should not be able to be removed_
This is different from any active/inactive status that I might check in the code.  Can you please make a judgement call on this?

","11/Jul/18 11:33 AM;cleduc;[~jjensen] If a litter has been recorded for a breeding and has not been deleted, the user cannot change the parents. 

They can Retire (which means it is no longer physically in the breeding at this time) but not remove/change them (which would change the record regarding who was there). If they have realized they have made an error in parent recording after a litter has been recorded they need to contact us to do something custom to fix the data. If they are taking one parent out and putting in another breeding, they retire from this breeding and create a new breeding with the moved parent.","11/Jul/18 11:37 AM;cleduc;[~jjensen] I actually wrote that comment before I saw your question above it!
At any rate, yes to your interpretation of what the story wants to say :)!","11/Jul/18 11:43 AM;jjensen;[~cleduc], thank you!  :)
",,,,,,
Litter WorkBench: Missing/Dead Pups,COMA-1871,24314,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,19/May/17 9:48 AM,12/Jul/18 3:41 PM,27/Aug/18 11:00 AM,12/Jul/18 3:41 PM,,CM - Release 1.2,,,0,UAT-Change,,,,"From the litter workbench, when pups are mark missing or dead BEFORE they are ID'd in the system, they should not receive an ID.

We should continue to track a record was created so we may report on health of breeding later on but the missing pups would not receive an ID.

(Smartsheet: COMA340, COMA84)

",,,,;13/Jan/18 11:14 PM;rwilliams;57600,;15/Jan/18 7:15 AM;rwilliams;60,;25/Jan/18 7:19 PM;admin;600,;07/Feb/18 2:59 PM;jmedlock;1800,;12/Jul/18 3:41 PM;rwilliams;300,,,,57600,0,60360,104%,57600,0,60360,,,,,,,,05/Feb/18 11:33 AM;bwinter;COMA-1871 - Missing pups on Litter Work Bench.docx;https://transnetyx.atlassian.net/secure/attachment/25726/COMA-1871+-+Missing+pups+on+Litter+Work+Bench.docx,13/Dec/17 9:09 AM;james;COMA-1871 Test Cases.xlsx;https://transnetyx.atlassian.net/secure/attachment/25436/COMA-1871+Test+Cases.xlsx,,,,,,,,,,,,,,,,jmedlock,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-12T15:44:51.671-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,COMA-1090,,,,,,,,,,,,,,admin,,,Unassigned,jmedlock,qevans,0|i00phz:,,,,,,,,,2018-01-11 21:28:38.912,"11/Jan/18 3:28 PM;rwilliams;[~jmedlock] Part of what is going on with this ticket has to do with the new automatic system generated mouse naming feature that Chris added. These mice are getting assigned a name when they get generated. If you don't want dead or missing mice to get auto Ided like that (meaning you want the ID to be left blank), then I can put in some code that to not auto name the mouse if the mouse is missing or dead. One side effect that could have is that it wipes out the mouse's name if it gets marked dead or missing later in life. I'll have to see if I can code that so it won't do that. But, once I get that done then we will see what the litter workbench actually does when you ID the mice. Let me know if you want me to remove that auto naming code for dead or missing mice. ",12/Jan/18 8:50 AM;rwilliams;[~jmedlock] This may also be revealing an issue with the system generated id. It doesn't appear to be handling the unique naming of mice when multiple are created at the same time,"12/Jan/18 10:13 AM;rwilliams;[~jmedlock] Actually as I look through the code, the name field is getting populated with System Generated Id of the mouse if the name field is empty. Do we not want to do that for mice that are missing or dead? So what that means is that when the mice were ""generated"" the system assigned them a SysGenId, then, when the LitterWorkbench loads the newly generated mice back up (missing and dead ones too), because the name is empty, our code automatically fills it in with the mouse SysGenId. We really need to talk through how all of this should work. And we have also discovered a bug with the SysGenId where it appears that it isn't incrementing for some reason... 

Thinking through this a little more... I think that because of the way the application works right now with the name auto filling with the SysGenId that the Workbench will never ID mice like it should because I think it would only ID mice that didn't already have a name, but right now they will always come back with a name. I think we need to talk through this some with Chris to determine how we really want some of this to work. And I am making some assumptions on how the Workbench works, so I may not be right on all of that...",12/Jan/18 10:31 AM;jmedlock;[~rwilliams] We would not want an ID on missing or dead pups if they were marked as such before pups we generated. The feedback comes in before we added in the system ID though. We may want to discuss this. The feedback is that they do not want those records taking up the next in line auto serialized ID. That is different than the system ID.,"12/Jan/18 12:37 PM;rwilliams;[~jmedlock] I've made some changes to the name so that it doesn't automatically populate for mice that are dead (or missing). Now the mice are showing in the workbench without a name and the name is disabled so that it can't be edited. All of that is good, however, the live mice are still coming in with the system generated id for the name and I think that the process of automatically naming the mice doesn't do anything because the live mice already have a name assigned. I may be able to clear that name as the mice go back to the workbench and see if that resolves the id issue there, but not sure what will happen if they aren't ided during that session and are saved, because the sysgenid may still slip in there somewhere in the process... I'll keep working and let you know what happens.

Also, I have already mentioned this, but we apparently have a bug with the sysgenid as well because it isn't getting auto incremented. I'll look into that while I am here to see if I can figure out what is going with that too.",12/Jan/18 3:50 PM;rwilliams;[~jmedlock] I have fixed the Mouse System Generated Id so that it increments properly. On Monday I will start looking into the actual Workbench Mouse Iding process and see if I can figure out how to make it work as desired.,"05/Feb/18 11:34 AM;bwinter;[~jcox] I tested this ticket which was a hot fix for Colony 1.0.  All is good and ready to go.  I attached the test case.  [~rwilliams], [~jmedlock] let me know if I missed anything in the test case for this ticket.",,,,,,,,,,,,,,,,,,,
"Disable ""Remove sample from well plate"" option in sample 3-dot menu",CMI-283,29484,28738,Change Request,In Progress,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,jstrickland,bwinter,bwinter,26/Jul/18 1:56 PM,30/Jul/18 2:13 PM,24/Aug/18 8:10 AM,,,iOS Q3 2018,,,0,,,,,"_As a product owner, I want to disable/remove the ""remove sample from well plate"" feature so that iOS features are in-line with Web features._

Web does not have a ""remove sample from well plate"" feature for a sample in the Samples List on the Well Plate page.

+Acceptance Criteria+:

* When the user clicks the 3-dot menu for a sample in the Samples List, s/he does not see the ""Remove sample from well plate"" as an option to select.
* When the user is viewing the Sample List, s/he cannot remove a sample from the well plate.",,,,;30/Jul/18 2:13 PM;jstrickland;300,,,,,,,,,0,300,,,0,300,,CMI-240,,,,,,26/Jul/18 2:03 PM;bwinter;CHANGE REQUEST - Remove this option from 3-dot menu - 2018-07-26 14_01_55-Photos.png;https://transnetyx.atlassian.net/secure/attachment/27255/CHANGE+REQUEST+-+Remove+this+option+from+3-dot+menu+-+2018-07-26+14_01_55-Photos.png,,,,,,,,,,,,,,,,,tposchel,fdobjenschi,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,,0|i00z7j:,,,,,,New Product/Feature,,YX Connect,2018-07-30 18:23:30.683,"26/Jul/18 1:59 PM;bwinter;[~jcox], this REWORK has been approved by [~cleduc] in a meeting today at 1 PM CT.  This rework is about removing one of the acceptance criterion in the parent ticket so that iOS features for what you can do with a sample at the well plate matches the same features in Web.  

[~jcox], I am not sure who to assign the rework to.

CC: [~jstrickland], [~fdobjenschi], [~apacio], [~jmedlock]",30/Jul/18 1:23 PM;jstrickland;Commented out menu item,,,,,,,,,,,,,,,,,,,,,,,,
Changing gender of pups in litter by only clicking gender images does not keep gender info,CMI-280,29432,,Bug,Development,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,jstrickland,jstrickland,jstrickland,18/Jul/18 3:21 PM,08/Aug/18 9:48 AM,27/Aug/18 11:00 AM,,,iOS Q3 2018,,,0,,,,,Clicking the images to change the pup genders results in the pup gender still being unknown.  It reads the genders from the section above where you enter these in manually which is incorrect in this case.,,,,This is on its own branch and in develop.  If you have any questions please let me know;18/Jul/18 3:53 PM;jstrickland;10800,;08/Aug/18 9:48 AM;jstrickland;14400,,,,,,,,0,25200,,,0,25200,,,,,,,,,,,,,,,,,,,,,,,,,jstrickland,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,Rework,Unassigned,,bwinter,0|i00yvz:,,,,"Select a litter to be biopsied and select Edit Offspring.  Under the Offspring section click the gender images to change the genders of each pup to be Male or Female (just not Unknown) and hit Save.  Do not enter them in manually at the top. 

The Litter card screen will not display the new selected genders of the pups since they are still Unknown.",,New Product/Feature,,YX Connect,,18/Jul/18 3:49 PM;jstrickland;This should be ready for peer review as well.,18/Jul/18 3:53 PM;jstrickland;This is on its own branch and in develop.  If you have any questions please let me know,19/Jul/18 8:42 AM;jstrickland;I will make the changes to the textfield data instead like we discussed.  Thanks for your help!,,,,,,,,,,,,,,,,,,,,,,,
Syncing from iOS shows incorrect number of pups in cage view,CMI-279,29407,,Bug,Testing PASSED,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,Testing Done,,jcox,jcox,13/Jul/18 8:11 AM,25/Jul/18 2:14 PM,27/Aug/18 11:00 AM,25/Jul/18 11:38 AM,,iOS Q3 2018,,,0,,,,,"h1. What happened

# Create a new litter with 2 pups on iOS
# Sync and verify litter on Web
# ID litter on iOS to enter sex for each pup
# On iOS, manually enter sex (instead of clicking sex icon) for both pups AND uncheck Perform Biopsy Now
# Sync and verify litter on Web
# Web shows 3 pups in the Cage View <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen

I expected that sex'ing pups on iOS would not change pup count on Web.

h1. DEV Notes

h2. From [~jstrickland]:

So I’ve been going thru the cage counts stuff and hit a totally unrelated error I think.  Wasn’t sure if there was a ticket on it or not but here’s the info.  

I only made changes on iOS and verified them on the web after syncing each step.

So on iOS I created a new litter w/2 pups (synced and verified on the web).  Then I assigned a sex to both pups (1 M/1 F if that matters) and no biopsy.  I verified 2 pups were showing on iOS and that 2 mice (1M/1F) were sent in the sync.  Synced and 3 pups are showing on the web side in the cage view.  Happens consistently on both dev and qa.

I double checked the sync and its definitely only sending 2 mice up.  That would be the obvious problem but that’s not it.

h2. Comment from [~jstrickland] on 07/13/2018

Two mice were assigned a sex and two are sent in the sync but the litter pupCountAtBirth is set to 3 instead of 2. The web side will show 3 Pups since this data is incorrect causing the discrepancy.

h2. Comment from [~jstrickland] on 07/16/2018

This was pretty difficult to pin down. Sometimes when you manually entered a pup's sex (instead of clicking the sex icon) the pup count would be one too many in the sync.

Moved the calculation for IDing number of pups to updateOffspring and added additional logic to didPressSaveButton since adding pups after a litter was ID'ed was affected.

This should be ready for review and is on its own branch.
",,,,"This was pretty difficult to pin down.  Sometimes when you manually entered a pup's sex (instead of clicking the sex icon) the pup count would be one too many in the sync.

Moved the calculation for IDing number of pups to updateOffspring and added additional logic to didPressSaveButton since adding pups after a litter was ID'ed was affected.

This should be ready for review and is on its own branch.;16/Jul/18 5:26 PM;jstrickland;21600",;25/Jul/18 11:38 AM;bwinter;2700,,,,,,,,0,24300,,,0,24300,,,,,,,,25/Jul/18 11:38 AM;bwinter;PASSED - Manually entering sex for pups in iOS no longer changes count for litter on Web - 2018-07-25 11_33_16-.png;https://transnetyx.atlassian.net/secure/attachment/27219/PASSED+-+Manually+entering+sex+for+pups+in+iOS+no+longer+changes+count+for+litter+on+Web+-+2018-07-25+11_33_16-.png,,,,,,,,,,,,,,,,,jcox,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00yqf:,,,,,,New Product/Feature,,YX Connect,2018-07-13 13:51:40.633,"13/Jul/18 8:12 AM;jcox;[~jstrickland], [~rwilliams], Let me know if you guys need anything else while working through this bug.","13/Jul/18 8:51 AM;jstrickland;{
  ""genes"" : [

  ],
  ""labels"" : [

  ],
  ""geneResults"" : [

  ],
  ""userGroups"" : [

  ],
  ""racks"" : [

  ],
  ""suppliers"" : [

  ],
  ""litterParents"" : [

  ],
  ""cages"" : [

  ],
  ""strainGeneAlleles"" : [

  ],
  ""breedingParents"" : [

  ],
  ""mice"" : [
    {
      ""dateDeleted"" : null,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-06-13T13:26:14.0000000Z"",
      ""generation"" : null,
      ""genderCd"" : 2,
      ""transferDate"" : null,
      ""dateImported"" : null,
      ""name"" : ""parent 2"",
      ""deathTypeCd"" : null,
      ""dateCreated"" : ""2018-07-13T13:28:59.7587622Z"",
      ""importedByUserId"" : null,
      ""strainId"" : ""D177AFC2-2DD5-444B-B39F-CD179A88B815"",
      ""markedForCull"" : false,
      ""mouseId"" : ""13674FF1-8B5C-4E20-BCE1-23CF0D12F836"",
      ""cageId"" : ""C83BA3CA-9871-471B-ABFC-3FF19BD4205B"",
      ""deathDate"" : null,
      ""isRunt"" : false,
      ""animalUseCd"" : 0,
      ""coatColorCd"" : 0,
      ""litterId"" : ""2F1B1535-C396-4D7A-BD95-2D953FEBE9AB"",
      ""groupId"" : ""3D0A060B-F326-42EA-BA8E-19525777C8D5"",
      ""note"" : null,
      ""dateModified"" : null,
      ""isImported"" : false,
      ""identificationMethodCd"" : null,
      ""userId"" : null
    },
    {
      ""dateDeleted"" : null,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-06-13T13:26:14.0000000Z"",
      ""generation"" : null,
      ""genderCd"" : 1,
      ""transferDate"" : null,
      ""dateImported"" : null,
      ""name"" : ""parent 3"",
      ""deathTypeCd"" : null,
      ""dateCreated"" : ""2018-07-13T13:28:59.7587622Z"",
      ""importedByUserId"" : null,
      ""strainId"" : ""D177AFC2-2DD5-444B-B39F-CD179A88B815"",
      ""markedForCull"" : false,
      ""mouseId"" : ""8BC3CA1C-1265-43A7-A835-D445886BFDC9"",
      ""cageId"" : ""C83BA3CA-9871-471B-ABFC-3FF19BD4205B"",
      ""deathDate"" : null,
      ""isRunt"" : false,
      ""animalUseCd"" : 0,
      ""coatColorCd"" : 0,
      ""litterId"" : ""2F1B1535-C396-4D7A-BD95-2D953FEBE9AB"",
      ""groupId"" : ""3D0A060B-F326-42EA-BA8E-19525777C8D5"",
      ""note"" : null,
      ""dateModified"" : null,
      ""isImported"" : false,
      ""identificationMethodCd"" : null,
      ""userId"" : null
    }
  ],
  ""cageClaims"" : [

  ],
  ""mouseGeneResults"" : [

  ],
  ""offspringSettings"" : [

  ],
  ""alleles"" : [

  ],
  ""rooms"" : [

  ],
  ""strains"" : [

  ],
  ""litters"" : [
    {
      ""culledCount"" : 0,
      ""splitFromLitterId"" : null,
      ""dateDeleted"" : null,
      ""maleCount"" : 0,
      ""foundDeadCount"" : 0,
      ""isEmbryo"" : false,
      ""pupCountAtBirth"" : 3,
      ""birthDate"" : ""2018-06-13T13:26:14.0000000Z"",
      ""dateImported"" : null,
      ""dateIdentified"" : ""2018-07-13T13:28:16.0000000Z"",
      ""name"" : ""Litter 2 this one"",
      ""dateCreated"" : ""2018-07-13T13:26:42.5230000Z"",
      ""importedByUserId"" : null,
      ""strainId"" : ""D177AFC2-2DD5-444B-B39F-CD179A88B815"",
      ""cageId"" : ""C83BA3CA-9871-471B-ABFC-3FF19BD4205B"",
      ""dateModified"" : ""2018-07-13T13:28:59.7431304Z"",
      ""isImported"" : false,
      ""femaleCount"" : 0,
      ""litterId"" : ""2F1B1535-C396-4D7A-BD95-2D953FEBE9AB"",
      ""groupId"" : ""3D0A060B-F326-42EA-BA8E-19525777C8D5"",
      ""breedingId"" : ""E9D4BB39-49EF-4A92-8B00-CA10471AF2C5"",
      ""dateBiopsied"" : null,
      ""missingCount"" : 0,
      ""dateWeaned"" : null
    }
  ],
  ""timestamp"" : null,
  ""groups"" : [

  ],
  ""samples"" : [

  ],
  ""strainGenes"" : [

  ],
  ""users"" : [

  ],
  ""labelItems"" : [

  ],
  ""breedings"" : [

  ],
  ""facilityManagementSystems"" : [

  ]
}",13/Jul/18 8:55 AM;jstrickland;Two mice were assigned a sex and two are sent in the sync but the litter pupCountAtBirth is set to 3 instead of 2.  The web side will show 3 Pups since this data is incorrect causing the discrepancy.,"16/Jul/18 5:26 PM;jstrickland;This was pretty difficult to pin down.  Sometimes when you manually entered a pup's sex (instead of clicking the sex icon) the pup count would be one too many in the sync.

Moved the calculation for IDing number of pups to updateOffspring and added additional logic to didPressSaveButton since adding pups after a litter was ID'ed was affected.

This should be ready for review and is on its own branch.","18/Jul/18 6:21 AM;fdobjenschi;[~jstrickland] 

Seems ok for now \!","25/Jul/18 11:40 AM;bwinter;[~jstrickland], could you check the description of this ticket?  Based on your comments, I added a What happened section.  Then I followed those steps to test this ticket.  If I got something wrong in the What happened section, then I may not have tested the ticket well.

Here is a screenshot of the steps that I took.

 !PASSED - Manually entering sex for pups in iOS no longer changes count for litter on Web - 2018-07-25 11_33_16-.png|thumbnail! ",25/Jul/18 2:14 PM;jstrickland;[~bwinter] Yep you did it correctly.  ,,,,,,,,,,,,,,,,,,,
Long Genotype Names on Workbench,CMI-276,29356,,Story,Testing PASSED,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,Testing Done,,jcox,jcox,25/Jun/18 3:41 PM,25/Jul/18 4:19 PM,27/Aug/18 11:00 AM,25/Jul/18 3:34 PM,,iOS Q3 2018,,,0,,,,,"_As a user, I need to be able to read the full genotype name at the workbench to be sure I'm working with the right mice._

+Acceptance Criteria+:
* User is able to see full genotype name on the workbench.
** Presumably we switch to using dynamic font size, but admittedly there are only so many pixels on the screen so there will be a point where the name is too long for proper display.
",,,,;11/Jul/18 8:48 PM;jstrickland;18000,;20/Jul/18 1:59 PM;jstrickland;10800,;25/Jul/18 3:34 PM;bwinter;3600,,,,,,,0,32400,,,0,32400,,,,,,,,25/Jul/18 3:26 PM;bwinter;PASSED - Cage Card shows long genotypes - 2018-07-25 15_17_31-IMG_0026.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27237/PASSED+-+Cage+Card+shows+long+genotypes+-+2018-07-25+15_17_31-IMG_0026.PNG+%E2%80%8E-+Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Cage View shows long genotypes - 2018-07-25 15_18_14-IMG_0027.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27239/PASSED+-+Cage+View+shows+long+genotypes+-+2018-07-25+15_18_14-IMG_0027.PNG+%E2%80%8E-+Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Cage Workbench shows long genotypes - 2018-07-25 15_18_55-IMG_0029.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27234/PASSED+-+Cage+Workbench+shows+long+genotypes+-+2018-07-25+15_18_55-IMG_0029.PNG+%E2%80%8E-+Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Edit Mouse Details shows long genotypes - 2018-07-25 15_20_15-IMG_0031.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27235/PASSED+-+Edit+Mouse+Details+shows+long+genotypes+-+2018-07-25+15_20_15-IMG_0031.PNG+%E2%80%8E-+Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Mice List shows long genotypes - 2018-07-25 15_15_46-Photos.png;https://transnetyx.atlassian.net/secure/attachment/27238/PASSED+-+Mice+List+shows+long+genotypes+-+2018-07-25+15_15_46-Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Mouse Details shows long genotypes - 2018-07-25 15_19_36-IMG_0030.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27236/PASSED+-+Mouse+Details+shows+long+genotypes+-+2018-07-25+15_19_36-IMG_0030.PNG+%E2%80%8E-+Photos.png,11/Jul/18 8:31 PM;jstrickland;Screen Shot 2018-07-11 at 8.26.44 PM.png;https://transnetyx.atlassian.net/secure/attachment/27137/Screen+Shot+2018-07-11+at+8.26.44+PM.png,20/Jul/18 12:08 PM;jstrickland;Screen Shot 2018-07-20 at 12.02.23 PM.png;https://transnetyx.atlassian.net/secure/attachment/27191/Screen+Shot+2018-07-20+at+12.02.23+PM.png,20/Jul/18 12:09 PM;jstrickland;Screen Shot 2018-07-20 at 12.03.22 PM.png;https://transnetyx.atlassian.net/secure/attachment/27192/Screen+Shot+2018-07-20+at+12.03.22+PM.png,18/Jul/18 5:49 AM;fdobjenschi;Simulator Screen Shot - iPhone 6s - 2018-07-18 at 13.41.03.png;https://transnetyx.atlassian.net/secure/attachment/27169/Simulator+Screen+Shot+-+iPhone+6s+-+2018-07-18+at+13.41.03.png,18/Jul/18 5:49 AM;fdobjenschi;Simulator Screen Shot - iPhone 6s - 2018-07-18 at 13.45.01.png;https://transnetyx.atlassian.net/secure/attachment/27170/Simulator+Screen+Shot+-+iPhone+6s+-+2018-07-18+at+13.45.01.png,,,,,,,jcox,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00yg7:,,,,,,New Product/Feature,,YX Connect,2018-07-10 18:48:49.827,"10/Jul/18 1:48 PM;jstrickland;Some additional info from emails:



From their message:

When weaning a litter, (already at the workbench stage), long genotypes are cut off. Clicking on the mouse for details yields another screen where long genotypes are cut off. Then you must click edit, and yet again click in the genotypes window to finally view the full genotype. This is WAY too deep to be able to quickly compare mouse to mouse. Some solution needs to exist where a full genotype can be viewed without diving so deep into submenus and clicks.


Then Tyler responded:

Right now, the mouse cell does not handle super long genotypes. However, the mouse card does and the mouse card is now the default window that appears when you tap the mouse cell from the workbench. Previously it was not.


But they are not satisfied:

UAT not approved \- full genotypes need to be visible from the workbench view because often users may be looking at the genotypes to determine how they assign the mice to cages. If they have to click on every single mouse to view the genotypes before they move each mouse one by one this adds unnecessary time to the weaning process.",11/Jul/18 8:47 PM;jstrickland;Should show over 100 chars on the mouse cell and mouse card now for genotype and shrink text as needed.  Attached iPhone SE screenshots.,11/Jul/18 8:50 PM;jstrickland;This is on its own branch and should be ready to review.  Please let me know if you have any questions.,"18/Jul/18 5:49 AM;fdobjenschi;[~jstrickland]  When you add a long Genotype with type ex : WT/WT , \+,\- with current format will not go on 2 lines and sometimes is a bit too small to read.

You you and [~jcox] are ok with this , the code is just fine .

!Simulator Screen Shot - iPhone 6s - 2018-07-18 at 13.45.01.png|thumbnail! 



!Simulator Screen Shot - iPhone 6s - 2018-07-18 at 13.41.03.png|thumbnail!",19/Jul/18 8:04 AM;jstrickland;Looking at this again - thanks I didn't notice all of that.  ,20/Jul/18 1:59 PM;jstrickland;[~fdobjenschi] Tweaked the mouse cell and bumped the font up so it should look better now. Open to suggestions on getting the mouse card genotype attributed string to use two lines. I left that one as is for now.,"25/Jul/18 3:13 PM;bwinter;I am done testing this ticket.  It looks great, [~jstrickland]!  

[~fdobjenschi], I see that this ticket is still in PEER REVIEW.  I am done testing it, so let me know when you are done peer reviewing it so that I can mark it as TESTING PASSED.","25/Jul/18 3:17 PM;fdobjenschi; I have to look over the   mouse card tomorrow to see what i can do there to be on two lines . But if you think is ok like this   w  e can move on  
","25/Jul/18 3:30 PM;fdobjenschi;[~bwinter]   thanks for images , the code i reviewed today and looks good , what i could not test was the mouse details because of server not working on sync . But your images looks good so the code review was passed !  
","25/Jul/18 3:32 PM;bwinter;[~fdobjenschi], thank you for pointing this out.  I see your point, and I think it is okay for now.  Let's see how many customer complain.  At the moment, I think it would be a small percent of customers, and they can always open the Mouse Details to get a better view.

Furthermore, given the high impact of CMI-271 for this release, I wouldn't want to hold up \CMI-271 for this important but not urgent detail.  And I LOVE your attention to detail!  You, Jeff, and Tyler have written some really nice code throughout this app!

 !PASSED - Mouse Details shows long genotypes - 2018-07-25 15_19_36-IMG_0030.PNG ‎- Photos.png|thumbnail! 

I will include [~cleduc] and [~jmedlock] so they can comment if they disagree.",25/Jul/18 4:19 PM;cleduc;[~jstrickland][~bwinter][~fdobjenschi][~jmedlock] I think it looks great. They can zoom in if they need to but it will be a rare case. This will really help with breeding set up and keep them from doing silly things like adding genotype to the Mouse ID etc.  THANKS!,,,,,,,,,,,,,,,
Biopsying litter on iOS still shows litter as NOT biopsied when placing genotyping order for that litter,CMI-271,29311,,Bug,Testing PASSED,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,1 Critical,Testing Done,,bwinter,bwinter,12/Jun/18 3:57 PM,25/Jul/18 11:13 AM,27/Aug/18 11:00 AM,25/Jul/18 11:12 AM,,iOS Q3 2018,,,0,,,,,"h1. What happened

# Biopsied litter from iOS > Litters to Biopsy > Select Litter > 3-dot menu > Biopsy > Save
# Litter marked biopsied in iOS
# Go to Colony web app
# Add that litter to shopping cart
# _Need Biopsy_ icon triggers in Shopping Cart <- {color:red}UNEXPECTED{color}

h1. What I expected to happen

Whenever a litter is biopsied from iOS (or web app), I expect the _Need Biopsy_ icon to NOT show in Required Action column of shopping cart.

h1. Note to Dev

This bug only occurs when litters are biopsied from iOS.",,,,;25/Jul/18 11:12 AM;bwinter;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,12/Jun/18 3:57 PM;bwinter;BUG - Biopsied litter from iOS shows Needs Biopsy icon in Shopping Cart - 2018-06-12 15_55_15-.png;https://transnetyx.atlassian.net/secure/attachment/26982/BUG+-+Biopsied+litter+from+iOS+shows+Needs+Biopsy+icon+in+Shopping+Cart+-+2018-06-12+15_55_15-.png,12/Jun/18 3:59 PM;bwinter;IMG_0064.PNG;https://transnetyx.atlassian.net/secure/attachment/26983/IMG_0064.PNG,25/Jul/18 11:11 AM;bwinter;PASSED - Litters biopsied in iOS show up in Web as having been IDed and biopsied - 2018-07-25 11_05_05-.png;https://transnetyx.atlassian.net/secure/attachment/27216/PASSED+-+Litters+biopsied+in+iOS+show+up+in+Web+as+having+been+IDed+and+biopsied+-+2018-07-25+11_05_05-.png,,,,,,,,,,,,,,,bwinter,jcox,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00y6f:,,,,,,New Product/Feature,,YX Connect,2018-06-12 21:17:22.904,"12/Jun/18 4:02 PM;bwinter;[~jstrickland], can you check on this bug?  When a litter is biopsied from iOS, it shows as NOT biopsied in the Shopping Cart (via the purple Needs Biopsy icon in Required Actions column of the Cart).  This only happens when a litter is biopsied from iOS, so [~jmedlock] and I were thinking that it may be from the iOS side.

If you see that there is nothing from the iOS side or happening in the sync, then we may need to have [~admin] look it.

CC: [~cleduc]","12/Jun/18 4:17 PM;jmedlock;[~bwinter] [~jstrickland] [~admin] I am pretty sure that this is because the mice records are not getting a biopsy date and the order is looking for a biopsy date on the mouse records. What needs to happen is add the biopsy on iOS when the litter is biopsied to the mouse records

","13/Jun/18 2:43 PM;jstrickland;[~admin] [~jmedlock] [~bwinter]
iOS is sending the litter date biopsied in the sync and the database and web show it correctly.  Compared the web and iOS and the problem definitely seems tied to iOS but all of the litter data looks correct and the same as the web version to me.  There aren't any fields in the mouse table that I could see that are related to biopsy.  Litter has DateBiopsied but its saved correctly.  IsBiopsied and TissueTypeCd in the Litter table do not appear to be used so that is probably not the problem either.

Also I took a web generated biopsy (so no icon showing) and removed the biopsy date, id date and the icon never appeared even though the web says that there is no biopsy date, no id date, and a biopsy and id are needed.  Just trying to go back until it showed the icon to see what it was checking for.  I'm doing all of this in dev if that matters.

Do we know what the criteria is for showing that icon?   ","13/Jun/18 2:49 PM;jmedlock;[~jstrickland][~admin] Then perhaps there needs to be a biopsy record created for the mice? Chris can you chime in here?


I dont think this is a bug at all just a change in the way biopsies occurred and iOS hasn't caught up yet.","13/Jun/18 4:54 PM;admin;Chiming in. I believe this to be true [~jmedlock], we need to see if biopsy creation is part of the iOS ordering module.
","14/Jun/18 10:14 AM;bwinter;[~jstrickland], from our Skype meeting today with [~admin], it appears that we need to check on these two possible scenarios that could be causing the issue found in this ticket:

# Is iOS *creating biopsy samples* when a litter or mouse is biopsied?
# Is iOS *syncing* those created biopsy samples with Web server?

Thank you both!

CC: [~jmedlock], [~cleduc], [~rwilliams]",11/Jul/18 8:55 PM;jstrickland;[~fdobjenschi] Should be ready for peer review.  This is on its own branch,"18/Jul/18 5:31 AM;fdobjenschi;[~jstrickland] 

All working just fine \!","18/Jul/18 2:55 PM;jstrickland;
[~fdobjenschi] Sorry found a weird display problem that shows sometimes when adding pups that I caused with this ticket.  Should be fixed now but can you review these changes?  Pretty straightforward fix.

If you select a litter and Edit Offspring and just hit Save then immediately select Add Pup and add a pup to that same litter you should see that before this fix the DOB was (null) and the litter info in the header was gone.  The litter info was getting clobbered but that should be fixed now.  Again sorry about sending this back again.

","19/Jul/18 6:27 AM;fdobjenschi;[~jstrickland]
It's my bad too because i missed that, now seems to be ok !","25/Jul/18 11:13 AM;bwinter;Looks good; testing passed, [~jstrickland]! Thank you!

CC: [~jmedlock], [~cleduc], [~ryan yanase]",,,,,,,,,,,,,,,
