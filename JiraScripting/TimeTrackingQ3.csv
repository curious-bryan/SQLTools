Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Fix Version/s,Fix Version/s,Due date,Votes,Labels,Labels,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Outward issue link (Blocks),Outward issue link (Cloners),Outward issue link (Duplicate),Outward issue link (Fix),Outward issue link (Problem/Incident),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Releases),Outward issue link (Releases),Outward issue link (Releases),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Business Analyst),Custom field (Developer),Custom field (Development),Custom field (Due Date),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue URL),Custom field (External issue URL),Custom field (External issue URL),Custom field (Hosting Environment),Custom field (Installation Date),Custom field (List of Trainees),Custom field (Peer Reviewer),Custom field (Policy Stat URL),Custom field (Process Status),Custom field (Product),Custom field (Product Owner),Custom field (QA Analyst),Custom field (Rank),Custom field (Request Type),Custom field (Request participants),Custom field (Start date),Custom field (Steps to Reproduce:),Custom field (Story Points),Custom field (Tech/Engineering),Custom field (Tracking Number),Custom field (YX Connect Site(s)),Custom field ([CHART] Date of First Response),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
Update Expired Storage Wording ,QO-71,29598,,Story,Estimation,QO,Quick Order,software,jmedlock,,,3 Standard,,jcox,jcox,jcox,29/Aug/18 3:25 PM,29/Aug/18 3:25 PM,04/Sep/18 1:25 PM,,,Quick Order Legacy,,,0,,,,,,,"We need to update the wording on the Wellplate Storage page.  

Navigate to My Orders -> Wellplate Storage -> Wellplate Storage tab.

The paragraph under ""Wellplates With Expired Storage"" should say:

Instructions: Below is a list of wellplates from previous orders that have reached their Transnetyx storage expiration date, specified as 6 months from date of order completion. These wellplates are due to be disposed of unless you would like them returned to you. Click on the + icon to show your list of wellplates with expired storage. Please click the check box to immediately dispose of them or choose to have them returned to you. The return fees are listed above.
",,katie mcaleavey,,;29/Aug/18 3:25 PM;jcox;7200,,,,,,,,,0,7200,,,0,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00zvj:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add an Admin Search Feature in AAD Tool to search existing constructs,QO-57,29376,,Story,Estimation,QO,Quick Order,software,jmedlock,,,3 Standard,,jcox,ssandor,ssandor,06/Jul/18 3:18 PM,06/Jul/18 3:19 PM,04/Sep/18 1:25 PM,,,Automated Assay Design - Phase 1,,,0,,,,,,,"Assay Designers need the ability to search the construct database since it will no longer function in OM
They need the same ability to search as in OM currently (see snapshot or view here: 
http://ordermanager.transnetyx.com/AssayDesign/Constructs.aspx

",,,,;06/Jul/18 3:19 PM;ssandor;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,,,,,,06/Jul/18 3:18 PM;ssandor;search_constructs.PNG;https://transnetyx.atlassian.net/secure/attachment/27089/search_constructs.PNG,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00yk7:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Independence Day 2018 Holiday Schedule Banner,QO-55,29365,,Story,Production,QO,Quick Order,software,jmedlock,,,3 Standard,Done,,jcox,jcox,29/Jun/18 3:07 PM,03/Jul/18 10:14 AM,04/Sep/18 1:25 PM,02/Jul/18 10:46 AM,,Quick Order Legacy,,,0,,,,,,,"We need to add a holiday schedule announcement banner to the QuickOrder login page just like we've done in the past for next Wednesday, July 4th.  We would like this to go live no later than end of day July 2nd and taken back down on July 5th.  The text of the banner needs to be:

*Holiday Announcement: *
Transnetyx customer service will not be available on Wednesday, July 4th, in celebration of our Independence Day. If you have any questions, please email customerservice@transnetyx.com
",,,,;02/Jul/18 10:46 AM;jadhikari;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,{},,,,,,,,,,,,,,None,,,jadhikari,,,Unassigned,,bwinter,0|i00yi7:,,,,,,New Product/Feature,,YX Connect,2018-07-02 15:46:15.254,"02/Jul/18 10:46 AM;jadhikari;[~jknight], [~jcox] : The banner is updated into QuickOrder production page. Please verify.","02/Jul/18 10:47 AM;jcox;[~jadhikari], [~jknight] - Looks great- thank you!!",03/Jul/18 10:14 AM;jknight;Thank you guys for getting this live so quickly!,,,,,,,,,,,,,,,,,,,,,,,
Synchronize OM to AAD so probes get added to constructs ,QO-54,29364,,Story,Estimation,QO,Quick Order,software,jmedlock,,,3 Standard,,jcox,ssandor,ssandor,29/Jun/18 2:07 PM,07/Aug/18 10:54 AM,04/Sep/18 1:25 PM,,,Automated Assay Design - Phase 1,,,0,,,,,,,"Via Chris Scallion: maybe add another scheduled job that syncs to OM and checks every 5 minutes.

Regardless of the technical requirements, an Assay Designer needs the ability to link an AIM in OM back to an incomplete construct that was made in the AAD Tool. Once the AIM is Design Completed (new probes custom designed and added) then these probes will be added to the incomplete construct (in the AAD Tool) and the construct be completed.",,,,;06/Jul/18 3:15 PM;ssandor;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ssandor,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00yhz:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Customer Service Contact Email Address,QO-53,29308,,Story,Ready for QA,QO,Quick Order,software,jmedlock,,,3 Standard,Coding Done,,jcox,jcox,11/Jun/18 1:47 PM,29/Aug/18 3:07 PM,04/Sep/18 1:25 PM,29/Aug/18 3:07 PM,,Quick Order Legacy,,,4,,,,,,,"_As a user, I need to be able to email my technical questions to support for resolution._

+Acceptance Criteria+:
* Customer service email address anywhere it can be found in QuickOrder to be ""geneticservices@transnetyx.com"" *instead of* ""customerservice@transnetyx.com. (see locations below)
* Any text on the sites that reads ""Customer Service"" needs to change to ""Genetic Services""
* -Update any reference to the old address in the web config file so that emails sent out are from the new address- (this will now be handle at the exchange server level, so the coding impact is a minimum and code level values will not need to be changed).

CS has already identified the following locations that need to be updated, though it's possible more exist:
http://quickorder.transnetyx.com/SignIn.aspx?ReturnUrl=%2fDefault.aspx
https://quickorder.transnetyx.com/
https://quickorder.transnetyx.com/Account.aspx
https://quickorder.transnetyx.com/StrainManage.aspx
https://quickorder.transnetyx.com/Probes.aspx
https://quickorder.transnetyx.com/SequencingRequests.aspx
https://quickorder.transnetyx.com/EmailPreferences.aspx
https://quickorder.transnetyx.com/StrainFromSIF.aspx (side panel)
https://quickorder.transnetyx.com/AssayDesignTimeline.aspx
https://quickorder.transnetyx.com/Order1.StrainSelection.aspx
https://quickorder.transnetyx.com/SupplyRequest.aspx
https://quickorder.transnetyx.com/OrderSampleDetails.aspx?SampleId=38869800 (change sample name)
https://quickorder.transnetyx.com/ResultsAvailabilitySchedule.aspx


h1. *Developer Notes*

Here are some places I *DID NOT* change customer service to genetic services, due to the fact that these are special emails that are sent to some of our large customers like Taconic and CNIO or are used as integration points. It is very possible that they may have email rules or programs set up to read these eamils from ""Transnetyx Customer Service"" or ""Customerservice@transnetyx.com"".

Here are the files that I did not change:

 - ordermanager\OrderManagerDB\dbo\Stored Procedures\Custom_CNIO_OrderConfirmationEmail.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\Custom_CNIO_OrderConfirmationEmail_Test.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\NetsuiteInvoiceProblemAccounts.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\ResultFileTransferFailures.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\TaconicStrainsRequiringNewTranslations.sql
 - ordermanager\OrderManagerDB\dbo\Stored Procedures\TaconicWellplatesShipped.sql

it also turns out we have been sending all order confirmation emails for CNIO with the ""From"" address as:
customerservices@transnetyx.com  (Notice this is Pluralized with an 's' at the end of customerservice *+s+* )

h2. *Code level Changes:*

per conversation with [~admin] we are not making coding level changes at this time. The only changes made are customer facing changes and UI level changes and email template changes. The ""customerservice@transnetyx.com"" email is hard code in many places in the ORMA code stack, and it is also tied to a user account which is retrieved from the database via the email and coding operations occur around this account. Because there is such a large impact on the actual code level changes and the ability to test most of these changes would be very hard, we are not making these change at this time. The customer will see ""geneticservices@transnetyx.com"" and anything referring to customer service will only be happening in code out of the customers knowledge. Any emails sent programmatically that have customer service as the sender email will be automatically changed at the exchange server level.


h1. +*Application Files that need to be changed:*+

These are file on the server that have ""customerservice@transnetyx.com"" or ""customer service"" in the file. These are the direct path links to the files. They are all PDF files.

h3. +Media Share\Applications\Transnetyx\Files:+
* How to reference Transnetyx for a Journal Article.pdf

h3. +Media Share\Applications\QuickOrder\Files:+
* InstructionCard-Embryo.pdf
* InstructionCard-LiquidDNA.pdf
* InstructionCard-Sequencing.pdf
* InstructionCard-Tissue.pdf
* interpretResults.pdf
* RawDataInterpretation.pdf
* WebEnabledRawData.pdf



",,choward,katie mcaleavey,;26/Jul/18 11:59 AM;rjonakin;86400,;29/Aug/18 3:07 PM;jadhikari;7200,,,,,,,,0,93600,,,0,93600,,,,,,,COMA-2668,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-06T13:31:01.891-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,jadhikari,,,Unassigned,,bwinter,0|i00y5r:,,,,,,New Product/Feature,,YX Connect,2018-07-23 16:32:12.058,"23/Jul/18 11:32 AM;rjonakin;[~jmedlock]
[~jcox]

Refer to the ""Developer Notes"" section I added to the description above. Let me know what you think. I can change them, but I spoke with John about the Taconic specific stuff and he said we should probably leave it unchanged for now, so I figured the other few instances I included above should probably remained unchanged until we investigate further... All other customer facing instances have been changed though.",23/Jul/18 12:01 PM;choward;Makes sense. Thanks for letting us know. Is CNIO taken care of now? [~rjonakin],"31/Jul/18 4:44 PM;rjonakin;[~choward]
Yes the CNIO stuff is good now.","31/Jul/18 4:53 PM;rjonakin;[~jmedlock]
[~jcox]

Check out the last section I added in the description that says:
*Application Files that need to be changed*

It list all the files on the Media Share on the server that have ""customerservice@transnetyx.com"" in them and that will need to be updated, or ignored. Whatever the person in charge of this change thinks is best.","31/Jul/18 5:17 PM;jmedlock;Russell, I think Jeanie was supposed to be changing the files and giving them back to us for upload. Can you or Jeff check in on that?

Thanks,
Jim

Get Outlook for Android<https://aka.ms/ghei36>

",23/Aug/18 4:12 PM;kmcaleavey;[~jcox] [~rjonakin] Do you all need anything else from us?,"23/Aug/18 4:20 PM;jcox;[~kmcaleavey], I think we're good. The PDFs have been updated and the development changes are under review now.

CC [~rjonakin]",,,,,,,,,,,,,,,,,,,
Background Test Setup View,QO-47,29293,,Story,In Progress,QO,Quick Order,software,jmedlock,,,3 Standard,,admin,jcox,jcox,06/Jun/18 9:46 AM,31/Aug/18 2:16 PM,04/Sep/18 1:25 PM,,,Background Testing Phase 1,,,0,,,,,,,"_As a user, I need to be able to configure my Background Test order._

+Acceptance Criteria+:
* User is able to select testing scope (Background or Speed Congenics)
* User is able to Finalize their Order
* Order is sent to LIMS
* User receives confirmation email with order set to In-Progress
",,,,;24/Aug/18 3:56 PM;admin;144000,;24/Aug/18 3:56 PM;admin;60,,,,,,,288000,144000,144060,50%,288000,144000,144060,,,,,,,,,,,,,23/Jul/18 3:14 PM;admin;120 SNPs B6 129 Mb Ensembl 7-11-18 Final FB.xlsx;https://transnetyx.atlassian.net/secure/attachment/27211/120+SNPs+B6+129+Mb+Ensembl+7-11-18+Final+FB.xlsx,10/Aug/18 3:46 PM;admin;Black6-20panel.sql;https://transnetyx.atlassian.net/secure/attachment/27337/Black6-20panel.sql,10/Aug/18 3:14 PM;admin;Black6120Panel.sql;https://transnetyx.atlassian.net/secure/attachment/27336/Black6120Panel.sql,05/Jul/18 11:03 AM;jmedlock;Genetic monitoring - background testing order 3.jpg;https://transnetyx.atlassian.net/secure/attachment/27086/Genetic+monitoring+-+background+testing+order+3.jpg,05/Jul/18 11:03 AM;jmedlock;Speed congenic order 3.jpg;https://transnetyx.atlassian.net/secure/attachment/27087/Speed+congenic+order+3.jpg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,admin,"{repository={count=8, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":8,""lastUpdated"":""2018-08-10T15:56:40.000-0500"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":8,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,QO-72,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00y2n:,,,,,,New Product/Feature,,YX Connect,2018-06-13 14:55:45.183,"13/Jun/18 9:55 AM;tpatterson;Mockup clarifications:
* BTS.png
** User is presented with information in a hero block on the right hand side of the page
** User is also presented with a title, question, and two radio options
* BTS.OptionSelected.png
** Once an option is selected, the user is presented with a card block that contains required fields and an action button.","25/Jul/18 5:11 PM;tpatterson;+Info box text+
Header:
Important information

Genetic monitoring description:
In order to choose the right panel of markers we must know the background of your strain. Outbred strains and fully mixed backgrounds are not suggested for this type of testing.

This test is best used to monitor pure inbred strains and to detect contamination in breeding lines. It can also be used to check the veracity of a newly obtained strains background.

Speed congenics description:
Sex chromosomes must be fixed before testing strats. The best method to fix the Y chromosome is to cross female carriers to wildtype males of the recipient strain to produce F1. The X chromosome is then fixed by mating F1 carrier males to wildtype females of the recipient strain. The offspring of this cross and all subsequent back crosses should then be tested to select the most suitable males for the next back cross.","10/Aug/18 3:14 PM;admin;Adding post deploy data seed script for MVP panels
",,,,,,,,,,,,,,,,,,,,,,,
Initiate Background Testing Order from Results Page,QO-46,29292,,Story,Peer Review,QO,Quick Order,software,jmedlock,,,3 Standard,,rjonakin,jcox,jcox,06/Jun/18 9:44 AM,22/Aug/18 10:47 AM,04/Sep/18 11:17 AM,,,Background Testing Phase 1,,,0,,,,,,,"_As a user, I need to be able to start a Background Testing order from the Results page._

+Acceptance Criteria+:
* User is able to start Background Testing order while on the results page.
* User is able to select multiple samples with a check box
",,,,;17/Jul/18 9:27 AM;admin;60,;22/Aug/18 10:47 AM;admin;28800,,,,,,,,0,28860,,,0,28860,,,,,,,,,,,,,11/Jul/18 4:09 PM;tpatterson;List (No selections) 2.jpg;https://transnetyx.atlassian.net/secure/attachment/27127/List+%28No+selections%29+2.jpg,11/Jul/18 4:09 PM;tpatterson;List (Selections) - Help Modal 2.jpg;https://transnetyx.atlassian.net/secure/attachment/27126/List+%28Selections%29+-+Help+Modal+2.jpg,09/Jul/18 10:25 AM;jmedlock;List (Selections) - Help Modal.jpg;https://transnetyx.atlassian.net/secure/attachment/27101/List+%28Selections%29+-+Help+Modal.jpg,11/Jul/18 4:09 PM;tpatterson;List (Selections) 2.jpg;https://transnetyx.atlassian.net/secure/attachment/27125/List+%28Selections%29+2.jpg,09/Jul/18 10:24 AM;jmedlock;List (Selections).jpg;https://transnetyx.atlassian.net/secure/attachment/27100/List+%28Selections%29.jpg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-25T17:49:30.000-0500"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00y2f:,,,,,,New Product/Feature,,YX Connect,2018-06-11 14:08:28.649,"11/Jun/18 9:08 AM;jmedlock;[~admin] [~jcox] Bob mentioned in the last meeting that users ordering BG tests would want to select all with a check box instead of his original button idea.

This changes this ticket and the next stage ticket ""selecting what tests to run."" Let's chat this week.

Thanks,
Jim","13/Jun/18 9:48 AM;tpatterson;Mockup clarifications:
* BT.JI1
** User can select individual rows or the entire wellplate via checkboxes
** Test button is disabled until a selection is made
** Once a sample is selected, the test button (primary), becomes active
* BT.JI2
** User can select individual rows or the entire wellplate via checkboxes
** Once a sample is selected the test option is available in the action items button / dropdown
* BT.CI.jpg
** User can select individual rows or the entire wellplate via buttons contained within a column on the far right side of the table
** The button should be primary and ""T"" is a placeholder for a Font Awesome icon
*** I'd recommend using [the vial icon|https://fontawesome.com/icons/vial?style=solid].
","11/Jul/18 4:09 PM;tpatterson;[~jmedlock], I've attached new mockups with edits that [~nnowak] requested.","25/Jul/18 5:08 PM;tpatterson;+Modal text+
Header:
Need help deciding which test to run?

Sub-header 1:
Genetic Monitoring / Background Testing

Description 1:
Use this service to confirm and monitor the genetic quality of your inbred colonies. It can be used to confirm the strain or substrain background of your mice. The panels can be used to distinguish between strain such as C57BL/6 and 129 or between substrains of C57BL/6 such as BL/6J and BL/6N.

Sub-header 2:
Speed Congenics / Marker Assisted Breeding 

Description 2:
Use this service to reduce the time it takes to move from one inbred strain background to another. This testing can reduce this time by up to 50% over traditional backcrossing.",,,,,,,,,,,,,,,,,,,,,,
Update Accounting Contact Email Address,QO-45,29289,,Story,Production,QO,Quick Order,software,jmedlock,,,2 Important,Done,,jcox,jcox,05/Jun/18 3:08 PM,02/Aug/18 11:46 AM,04/Sep/18 11:18 AM,02/Aug/18 11:46 AM,,Quick Order Legacy,,,0,,,,,,,"_As a user, I need to be able to email my billing questions to support for resolution._

+Acceptance Criteria+:
* Email address in QuickOrder Contact section is changed to billingsupport@transnetyx.com (instead of accounting@transnetyx.com)
",,,,;15/Jun/18 7:31 AM;jadhikari;7200,;02/Jul/18 9:37 AM;jadhikari;7200,,,,,,,,0,14400,,,0,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-02T09:38:55.582-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00y1r:,,,,,,New Product/Feature,,YX Connect,2018-06-06 07:43:38.768,06/Jun/18 2:43 AM;jadhikari;[~jcox] : Is this change only for the dashboard page in quickorder  ? There might be other places in the app where we are probably using the accounting@transnetyx.com. ,06/Jun/18 6:44 AM;jadhikari;[~jcox] I updated the email address while I was there to update the private policy announcement for now.,"06/Jun/18 8:35 AM;jcox;[~jadhikari], thank you!  It may be worth doing a find-in-files search across the site to see if any other instances of the old email address exist, but this was the only location mentioned to me by Suzanne.","12/Jul/18 10:27 AM;jadhikari;[~jcox] : Can we find out more on this ticket from Suzanne, [~rjonakin] is working on updating the Customer Service email address as another ticket. If needed both these can be updated together.",12/Jul/18 10:28 AM;jcox;[~jadhikari] Sure- did you have specific questions?,,,,,,,,,,,,,,,,,,,,,
Add Announcement for GDPR Terms/Policy update,QO-40,29254,,Story,Production,QO,Quick Order,software,jmedlock,,,3 Standard,Done,,jcox,jcox,25/May/18 1:13 PM,02/Aug/18 11:46 AM,04/Sep/18 11:18 AM,02/Aug/18 11:46 AM,,Quick Order Legacy,,,0,,,,,,,"We need to add a message to the Announcements section of the site to remind users of our updated terms based on GDPR changes.  The ""Learn More"" link will need to send the user to our documentation at http://transnetyx.com/privacy-policy.


Text to use:
Transnetyx has updated our Privacy Policy Statement to inform you of our commitment to privacy and to describe our updated policies for the collection, use, and disclosure of personal information that may be collected by Transnetyx when you visit our websites. Learn More",,,,;15/Jun/18 7:31 AM;jadhikari;14400,;02/Jul/18 9:36 AM;jadhikari;10800,,,,,,,,0,25200,,,0,25200,,,,,,,,,,,,,06/Jun/18 9:09 AM;jadhikari;PP.PNG;https://transnetyx.atlassian.net/secure/attachment/26961/PP.PNG,06/Jun/18 9:04 AM;jknight;Screen Shot 2018-06-06 at 9.03.00 AM.png;https://transnetyx.atlassian.net/secure/attachment/26960/Screen+Shot+2018-06-06+at+9.03.00+AM.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-02T09:39:17.326-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00xtz:,,,,,,New Product/Feature,,YX Connect,2018-05-25 18:57:05.188,"25/May/18 1:57 PM;jknight;Transnetyx has updated our Privacy Policy Statement to inform you of our commitment to privacy and to describe our updated policies for the collection, use, and disclosure of personal information that may be collected by Transnetyx when you visit our websites. Learn More",04/Jun/18 6:16 PM;jadhikari;[~jcox] / [~jknight] : Does this information need to go into the site immediately or it can go as part of deployment ?,"05/Jun/18 9:08 AM;jcox;[~jadhikari], I just spoke with [~jknight] and Todd and they asked for the announcement to be added as soon as possible.",06/Jun/18 6:45 AM;jadhikari;[~jknight] The announcement is updated in QuickOrder Dashboard page. Please verify.,06/Jun/18 9:04 AM;jknight;Hey [~jadhikari] I just went to QuickOrder to check and it is not showing up for me.  !Screen Shot 2018-06-06 at 9.03.00 AM.png|thumbnail! ,06/Jun/18 9:10 AM;jadhikari;[~jknight] Did you try clicking the accordion header?,"06/Jun/18 9:51 AM;jknight;Ahh. Did not realize that expanded. It is in there. Thanks!
",,,,,,,,,,,,,,,,,,,
Export to display Correct Rack Position and Grouping,COMA-2696,29600,,Bug,Peer Review,COMA,Colony Manager,software,admin,,,3 Standard,,admin,cleduc,cleduc,30/Aug/18 11:05 AM,31/Aug/18 3:41 PM,04/Sep/18 11:20 AM,,,CM - Release 1.2,,,0,,,,,,,"Export from Mice list does not export Rack position data correctly. 
Instead of A1 I only see a number.

Export from Mice list no longer exports my data as it was Grouped in the app.
I group by Cage in the app and the export has Cage as a column.


",,,,;31/Aug/18 3:24 PM;jjensen;28800,,,,,,,,,0,28800,,,0,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jjensen,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-31T15:24:48.861-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00zvz:,,,,"Go to Mice List
Display Rack and Positions Columns
Group by Cage ID
Export

Expected Rack and position to be as in app
Expected Grouping to appear in my export",,New Product/Feature,,YX Connect,2018-08-31 20:23:17.151,31/Aug/18 3:23 PM;jjensen;All dun.  'Nuff sed.,31/Aug/18 3:41 PM;cleduc;Woot!,,,,,,,,,,,,,,,,,,,,,,,,
QA Release - 2018-08-29,COMA-2695,29596,,Release,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,mbender,bwinter,bwinter,29/Aug/18 12:20 PM,29/Aug/18 12:31 PM,04/Sep/18 11:21 AM,29/Aug/18 12:30 PM,,CM - Release 1.2,,,0,,,,,,,"* COMA-2045
** COMA-2693",,,,;29/Aug/18 12:30 PM;bwinter;900,,,,,,,,,0,900,,,0,900,,,,,,,COMA-2687,,,COMA-2693,COMA-2045,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,wwyatt,0|i00zv3:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
QA Release - 2018-08-28,COMA-2694,29595,,Release,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,wwyatt,bwinter,bwinter,29/Aug/18 12:16 PM,04/Sep/18 11:25 AM,04/Sep/18 11:20 AM,29/Aug/18 12:30 PM,,CM - Release 1.2,,,0,,,,,,,"* COMA-2651
** COMA-2691

h1. Notes

*Small fix release - 2018-09-04 @ 9:07 AM*
* *Changes made:* Notes from [~rwilliams] in email on Sep 4 @ 9:07 AM:
** Added exception logging to the background import task
** Limited mouse imports to only allow for one per group at a time 
*** As part of this I put code in place that won’t allow a user to go to the upload page when there is an import in process. 
*** If they were to somehow get there and attempt to upload a new import, there will be a growler message that says that there is already a mouse import in process for their group.
** Added the capability for an Admin to kill/cancel an import that is currently in process
** Fixed a bug so that import stats and import status is updated when there are errors or exceptions during the import process
* *Change made by*: [~rwilliams]]
* *Change approved by*: N/A
* *Change affected* COMA-2651. ",,,,;29/Aug/18 12:30 PM;bwinter;900,,,,,,,,,0,900,,,0,900,,,,,,,COMA-2687,,,COMA-2691,COMA-2651,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,wwyatt,0|i00zuv:,,,,,,New Product/Feature,,YX Connect,2018-08-29 19:11:12.667,29/Aug/18 2:11 PM;mbender;Automated regression script suites 'Smoke Test' and 'Critical Path' have passed on Colony QA post this build.,"04/Sep/18 11:25 AM;bwinter;[~mbender], a new Colony QA release went out today.  See description above.  Can you run the regressions scripts?  I added the note to this Release ticket instead of the latest ticket, because the latest release ticket did not have the COMA ticket needing the small changes.  Let me know if you think I should move the small change note to the most recent QA release.",,,,,,,,,,,,,,,,,,,,,,,,
Transfer Mice action not working for Mice Records in Litter Card or Breeding Card,COMA-2693,29594,28213,Rework,Testing PASSED,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,bwinter,bwinter,29/Aug/18 12:13 PM,29/Aug/18 4:30 PM,04/Sep/18 11:20 AM,29/Aug/18 4:30 PM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened:

# Go to *Litters List*
# Select a litter
# Select 3-dot menu for Parent or Offspring Mouse Record
# Select Mark Transferred
# Nothing happens > Mouse is not marked transferred <- {color:#d04437}UNEXPECTED{color}
# Go to *Breedings List*
# Select a breeding
# Select 3-dot menu for Mouse Record in Parents Tab or Offspring Tab
# Select Mark Transferred
# Nothing happens > Mouse is not marked transferred <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

I expected the mouse to be marked transferred when I selected ""Mark Transferred"" action from the mouse record's 3-dot menu.
",,,,;29/Aug/18 12:14 PM;bwinter;60,;29/Aug/18 4:30 PM;wwyatt;5400,,,,,,,,0,5460,,,0,5460,,COMA-2045,,,,,,,,,,,29/Aug/18 12:13 PM;bwinter;FAILED COMA-2045 Scenario 5-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27497/FAILED+COMA-2045+Scenario+5-1.jpg,29/Aug/18 12:13 PM;bwinter;FAILED COMA-2045 Scenario 5-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27498/FAILED+COMA-2045+Scenario+5-2.jpg,29/Aug/18 12:13 PM;bwinter;FAILED COMA-2045 Scenario 5-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27499/FAILED+COMA-2045+Scenario+5-3.jpg,29/Aug/18 12:13 PM;bwinter;FAILED COMA-2045 Scenario 5-4.jpg;https://transnetyx.atlassian.net/secure/attachment/27500/FAILED+COMA-2045+Scenario+5-4.jpg,29/Aug/18 4:29 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-1-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27503/PASSED+RETEST+COMA-2045+Scenario+5-1-1.jpg,29/Aug/18 4:29 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-1-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27504/PASSED+RETEST+COMA-2045+Scenario+5-1-2.jpg,29/Aug/18 4:29 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-2-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27505/PASSED+RETEST+COMA-2045+Scenario+5-2-1.jpg,29/Aug/18 4:29 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-2-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27506/PASSED+RETEST+COMA-2045+Scenario+5-2-2.jpg,29/Aug/18 4:29 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-3-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27507/PASSED+RETEST+COMA-2045+Scenario+5-3-1.jpg,29/Aug/18 4:30 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-3-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27508/PASSED+RETEST+COMA-2045+Scenario+5-3-2.jpg,29/Aug/18 4:30 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-4-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27509/PASSED+RETEST+COMA-2045+Scenario+5-4-1.jpg,29/Aug/18 4:30 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-4-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27510/PASSED+RETEST+COMA-2045+Scenario+5-4-2.jpg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,{},,,,,,,,,,,,,,None,,,,,,Unassigned,jmedlock,wwyatt,0|i00zun:,,,,,,,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Downloading template or uploading file throws YSOD with message about timezones for New Groups,COMA-2691,29587,29448,Rework,Testing PASSED,COMA,Colony Manager,software,admin,,,3 Standard,,bwinter,bwinter,bwinter,23/Aug/18 12:15 PM,30/Aug/18 10:44 AM,04/Sep/18 11:20 AM,,,CM - Release 1.2,,,0,,,,,,,"h1. What happened:

# Create a new group
# Add 1 or more strains
# Navigate to New Mouse Import (Mice List > Import Mice)
# Click Download Template
# YSOD thrown <- {color:#d04437}UNEXPECTED{color}
# Click Browser > select an appropriate XLSX file > click Upload File
# YSOD thrown <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

When clicking Download Template or Upload File, I do not expect a YSOD to be thrown.",,,,;23/Aug/18 3:34 PM;rwilliams;7200,,,,,,,,,0,7200,,,0,7200,,COMA-2651,,,,,,,,,,,23/Aug/18 12:14 PM;bwinter;REWORK - Download Template throws YSOD - 2018-08-23 10_06_32-.png;https://transnetyx.atlassian.net/secure/attachment/27441/REWORK+-+Download+Template+throws+YSOD+-+2018-08-23+10_06_32-.png,23/Aug/18 12:14 PM;bwinter;REWORK - Upload File throws YSOD - 2018-08-23 10_41_43-.png;https://transnetyx.atlassian.net/secure/attachment/27442/REWORK+-+Upload+File+throws+YSOD+-+2018-08-23+10_41_43-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rwilliams,rwilliams,{},,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,bwinter,0|i00zt3:,,,,,,New Product/Feature,,YX Connect,,30/Aug/18 10:44 AM;bwinter;Testing passed.  No screen shot taken.  Created new group.  Did not save timezone.  Uploaded XLSX.  Everything worked as expected.,,,,,,,,,,,,,,,,,,,,,,,,,
QA Release 18232 - 2018-08-20,COMA-2687,29574,,Release,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,,rwilliams,rwilliams,20/Aug/18 1:56 PM,29/Aug/18 12:30 PM,04/Sep/18 11:20 AM,21/Aug/18 11:38 AM,,CM - Release 1.2,,,0,,,,,,,"COMA-2681
COMA-2651
COMA-2045

h1. Notes

*Regression Failure release - 2018-08-21 @ 12:20 PM*
* *Regression Notes:* See COMA-2688 ",,,,;21/Aug/18 11:38 AM;rwilliams;1800,,,,,,,,0,0,1800,"9,223,372,036,854,775,807%",0,0,1800,,,,,,,COMA-2688,,,COMA-2045,COMA-2651,COMA-2681,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,,0|i00zq7:,,,,,,New Product/Feature,,YX Connect,2018-08-20 20:26:28.936,20/Aug/18 3:26 PM;mbender;[~rwilliams] [~bwinter] The colony automated regression script suite is failing when navigating to the shopping cart.,21/Aug/18 12:25 PM;mbender;[~rwilliams] and [~bwinter] the automated regression script suites 'Smoke Test' and 'Critical Path' have passed on Colony Manager QA post this build.,,,,,,,,,,,,,,,,,,,,,,,,
Migrate Groups from Labfinity to Colony,COMA-2686,29573,,Task,In Progress,COMA,Colony Manager,software,admin,,,3 Standard,,rwilliams,jcox,jcox,20/Aug/18 10:55 AM,29/Aug/18 7:40 AM,04/Sep/18 11:20 AM,,,CM - Release 1.2,,,0,,,,,,,"_As a Labfinity user, I need all my stuff moved to Colony._

+Acceptance Criteria:+
* All remaining Groups and sub-data have been migrated to Colony.
* All Systems that depend on Labfinity have been disconnected from Labfinity.
",,,,;29/Aug/18 7:40 AM;rwilliams;57600,,,,,,,,576000,518400,57600,10%,576000,518400,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,,0|i00zpz:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
QA Release 18227 - 2018-08-15,COMA-2685,29570,,Release,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,,rwilliams,rwilliams,15/Aug/18 6:08 PM,17/Aug/18 1:15 PM,04/Sep/18 11:20 AM,17/Aug/18 1:10 PM,,CM - Release 1.2,,,0,,,,,,,"COMA-2647
COMA-2589

h1. Notes

*Urgent fix release - 2018-08-16 @ 11:51 AM*
* *Change made:* Quick fixed needed for YSOD error when exporting mice list to XLSX.  YSOD discussed in person with Jaime and over Skype with Carrie after stand-up. Normal rework process bypassed due to urgency of this ticket getting to PROD
* *Change made by*: [~jjensen]
* *Change approved by*: [~cleduc]
* *Change affected* COMA-2647. See Jamie's comments on this tickets for details.

*Urgent fix release - 2018-08-17 @ 09:47 AM*
* *Change made:* Another quick fixed needed for YSOD error when exporting mice list to XLSX.  YSOD discussed in person with Jaime and Carrie over Team chat. Normal rework process bypassed due to urgency of this ticket getting to PROD. 
* *Change made by*: [~jjensen]
* *Change approved by*: [~cleduc]
* *Change affected* COMA-2647. See Jamie's comments on this tickets for details.",,,,;17/Aug/18 1:10 PM;bwinter;900,,,,,,,,,0,900,,,0,900,,,,,,,,,,COMA-2589,COMA-2647,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,,0|i00zpb:,,,,,,New Product/Feature,,YX Connect,2018-08-16 13:51:57.701,"16/Aug/18 8:51 AM;wwyatt;Hey [~mbender], I saw you ran the production script. Have you had a chance to run the QA script?","16/Aug/18 8:54 AM;mbender;[~wwyatt] no not yet, I will be doing that this morning.",16/Aug/18 10:05 AM;mbender;[~wwyatt] Automated regression script suite 'Critical Path' has passed on Colony QA post this build.,"17/Aug/18 11:00 AM;bwinter;[~mbender], the QA push is complete.  When you get a chance later today, do you mind firing off the scripts?",17/Aug/18 12:27 PM;mbender;[~bwinter] The automated regression script suites 'Smoke Test' and 'Critical Path' have passed on Colony QA post this update to this build.,"17/Aug/18 1:14 PM;bwinter;[~cleduc], this release is ready to go to production!  WOOT! WOOT!

CC: [~rwilliams], [~jjensen], [~mbender], [~jmedlock], [~jcox]",,,,,,,,,,,,,,,,,,,,
Automatic Welcome Email,COMA-2684,29566,,Story,Backlog,COMA,Colony Manager,software,admin,,,3 Standard,,,jcox,jcox,15/Aug/18 2:24 PM,23/Aug/18 9:10 AM,04/Sep/18 11:20 AM,,,CM - Release 1.2,,,0,,,,,,,"_As a User, I would like to receive a Welcome email when I register to use Colony that shows me where to go for support resources._

+Acceptance Criteria:+

* When a new user registers, an email is sent to them automatically welcoming them.
* This email will need to be BCC’d to [sales@transnetyx.com|mailto:sales@transnetyx.com], as well as Carrie and Amanda.
* URLs to the TCOM support site and documents will be included in the template.

\[[~tpoley]‌‌/[~jknight] to provide exact wording and links for this message\]",,,,;16/Aug/18 3:39 PM;jcox;3600,,,,,,,,57600,0,3600,6%,57600,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00zof:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Registration Page - Organization field optional,COMA-2683,29565,,Story,QA,COMA,Colony Manager,software,admin,,,3 Standard,,wwyatt,jcox,jcox,15/Aug/18 2:22 PM,30/Aug/18 4:17 PM,04/Sep/18 11:20 AM,,,CM - Release 1.2,,,0,,,,,,,"_As a Transnetyx sales rep, I need new users to be able to optionally supply their Organization name so that I can better follow up with the lead._

+Acceptance Criteria:+

* Registration page now asks for Organization field.
* Organization field is optional.

+Note to Developer:+

* This will be stored as a new field in the DB that allows the user to just enter text.  
* This won’t tie back to the Organizations table.
",,,,;15/Aug/18 2:23 PM;jcox;3600,;22/Aug/18 2:55 PM;admin;1200,;29/Aug/18 12:46 PM;jadhikari;1800,,,,,,57600,0,6600,11%,57600,0,6600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,admin,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-22T16:18:37.940-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,jadhikari,,,Unassigned,,bwinter,0|i00zo7:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create AALAS 2018 Group in Colony,COMA-2682,29564,,Task,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,15/Aug/18 2:20 PM,23/Aug/18 10:57 AM,04/Sep/18 11:20 AM,23/Aug/18 10:54 AM,,CM - Release 1.2,,,0,,,,,,,"To prep for AALAS, we need to create an AALAS 2018 group for people to use as a playground/sandbox.

Per Jim, it will need:
* 4 Strains maximum
* 8 Mice (total) across those 4 strains
* 2 Breedings
* Around 4 cages total, or whatever makes the most sense given the previous criteria",,,,;23/Aug/18 10:54 AM;bwinter;5400,,,,,,,,,0,5400,,,0,5400,,,,,,,,,,,,,23/Aug/18 10:45 AM;bwinter;AALAS 2018 Test Group - COMA-2682.xlsx;https://transnetyx.atlassian.net/secure/attachment/27439/AALAS+2018+Test+Group+-+COMA-2682.xlsx,23/Aug/18 10:57 AM;bwinter;COMA-2682 - 2018-08-23 10_55_26-.png;https://transnetyx.atlassian.net/secure/attachment/27440/COMA-2682+-+2018-08-23+10_55_26-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,,0|i00znz:,,,,,,Tech/Engineering,,YX Connect,2018-08-23 00:12:58.142,"22/Aug/18 7:12 PM;rwilliams;[~jmedlock] This is a good candidate for the Mouse import, but someone still needs to create the Strains and other related data. I nominate [~bwinter]. He is good with all of that\!","23/Aug/18 10:51 AM;bwinter;Done.  Group created on QA Environment (see group details below).  Strains created (see chart below).  Mice added (see attached).

Group: AALAS 2018 Test Group
Enrollment Key: E8CBIYX
GUID: 6dd83378-cbea-47f8-8593-b59820863f9a

|| Strain Name || Type of Gene(s) || MGI(s) used to create Mutations||
| B6.Cg-Hephsla/J | X-Linked | 1857042 |
|B6.Cg-Tg(APPswe,PSEN1dE9)85Dbo/Mmjax | Transgene | 3524957 |
| NOD.Cg-Prkdcscid Il2rgtm1Wjl Tg(CMV-IL3,CSF2,KITLG)1Eav/MloySzJ | X-Linked, Standard, Transgene | 1857455, 1857113, 3653745 |
| C57BL/6J | None created | N/A |

CC: [~jmedlock], [~jcox], [~cleduc], [~apacio], [~rwilliams]
",,,,,,,,,,,,,,,,,,,,,,,,
Add Instruction Card to Well Plate UI,COMA-2681,29560,,Story,Testing PASSED,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,admin,admin,14/Aug/18 1:16 PM,30/Aug/18 8:58 AM,04/Sep/18 11:20 AM,30/Aug/18 8:58 AM,,CM - Release 1.2,,,0,,,,,,,"_As a user ordering genotyping, I want a link to download a well plate card, so that I can print it off._

+Acceptance Criteria+:
* The attached image or PDF asset should be included in the Colony site and available for review from the Wellplate load UI, etc.
* Add a link to view the instruction card to the wellplate UI",,wes wyatt,,;16/Aug/18 5:35 PM;rjonakin;14400,;30/Aug/18 8:58 AM;wwyatt;600,,,,,,,,0,15000,,,0,15000,,,,,,,,,,,,,14/Aug/18 3:40 PM;admin;Back.jpg;https://transnetyx.atlassian.net/secure/attachment/27363/Back.jpg,14/Aug/18 3:40 PM;admin;Front.jpg;https://transnetyx.atlassian.net/secure/attachment/27362/Front.jpg,16/Aug/18 5:26 PM;rjonakin;LocationOfLink.png;https://transnetyx.atlassian.net/secure/attachment/27420/LocationOfLink.png,30/Aug/18 8:57 AM;wwyatt;PASSED COMA-2681-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27525/PASSED+COMA-2681-1.jpg,30/Aug/18 8:57 AM;wwyatt;PASSED COMA-2681-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27524/PASSED+COMA-2681-2.jpg,30/Aug/18 8:57 AM;wwyatt;PASSED COMA-2681-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27523/PASSED+COMA-2681-3.jpg,14/Aug/18 3:40 PM;admin;Updated 10x7 Instruction Card v1.1.pdf;https://transnetyx.atlassian.net/secure/attachment/27364/Updated+10x7+Instruction+Card+v1.1.pdf,30/Aug/18 8:57 AM;wwyatt;WellplateInstructions.pdf;https://transnetyx.atlassian.net/secure/attachment/27526/WellplateInstructions.pdf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-20T14:02:19.319-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,bwinter,0|i00zn3:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create process for migrating Labfinity data to Colony,COMA-2680,29559,,Story,Development,COMA,Colony Manager,software,admin,,,3 Standard,,rjonakin,jcox,jcox,14/Aug/18 10:32 AM,22/Aug/18 9:51 AM,04/Sep/18 11:20 AM,,,CM - Release 1.2,,,0,,,,,,,"_As a Labfinity user moving to Colony, I need my data to be migrated into the Colony system._

+Acceptance Criteria:+
* Outline of objects that need to be moved (mice, strains, alleles, users. groups, etc.)
* Identify other systems that have dependencies on Labfinity
* QA team to help verify that 1 group has successfully migrated into the QA environment

",,,,;16/Aug/18 3:39 PM;jcox;3600,,,,,,,,288000,0,3600,1%,288000,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,rjonakin,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00zmv:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sync issue causes mice with blank names to be given auto-incremented names,COMA-2679,29537,,Story,QA,COMA,Colony Manager,software,admin,,,3 Standard,,wwyatt,wwyatt,wwyatt,06/Aug/18 10:45 AM,30/Aug/18 4:16 PM,04/Sep/18 11:20 AM,,,CM - Release 1.2,,,0,,,,,,,"h1. Background

This ticket was originally a CMI ticket, but after investigating the issue, [~jstrickland] realized that the issue below is being caused by a sync issue or some functionality with Web app.   This ticket needs more investigation to figure out what is going on.  The below ""what happened"" is just a way to trigger the event.  

See Jeff Strickland's comments and attachments for more details on what is going on with sync.

h1. What happened:

# Web > Select a Breeding
## Edit Breeding
## Turn off Auto-serialize in the Breeding Wizard
## Complete Breeding Wizard to save setting
# iOS > Go to Breedings page
## Create a new litter for the Breeding
## Biopsy new litter
## Give the mice blank IDs
## Sync
# The mice now have random, auto-incremented IDs in _web_ and _iOS_ <- {color:#d04437}CHANGE{color}

h1. What I expected to happen:

When I biopsy mice from the Litter page and set their IDs to be blank, I expect the IDs to remain blank after the sync is complete.

h1. DEV Note

See comments and attachments from [~jstrickland].

Technical Design:
----
I changed this ticket from Bug to Story. The auto-name generation is happening by design to respond to an old  UCSF feature request to do exactly that. (Chris)

Changing this functionality to prevent coalescence of the system generated ID implies that there will be no storage of that ID (the system generated ID is only being stored in the Name field when the user has elected not to name a mouse).

-Based on a brief conversation with Jim, that may not be the solution we are looking for. We will need a backing storage column added to Mice (its entity and business classes as well) to hold the system generated ID, and then future work to display that as a fixed reference ID.- this work has already been completed. -cs

[~bkoch] We can discuss if you need more detail.
",,,,testing ;08/Aug/18 9:40 AM;jstrickland;7200,;29/Aug/18 6:26 AM;bkoch;7200,;30/Aug/18 2:24 PM;admin;300,,,,,,,0,14700,,,0,14700,,,,,,,,,,,,,07/Aug/18 8:29 AM;jstrickland;Blank names before sync.png;https://transnetyx.atlassian.net/secure/attachment/27312/Blank+names+before+sync.png,06/Aug/18 10:44 AM;wwyatt;CMI-290-1.PNG;https://transnetyx.atlassian.net/secure/attachment/27295/CMI-290-1.PNG,06/Aug/18 10:44 AM;wwyatt;CMI-290-2.PNG;https://transnetyx.atlassian.net/secure/attachment/27294/CMI-290-2.PNG,06/Aug/18 10:44 AM;wwyatt;CMI-290-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27293/CMI-290-3.jpg,07/Aug/18 8:29 AM;jstrickland;Sync data before sending to server 2.png;https://transnetyx.atlassian.net/secure/attachment/27314/Sync+data+before+sending+to+server+2.png,07/Aug/18 8:29 AM;jstrickland;Sync data before sending to server.png;https://transnetyx.atlassian.net/secure/attachment/27313/Sync+data+before+sending+to+server.png,27/Aug/18 8:28 AM;jstrickland;blank_mouse_names_after_sync_to_server.png;https://transnetyx.atlassian.net/secure/attachment/27447/blank_mouse_names_after_sync_to_server.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-30T14:24:23.392-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":false}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,cleduc,bwinter,0|i00zhz:,,,,,,New Product/Feature,,YX Connect,2018-08-07 13:27:52.011,"06/Aug/18 10:49 AM;wwyatt;[~jstrickland], I spoke with [~cleduc], and this will definitely need a rework based upon what our customers expect when they enter blank IDs.

CC: [~jcox]","07/Aug/18 8:27 AM;jstrickland;If you blank the names out in the iOS app it will actually send up blank names in the sync but the data returned from the server has names populated.  So this particular thing is server side.

When you create pups in the app it does try to auto name them either basing the names off of the parents name or in that same format the server uses - YYYY####-##.  

This happens on master and isn't due to a change made for CMI-290.
","07/Aug/18 8:45 AM;jstrickland;Response from server after sending in blank mouse names:
{code:java}
 ""mice"" : [
    {
      ""dateDeleted"" : null,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-08-07T13:14:38.0000000Z"",
      ""generation"" : null,
      ""genderCd"" : 1,
      ""transferDate"" : null,
      ""dateImported"" : null,
      ""name"" : ""2018219-5"",
      ""deathTypeCd"" : null,
      ""dateCreated"" : ""2018-08-07T13:15:55.7710271Z"",
      ""importedByUserId"" : null,
      ""strainId"" : ""8821A94D-68D2-4DE8-829C-EE65875B0A40"",
      ""markedForCull"" : false,
      ""mouseId"" : ""5034FF18-DDB9-4CEF-8A0C-1DB8FD8C9AFC"",
      ""cageId"" : ""3EA545A0-867D-4CAC-AA88-F8FC9D52CE54"",
      ""deathDate"" : null,
      ""isRunt"" : false,
      ""animalUseCd"" : 0,
      ""coatColorCd"" : 0,
      ""litterId"" : ""E25C84D0-0070-4107-B28D-5C4469977FAB"",
      ""groupId"" : ""7C02C6A4-192E-40D5-A163-06B23CD503AF"",
      ""note"" : null,
      ""dateModified"" : null,
      ""isImported"" : false,
      ""identificationMethodCd"" : null,
      ""userId"" : null
    },
    {
      ""dateDeleted"" : null,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-08-07T13:14:38.0000000Z"",
      ""generation"" : null,
      ""genderCd"" : 2,
      ""transferDate"" : null,
      ""dateImported"" : null,
      ""name"" : ""2018219-6"",
      ""deathTypeCd"" : null,
      ""dateCreated"" : ""2018-08-07T13:15:55.7710271Z"",
      ""importedByUserId"" : null,
      ""strainId"" : ""8821A94D-68D2-4DE8-829C-EE65875B0A40"",
      ""markedForCull"" : false,
      ""mouseId"" : ""A3C69343-348A-406D-9C40-CC68233BAD69"",
      ""cageId"" : ""3EA545A0-867D-4CAC-AA88-F8FC9D52CE54"",
      ""deathDate"" : null,
      ""isRunt"" : false,
      ""animalUseCd"" : 0,
      ""coatColorCd"" : 0,
      ""litterId"" : ""E25C84D0-0070-4107-B28D-5C4469977FAB"",
      ""groupId"" : ""7C02C6A4-192E-40D5-A163-06B23CD503AF"",
      ""note"" : null,
      ""dateModified"" : null,
      ""isImported"" : false,
      ""identificationMethodCd"" : null,
      ""userId"" : null
    }
  ],
{code}

","27/Aug/18 7:46 AM;bkoch;[~jstrickland] do you have the example api call with data that I can use to build off of in fixing this issue?  Thanks,

Brad","27/Aug/18 8:20 AM;jstrickland;Created a new litter in dev and manually blanked out the names of the pups on iOS otherwise it makes up names as well.  Attaching a screenshot of how this litter looks on the server side.

{code:json}
{
  ""mice"" : [
    {
      ""dateDeleted"" : null,
      ""mouseStatusCd"" : 0,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-08-27T13:14:53Z"",
      ""generation"" : null,
      ""transferDate"" : null,
      ""genderCd"" : 2,
      ""name"" : """",
      ""dateCreated"" : ""2018-08-27T13:15:33Z"",
      ""isTransferred"" : null,
      ""deathTypeCd"" : null,
      ""strainId"" : ""96ADB14A-A6CE-40F1-9669-924C8D554483"",
      ""markedForCull"" : null,
      ""isDead"" : null,
      ""mouseId"" : ""2A526893-464E-47BA-9AFE-D300877F3ECB"",
      ""cageId"" : ""1969AAB4-9F0C-4AE2-8179-FA0D23CE4B72"",
      ""isRunt"" : null,
      ""dateModified"" : null,
      ""isImported"" : null,
      ""coatColorCd"" : 0,
      ""litterId"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""groupId"" : ""758516F9-6C75-4041-8130-BD0E7977169C"",
      ""deathDate"" : null,
      ""animalUseCd"" : 0,
      ""note"" : null,
      ""identificationMethodCd"" : 0,
      ""userId"" : null
    },
    {
      ""dateDeleted"" : null,
      ""mouseStatusCd"" : 0,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-08-27T13:14:53Z"",
      ""generation"" : null,
      ""transferDate"" : null,
      ""genderCd"" : 1,
      ""name"" : """",
      ""dateCreated"" : ""2018-08-27T13:15:33Z"",
      ""isTransferred"" : null,
      ""deathTypeCd"" : null,
      ""strainId"" : ""96ADB14A-A6CE-40F1-9669-924C8D554483"",
      ""markedForCull"" : null,
      ""isDead"" : null,
      ""mouseId"" : ""A1090AD2-065C-4CC9-8C40-054CD265C068"",
      ""cageId"" : ""1969AAB4-9F0C-4AE2-8179-FA0D23CE4B72"",
      ""isRunt"" : null,
      ""dateModified"" : null,
      ""isImported"" : null,
      ""coatColorCd"" : 0,
      ""litterId"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""groupId"" : ""758516F9-6C75-4041-8130-BD0E7977169C"",
      ""deathDate"" : null,
      ""animalUseCd"" : 0,
      ""note"" : null,
      ""identificationMethodCd"" : 0,
      ""userId"" : null
    },
    {
      ""dateDeleted"" : null,
      ""mouseStatusCd"" : 0,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-08-27T13:14:53Z"",
      ""generation"" : null,
      ""transferDate"" : null,
      ""genderCd"" : 1,
      ""name"" : """",
      ""dateCreated"" : ""2018-08-27T13:15:33Z"",
      ""isTransferred"" : null,
      ""deathTypeCd"" : null,
      ""strainId"" : ""96ADB14A-A6CE-40F1-9669-924C8D554483"",
      ""markedForCull"" : null,
      ""isDead"" : null,
      ""mouseId"" : ""B39162C8-EDB8-4517-9A4E-14CF10DBF359"",
      ""cageId"" : ""1969AAB4-9F0C-4AE2-8179-FA0D23CE4B72"",
      ""isRunt"" : null,
      ""dateModified"" : null,
      ""isImported"" : null,
      ""coatColorCd"" : 0,
      ""litterId"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""groupId"" : ""758516F9-6C75-4041-8130-BD0E7977169C"",
      ""deathDate"" : null,
      ""animalUseCd"" : 0,
      ""note"" : null,
      ""identificationMethodCd"" : 0,
      ""userId"" : null
    },
    {
      ""dateDeleted"" : null,
      ""mouseStatusCd"" : 0,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-08-27T13:14:53Z"",
      ""generation"" : null,
      ""transferDate"" : null,
      ""genderCd"" : 1,
      ""name"" : """",
      ""dateCreated"" : ""2018-08-27T13:15:30Z"",
      ""isTransferred"" : null,
      ""deathTypeCd"" : null,
      ""strainId"" : ""96ADB14A-A6CE-40F1-9669-924C8D554483"",
      ""markedForCull"" : null,
      ""isDead"" : null,
      ""mouseId"" : ""E8C2443F-779C-48B6-9CC1-0B9F01FA4D0A"",
      ""cageId"" : ""1969AAB4-9F0C-4AE2-8179-FA0D23CE4B72"",
      ""isRunt"" : null,
      ""dateModified"" : null,
      ""isImported"" : null,
      ""coatColorCd"" : 0,
      ""litterId"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""groupId"" : ""758516F9-6C75-4041-8130-BD0E7977169C"",
      ""deathDate"" : null,
      ""animalUseCd"" : 0,
      ""note"" : null,
      ""identificationMethodCd"" : 0,
      ""userId"" : null
    },
    {
      ""dateDeleted"" : null,
      ""mouseStatusCd"" : 0,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-08-27T13:14:53Z"",
      ""generation"" : null,
      ""transferDate"" : null,
      ""genderCd"" : 1,
      ""name"" : """",
      ""dateCreated"" : ""2018-08-27T13:15:33Z"",
      ""isTransferred"" : null,
      ""deathTypeCd"" : null,
      ""strainId"" : ""96ADB14A-A6CE-40F1-9669-924C8D554483"",
      ""markedForCull"" : null,
      ""isDead"" : null,
      ""mouseId"" : ""F7A646FE-F636-43DF-813D-5FFCD4D0C509"",
      ""cageId"" : ""1969AAB4-9F0C-4AE2-8179-FA0D23CE4B72"",
      ""isRunt"" : null,
      ""dateModified"" : null,
      ""isImported"" : null,
      ""coatColorCd"" : 0,
      ""litterId"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""groupId"" : ""758516F9-6C75-4041-8130-BD0E7977169C"",
      ""deathDate"" : null,
      ""animalUseCd"" : 0,
      ""note"" : null,
      ""identificationMethodCd"" : 0,
      ""userId"" : null
    }
  ],
  ""samples"" : [
    {
      ""tissueTypeCd"" : 1,
      ""mouseId"" : ""2A526893-464E-47BA-9AFE-D300877F3ECB"",
      ""dateCreated"" : ""2018-08-27T13:15:43Z"",
      ""dateDeleted"" : null,
      ""sampleId"" : ""00823154-2747-4C44-B125-71F1624A3007"",
      ""samplingDate"" : ""2018-08-27T13:15:43Z"",
      ""name"" : "" "",
      ""dateModified"" : null
    },
    {
      ""tissueTypeCd"" : 1,
      ""mouseId"" : ""B39162C8-EDB8-4517-9A4E-14CF10DBF359"",
      ""dateCreated"" : ""2018-08-27T13:15:43Z"",
      ""dateDeleted"" : null,
      ""sampleId"" : ""320597C2-7B8F-43ED-AE95-A5F142E34EB3"",
      ""samplingDate"" : ""2018-08-27T13:15:43Z"",
      ""name"" : "" "",
      ""dateModified"" : null
    },
    {
      ""tissueTypeCd"" : 1,
      ""mouseId"" : ""A1090AD2-065C-4CC9-8C40-054CD265C068"",
      ""dateCreated"" : ""2018-08-27T13:15:43Z"",
      ""dateDeleted"" : null,
      ""sampleId"" : ""6B8B31D3-40EC-4397-A944-BA400962F79E"",
      ""samplingDate"" : ""2018-08-27T13:15:43Z"",
      ""name"" : "" "",
      ""dateModified"" : null
    },
    {
      ""tissueTypeCd"" : 1,
      ""mouseId"" : ""E8C2443F-779C-48B6-9CC1-0B9F01FA4D0A"",
      ""dateCreated"" : ""2018-08-27T13:15:43Z"",
      ""dateDeleted"" : null,
      ""sampleId"" : ""8FA30AC2-31DD-41E8-BE97-B52EEF6FFA83"",
      ""samplingDate"" : ""2018-08-27T13:15:43Z"",
      ""name"" : "" "",
      ""dateModified"" : null
    },
    {
      ""tissueTypeCd"" : 1,
      ""mouseId"" : ""F7A646FE-F636-43DF-813D-5FFCD4D0C509"",
      ""dateCreated"" : ""2018-08-27T13:15:43Z"",
      ""dateDeleted"" : null,
      ""sampleId"" : ""9228553C-4A9B-4C6B-B90E-57C4CBD7D9FA"",
      ""samplingDate"" : ""2018-08-27T13:15:43Z"",
      ""name"" : "" "",
      ""dateModified"" : null
    }
  ],
  ""litterParents"" : [
    {
      ""litterParentId"" : ""0EFEC22C-7F8B-4237-BF35-F9F410BF0041"",
      ""dateDeleted"" : null,
      ""dateCreated"" : ""2018-08-27T13:14:53Z"",
      ""litterId"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""dateModified"" : null,
      ""mouseId"" : ""95B136A7-AF84-460F-857B-2BE31F6328E2""
    },
    {
      ""litterParentId"" : ""AC00F2ED-0DC3-4E80-8C7F-B5CCDBD66BC7"",
      ""dateDeleted"" : null,
      ""dateCreated"" : ""2018-08-27T13:14:53Z"",
      ""litterId"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""dateModified"" : null,
      ""mouseId"" : ""187F6CD0-3AAF-4F23-A141-D6DBD391673A""
    }
  ],
  ""litters"" : [
    {
      ""culledCount"" : 0,
      ""dateWeaned"" : null,
      ""dateDeleted"" : null,
      ""maleCount"" : 0,
      ""foundDeadCount"" : 0,
      ""pupCountAtBirth"" : 5,
      ""birthDate"" : ""2018-08-27T13:14:53Z"",
      ""isTransnetyxBiopsied"" : null,
      ""deathType"" : 0,
      ""dateIdentified"" : ""2018-08-27T13:15:42Z"",
      ""name"" : ""Litter 3 mice no name from ios"",
      ""dateCreated"" : ""2018-08-27T13:14:53Z"",
      ""strainId"" : ""96ADB14A-A6CE-40F1-9669-924C8D554483"",
      ""cageId"" : ""1969AAB4-9F0C-4AE2-8179-FA0D23CE4B72"",
      ""dateModified"" : ""2018-08-27T13:15:42Z"",
      ""deathDate"" : null,
      ""femaleCount"" : 0,
      ""dateBiopsied"" : ""2018-08-27T13:15:17Z"",
      ""groupId"" : ""758516F9-6C75-4041-8130-BD0E7977169C"",
      ""litterId"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""breedingId"" : ""232DAF84-FD16-456A-AD61-CDC1AF6A52E3"",
      ""missingCount"" : 0,
      ""survivedCount"" : null
    }
  ],
  ""offspringSettings"" : [
    {
      ""weanAge"" : 21,
      ""id"" : ""ADA20644-671C-435A-9D58-84118E5FD118"",
      ""identificationNeeded"" : 1,
      ""biopsyNeeded"" : 1,
      ""serializationSettingsCd"" : 2,
      ""dateCreated"" : ""2018-08-27T13:14:53Z"",
      ""litterInstructions"" : null,
      ""idFirstCd"" : 2,
      ""identificationMethodCd"" : 1,
      ""biopsyAge"" : 14,
      ""identificationAge"" : 14,
      ""tissueTypeCd"" : 1,
      ""dateModified"" : null,
      ""dateDeleted"" : null
    }
  ]
}

{code}
","27/Aug/18 8:49 AM;bkoch;[~wwyatt][~cleduc] just making sure I'm understanding this ticket right, if the ""auto-serialize"" is unchecked, that means that it shouldn't populate any mouse names, and just leave it blank until the user specifies something in?  Has this been an issue in the web previously, since it looks like it's happening on both platforms?

edit - So I looked through the code a bit, and apparently it's not saving the mouse name if the auto-generate ID is off, but it is bringing back the mouse name as the auto-generated system ID if the name is null or empty.  Since it looks like this was explicitly coded in for a reason, do we know if we should allow null or blank mouse names?  Should we default them to something else instead?","27/Aug/18 2:17 PM;wwyatt;[~bkoch], I've spoken with Jim about the code and it was put there intentionally. He'll reach out to [~cleduc] to discuss the issue, so we'll need to wait to hear back from them before moving forwared. Thanks for finding the issue!

CC: [~jmedlock]","27/Aug/18 3:07 PM;cleduc;[~wwyatt][~bkoch][~jmedlock]  [~admin]
We'll have a few meetings and get back to you tomorrow. 

We have a situation of triple labeling of an animal: GUID, scientific name (System ID - not editable by user) and common name (Name - fully editable by user).

For now, what I would think the generic user would expect: 

* If they do not fill in a Name, it would not have a Name. 
* If auto generate name is off, and a Name is blank it stays blank.
* If auto generate is on, and they blank out the Name, the Name should still stay blank. 
* The System ID (not the GUID) could be a running number (date etc as it is now) generated by the system that cannot be edited by the user. 
* The user would expect to be able to view this ID but it is fine if only in list views with column added. 

In the future, if they wanted to use System ID instead of Name (displaying in the modals) maybe we would want a selection as we do for autogenerate. If it's on, System ID is Mouse Name.  I don't think we have room in the card displays/modals for both fields.



","28/Aug/18 3:46 AM;bkoch;Thanks [~cleduc] and [~wwyatt], let me know what the final decision is regarding this when you find out.  If it is to leave the name as whatever they decided to enter in, that's cool for me, just let me know.","28/Aug/18 10:18 AM;cleduc;Thanks [~bkoch] for asking about this! 
Please continue with ticket as written. 
If Mouse ID/Name is blank, do not fill with System ID, regardless of Auto Serialize settings.

(We will create a new ticket to handle the System ID creation and Display in another field).
cc: [~jmedlock][~jcox][~admin]",,,,,,,,,,,,,,,,
Change text and email address for Genetic Services in Colony-generated emails,COMA-2678,29540,29502,Rework,Testing PASSED,COMA,Colony Manager,software,admin,,,3 Standard,,bwinter,bwinter,bwinter,06/Aug/18 4:25 PM,14/Aug/18 11:42 AM,04/Sep/18 11:20 AM,,,Unplanned,,,0,,,,,,,"What happened:

# Invite a user to group
# Research Group Invite email has Customer Service instead of Genetic Services at footer of email <- {color:#d04437}UNEXPECTED{color}
# Customer Service links to {{customerservice@transnetyx.com}} instead of {{geneticservices@transnetyx.com}} <- {color:#d04437}UNEXPECTED{color}
# Account Profile > switch off account linking > switch account linking back on
# QuickOrder Link email has Customer Service instead of Genetic Services at footer of email <- {color:#d04437}UNEXPECTED{color}
# Customer Service links to {{customerservice@transnetyx.com}} instead of {{geneticservices@transnetyx.com}} <- {color:#d04437}UNEXPECTED{color}",,,,;13/Aug/18 12:24 PM;rjonakin;14400,;13/Aug/18 12:27 PM;rjonakin;60,,,,,,,0,0,14460,"9,223,372,036,854,775,807%",0,0,14460,,COMA-2668,,,,,,,,,,,06/Aug/18 4:22 PM;bwinter;FAILED - text and email NOT changed in Research Group Invite Email - 2018-08-06 16_17_03-.png;https://transnetyx.atlassian.net/secure/attachment/27310/FAILED+-+text+and+email+NOT+changed+in+Research+Group+Invite+Email+-+2018-08-06+16_17_03-.png,06/Aug/18 4:22 PM;bwinter;FAILED - text and email address NOT changed in QuickOrder Link Email - 2018-08-06 16_14_44-.png;https://transnetyx.atlassian.net/secure/attachment/27309/FAILED+-+text+and+email+address+NOT+changed+in+QuickOrder+Link+Email+-+2018-08-06+16_14_44-.png,14/Aug/18 11:40 AM;bwinter;PASSED - Account Link Email says Genetic Services and links to geneticservices at transentyx.com - 2018-08-14 11_24_34-Transnetyx QuickOrder Account Security - Message (HTML).png;https://transnetyx.atlassian.net/secure/attachment/27355/PASSED+-+Account+Link+Email+says+Genetic+Services+and+links+to+geneticservices+at+transentyx.com+-+2018-08-14+11_24_34-Transnetyx+QuickOrder+Account+Security+-+Message+%28HTML%29.png,14/Aug/18 11:40 AM;bwinter;PASSED - Join my Group Email says Genetic Services and links to geneticservices at transentyx.com - 2018-08-14 11_35_37-Transnetyx Colony - Research Group Invitation - Message (HTML).png;https://transnetyx.atlassian.net/secure/attachment/27357/PASSED+-+Join+my+Group+Email+says+Genetic+Services+and+links+to+geneticservices+at+transentyx.com+-+2018-08-14+11_35_37-Transnetyx+Colony+-+Research+Group+Invitation+-+Message+%28HTML%29.png,06/Aug/18 4:24 PM;bwinter;Transnetyx  Colony - Research Group Invitation.msg;https://transnetyx.atlassian.net/secure/attachment/27308/Transnetyx++Colony+-+Research+Group+Invitation.msg,14/Aug/18 11:40 AM;bwinter;Transnetyx Colony - Research Group Invitation - 2018-08-14.msg;https://transnetyx.atlassian.net/secure/attachment/27356/Transnetyx+Colony+-+Research+Group+Invitation+-+2018-08-14.msg,14/Aug/18 11:40 AM;bwinter;Transnetyx QuickOrder Account Security - 2018-08-14.msg;https://transnetyx.atlassian.net/secure/attachment/27354/Transnetyx+QuickOrder+Account+Security+-+2018-08-14.msg,06/Aug/18 4:24 PM;bwinter;Transnetyx QuickOrder Account Security.msg;https://transnetyx.atlassian.net/secure/attachment/27307/Transnetyx+QuickOrder+Account+Security.msg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,bwinter,0|i00zin:,,,,,,New Product/Feature,,YX Connect,,"14/Aug/18 11:42 AM;bwinter;From [~rwilliams] in comment on Parent Ticket: 

bq. Bryan Winter Can you please retest this in QA. I believe it is only the email footers that failed. The fix was a data-base-only update that has been applied to QA and is ready.

I tested today, and TESTING PASSED.",,,,,,,,,,,,,,,,,,,,,,,,,
"Web Api - Sync issue with Cage/Facility Management - ""LinkFacilityCageClaimsToColonyCage"" method is throwing an exception when the cage name is null or blank",COMA-2670,29512,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,rwilliams,rwilliams,02/Aug/18 10:02 AM,16/Aug/18 9:09 AM,04/Sep/18 11:20 AM,16/Aug/18 9:09 AM,,CM - Release 1.2,,,0,web_api,,,,,,"h1. What happened

# Open iOS QA 
# Go to group with Cage/Facility Management (e.g., *UCSF_Rio_Test* [key: *8D8JDC2*]
# Create/edit a cage
# Leave/change the cage name to blank
# Sync data 
# Sync error thrown <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen

When syncing a cage change in iOS for a group with Cage/Facility Management, I expected the cage changes to sync regardless of cage name.

h1. DEV Note

Basically the ""LinkFacilityCageClaimsToColonyCage"" method should not throw an exception when the cage name is null or blank, it should just return no claims.

In the method ""LinkFacilityCageClaimsToColonyCage"" in the Transnetyx.Facilities.Business.Integration object we need to move line 26 that defines the variable listFacilityCageClaimsToReturn to the top of the method body, and then update the guard clause on line 23 that tests for this: string.IsNullOrWhiteSpace(facilityManagementSystemCageId) and instead of having it throw an exception have it return listFacilityCageClaimsToReturn instead. ",,,,;02/Aug/18 11:17 AM;rwilliams;3600,;03/Aug/18 9:42 AM;admin;60,;08/Aug/18 2:51 PM;jstrickland;3600,;08/Aug/18 5:40 PM;bwinter;28800,;16/Aug/18 9:02 AM;rwilliams;300,;16/Aug/18 9:09 AM;jcox;300,,,,0,36660,,,0,36660,,,,,,,,,,,,,07/Aug/18 4:08 PM;bwinter;PASSED - Cage with no ID successfully imports from iOS for Group with Rio FacilityManager functionality - 2018-08-07 16_05_47-.png;https://transnetyx.atlassian.net/secure/attachment/27328/PASSED+-+Cage+with+no+ID+successfully+imports+from+iOS+for+Group+with+Rio+FacilityManager+functionality+-+2018-08-07+16_05_47-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rwilliams,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-03T11:24:19.110-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00zd3:,,,,,,New Product/Feature,,YX Connect,2018-08-06 17:36:17.438,"06/Aug/18 12:36 PM;bwinter;[~rwilliams], is this ticket testable?  If so, could you suggest one or more?","06/Aug/18 12:57 PM;rwilliams;Open iOS app for a group that has an cage system integration setup in Colony. UCSF is the only customer with this as far as I am aware and their integrated system is called ""Rio"". I do not know if we have a group in QA setup with this or not. [~rjonakin] may know. CC: [~jstrickland]

One additional test might be to make sure that saving a cage without a name in the iOS app still works as expected.","06/Aug/18 1:11 PM;bwinter;Ah.  Roger that.  Thanks, [~rwilliams]!","07/Aug/18 8:53 AM;bwinter;[~rwilliams], Web Colony will not allow a user to save a cage without a cage name (ID).  Is that a problem?

# Add (or edit) a cage
# Remove the cage name (ID) -> cage name is blank
# Save changes
# Cage name (ID) reappears <- {color:#f79232}UNEXPECTED?{color}

CC: [~cleduc]","07/Aug/18 8:58 AM;rwilliams;[~bwinter] [~cleduc] It appears to me that Colony was designed to NOT be able to create a cage without a name (id). iOS works the same way when you update a cage name to blank and sync it, however, it appears that you can create a cage in iOS with a blank name, where you cannot in the web. [~jmedlock] might have some history on that. 

Whether or not it is supposed to work that way, this ticket has nothing to do with that IMHO. 
CC: [~jstrickland]","07/Aug/18 9:09 AM;bwinter;[~rwilliams], roger that.  I was following up on a test that you suggested in the comments above.  But I just realized that you suggested saving a cage without a Cage ID in iOS, but I tried to do so in Web.  Sorry for the misunderstanding.  Thank you for the heads up about the potential functionality disparity between iOS and Web.  I will add it to a list that [~jcox] and [~cleduc] are working on.

CC: [~jmedlock], [~jstrickland]","07/Aug/18 9:55 AM;jmedlock;[~jcox] [~jstrickland] [~bwinter] [~rwilliams] I do not think the cage name should be null or blank. We changed that on the web to auto populate the name and make it required because it was causing all kinds of issues with other features.
Also we want to make the cage name a number so we can sort it like a number. Correct?

[~cleduc]","07/Aug/18 12:44 PM;bwinter;Ran into an issue testing this ticket.

# In web, change group to UCSF_Rio_Test [key: 8D8JDC2] <- this is a ""Rio"" group with facility management functionality
# Add some strains, mice, and cages
# In iOS, go to UCSF_Rio_Test
# Go to gear and sync Web changes
# Go back to Dashboard
# Dashboard is blank: 0 strains, 0 mice, 0 cages <- {color:#d04437}UNEXPECTED{color}

Messaged [~rwilliams] and [~jstrickland] on Teams.  Depending on investigation, I may need to create a bug ticket that blocks this ticket.","07/Aug/18 3:28 PM;rwilliams;The sync is now working. Not sure what the sync issue was, but at [~jstrickland]'s suggestion, [~bwinter] logged off of the app and logged back in and the sync worked fine. Testing can resume. Thanks guys for working through this so that testing could get completed.","07/Aug/18 3:51 PM;bwinter;The issue was completely user error on my end.  Next time I will log off and log on with each new QA release to iOS.  Thank you, [~rwilliams] and [~jstrickland] for helping figure this out.","08/Aug/18 2:07 PM;bwinter;[~rwilliams], [~jstrickland], what is the expected behavior if I do this test:

# Web > Create a cage with a Cage Name, say, _Cage 5_
# iOS > Remove cage name (from _Cage 5_ to blank).
# Sync
# Web > Cage name not updated in Web<- {color:#f79232}EXPECTED or UNEXPECTED?{color}
## Cage name in Web is _Cage 5_
## Cage name in iOS is blank (no cage name)","08/Aug/18 2:51 PM;jstrickland;I assume the expected behavior is to never be blank or null (as [~jmedlock] mentioned) so in your example the web result was expected but iOS shouldn't have allowed a blank name.  But I'll let someone else confirm this I'm just making assumptions.

Also If I create a cage on iOS with a blank name and perform a sync it actually will show up as a blank cage name on the web.  So at the very least this is inconsistent.
","08/Aug/18 3:04 PM;rwilliams;[~bwinter] [~jstrickland] It was behaving this way before this ticket was completed, so as far as this ticket goes, it is expected (because this behavior isn't new or wasn't caused by the code change for this ticket). Whether or not it is supposed to behave like that is a different question all together. As far as I can tell, the application was designed to work this way. I don't like it and I think it could stand some modification to make it a better user experience (like adding validation to the name field so that it doesn't allow the user to submit a blank name), however, that is a business call (as well as another ticket).",,,,,,,,,,,,,
Web API Sync Issue - Remove constraint on Sample Name,COMA-2669,29504,,Task,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,31/Jul/18 11:18 AM,03/Aug/18 1:24 PM,04/Sep/18 11:20 AM,02/Aug/18 11:21 AM,,CM - Release 1.2,,,0,,,,,,,"Remove null/empty constraint on Sample.Name field.

+Note to Dev:+
Remove this if statement from the MouseService.AddSamples(List<Sample> samples) method:

            if (samples.Any(s => s.Name == null || s.Name == string.Empty))
                throw new ArgumentException(""Name cannot be null or empty"");
",,,,;02/Aug/18 11:21 AM;rwilliams;7200,,,,,,,,,0,7200,,,0,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-03T11:24:39.234-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,,,,Unassigned,,jstrickland,0|i00u7d:i,,,,,,Tech/Engineering,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Change ""Customer Service"" text to ""Genetic Services"" in colony",COMA-2668,29502,,Story,Testing PASSED,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,rjonakin,rjonakin,30/Jul/18 8:40 PM,15/Aug/18 7:51 AM,04/Sep/18 11:21 AM,15/Aug/18 7:51 AM,,Unplanned,,,0,,,,,,,"Change ""Customer Service"" text to ""Genetic Services"" in colony

Change customer service email to be ""geneticservices@transnetyx.com"" *instead of* ""customerservice@transnetyx.com"". 

Places where we know about this:

* Chat bubble
* Contact Support Question mark
* Bottom of Registration page
* {color:#d04437}Genotype results page for controls?{color}
* Email - Research Group Invitation
* Email - QuickOrder Account Link
* {color:#d04437}More places?{color}



Refer to QO-53",,,,;30/Jul/18 10:02 PM;rjonakin;28800,;02/Aug/18 11:27 AM;rwilliams;300,;06/Aug/18 4:18 PM;bwinter;1800,;13/Aug/18 12:25 PM;rjonakin;14400,;14/Aug/18 8:24 PM;rwilliams;300,;15/Aug/18 7:51 AM;bwinter;60,,,,0,45660,,0,0,60120,,,,,,,,,,,,,13/Aug/18 11:48 AM;rjonakin;COMA-2668_UpdateCustomerServiceToGeneticServices.sql;https://transnetyx.atlassian.net/secure/attachment/27339/COMA-2668_UpdateCustomerServiceToGeneticServices.sql,06/Aug/18 4:18 PM;bwinter;FAILED - text and email NOT changed in Research Group Invite Email - 2018-08-06 16_17_03-.png;https://transnetyx.atlassian.net/secure/attachment/27306/FAILED+-+text+and+email+NOT+changed+in+Research+Group+Invite+Email+-+2018-08-06+16_17_03-.png,06/Aug/18 4:18 PM;bwinter;FAILED - text and email address NOT changed in QuickOrder Link Email - 2018-08-06 16_14_44-.png;https://transnetyx.atlassian.net/secure/attachment/27305/FAILED+-+text+and+email+address+NOT+changed+in+QuickOrder+Link+Email+-+2018-08-06+16_14_44-.png,14/Aug/18 11:40 AM;bwinter;PASSED - Account Link Email says Genetic Services and links to geneticservices at transentyx.com - 2018-08-14 11_24_34-Transnetyx QuickOrder Account Security - Message (HTML).png;https://transnetyx.atlassian.net/secure/attachment/27359/PASSED+-+Account+Link+Email+says+Genetic+Services+and+links+to+geneticservices+at+transentyx.com+-+2018-08-14+11_24_34-Transnetyx+QuickOrder+Account+Security+-+Message+%28HTML%29.png,14/Aug/18 11:40 AM;bwinter;PASSED - Join my Group Email says Genetic Services and links to geneticservices at transentyx.com - 2018-08-14 11_35_37-Transnetyx Colony - Research Group Invitation - Message (HTML).png;https://transnetyx.atlassian.net/secure/attachment/27358/PASSED+-+Join+my+Group+Email+says+Genetic+Services+and+links+to+geneticservices+at+transentyx.com+-+2018-08-14+11_35_37-Transnetyx+Colony+-+Research+Group+Invitation+-+Message+%28HTML%29.png,06/Aug/18 1:54 PM;bwinter;PASSED - Text changed at bottom of Register Page - 2018-08-06 13_43_05-.png;https://transnetyx.atlassian.net/secure/attachment/27302/PASSED+-+Text+changed+at+bottom+of+Register+Page+-+2018-08-06+13_43_05-.png,06/Aug/18 1:54 PM;bwinter;PASSED - Text changed in question mark - 2018-08-06 13_42_12-.png;https://transnetyx.atlassian.net/secure/attachment/27300/PASSED+-+Text+changed+in+question+mark+-+2018-08-06+13_42_12-.png,06/Aug/18 1:59 PM;bwinter;PASSED - text changed in blue growler on well plate page - 2018-08-06 13_58_18-.png;https://transnetyx.atlassian.net/secure/attachment/27303/PASSED+-+text+changed+in+blue+growler+on+well+plate+page+-+2018-08-06+13_58_18-.png,06/Aug/18 4:07 PM;bwinter;PASSED - text changed in chat bubble - 2018-08-06 13_41_28-.png;https://transnetyx.atlassian.net/secure/attachment/27304/PASSED+-+text+changed+in+chat+bubble+-+2018-08-06+13_41_28-.png,14/Aug/18 11:40 AM;bwinter;Transnetyx Colony - Research Group Invitation - 2018-08-14.msg;https://transnetyx.atlassian.net/secure/attachment/27360/Transnetyx+Colony+-+Research+Group+Invitation+-+2018-08-14.msg,14/Aug/18 11:40 AM;bwinter;Transnetyx QuickOrder Account Security - 2018-08-14.msg;https://transnetyx.atlassian.net/secure/attachment/27361/Transnetyx+QuickOrder+Account+Security+-+2018-08-14.msg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rjonakin,rjonakin,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2018-08-14T20:26:20.945-0500"",""stateCount"":2,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00zb3:,,,,,,New Product/Feature,,YX Connect,2018-08-06 17:25:39.604,"06/Aug/18 12:25 PM;bwinter;[~rjonakin], just curious, what pages were these changes made for this story?  I scanned the source code for ""geneticservices@transnetyx.com"" and could not find it on any page. Just wondering what pages I missed.","06/Aug/18 1:08 PM;bwinter;[~jcox], this ticket is very bare bones.  Not much description at all.  [~rjonakin] made the ticket as a placeholder for his branch for Colony changes.  However, I don't know what to test.  I spoke with Rus, and we found a few places, but I don't know all the places to look for.  Any ideas?","06/Aug/18 1:19 PM;jcox;[~bwinter], The only places I'm aware of in Colony that would need to be updated for this rebranding are already enumerated in the description you've edited a few minutes ago.","06/Aug/18 1:40 PM;bwinter;Roger that.  Thanks, [~jcox]!","06/Aug/18 4:26 PM;bwinter;[~rjonakin], I created a rework COMA-2678 on this ticket for the emails not having the changes. 

CC: [~jcox]","09/Aug/18 1:49 PM;rwilliams;[~jcox] [~bwinter] [~rjonakin] Do any of you have any issue with Russel (or whoever) just pulling this existing ticket (and branch) back down, fixing the couple things noted and recommitting without having the rework? I am still trying to figure out the benefit of the rework ticket. Our goal should be to make a ticket, get it into QA and then work with QA to complete the ticket completely so that it can be promoted to the next environment.","09/Aug/18 1:51 PM;jcox;[~rwilliams], [~bwinter], [~rjonakin], I have no problem whatsoever with that.  ","09/Aug/18 1:57 PM;bwinter;[~rwilliams], I am open to the idea.  Could you explain more why it would be beneficial in this case to break the current custom of using reworks?  And do we want to bypass it just for this ticket or for all future tickets?  The latter may need a broader conversation with other team members.","09/Aug/18 2:04 PM;rwilliams;[~bwinter] I don't understand what the use of a rework is. We already have the requirement is the original ticket. We already have a branch based on the original ticket. We have a ticket that we have committed to complete when we agreed to move it to QA. If QA finds that a developer missed a requirement or acceptance criteria, you simply notify the developer, he gets back on the existing branch, he fixes the known issue, puts the ticket back through the same process (and statuses) as before (peer review, etc.). The developer puts in another pull request that gets deployed to QA for QA to test again. I don't see a need or an advantage to having a whole additional ticket in this process. Those are my thoughts and perspectives on it. CCing [~jcox] and [~rjonakin] to see if they have any additional thoughts.","09/Aug/18 2:10 PM;bwinter;Roger that, [~rwilliams].  Perhaps, we should include [~admin] in the conversation.  [~admin] wants us to use reworks to organize what is working and not working in a given JIRA ticket.  I believe [~jmedlock] prefers them also.  SQA is here to serve you guys in whatever way you want us to communicate with you.

Perhaps, we should also finish the conversation in Teams, in email, or in-person.  Looking forward to it!","13/Aug/18 3:43 PM;rwilliams;[~rjonakin]  have you tested this in QA to see if the footers of the emails are updated? If so I will ask Bryan to test again.  
","13/Aug/18 3:47 PM;rjonakin;[~rwilliams]

Yes I tested it in QA. It's all good to go.","13/Aug/18 3:51 PM;rwilliams;[~bwinter]  Can you please retest this in QA. I believe it is only the email footers that failed. The fix was a data-base-only update that has been applied to QA and is ready.  
","14/Aug/18 11:39 AM;bwinter;[~rwilliams], Thank you!  TESTING PASSED.  I will update ticket status as soon as it is READY FOR QA.",,,,,,,,,,,,
Colony Registration - Enrollment Key Required,COMA-2665,29468,,Task,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,,admin,admin,25/Jul/18 3:50 PM,22/Aug/18 2:55 PM,04/Sep/18 1:25 PM,22/Aug/18 2:52 PM,,Unplanned,,,0,,,,,,,Fix the issue with Registration causing 403 and make Enrollment key required.,,,,;22/Aug/18 2:52 PM;admin;1200,,,,,,,,,0,1200,,,0,1200,,,,,COMA-2683,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,admin,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-22T16:18:37.940-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,,0|i00z3z:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable free control discount capability in colony,COMA-2663,29465,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jadhikari,jadhikari,25/Jul/18 9:15 AM,03/Aug/18 9:57 AM,04/Sep/18 1:25 PM,03/Aug/18 9:57 AM,,CM - Release 1.2,,,0,,,,,,,"* See ORMA-589 for how this ticket should be tested in Colony.  
* Ask [~jadhikari] if further clarification is needed.",,,,;25/Jul/18 10:04 AM;jadhikari;14400,;25/Jul/18 10:39 AM;rwilliams;300,;26/Jul/18 11:26 AM;jadhikari;7200,;26/Jul/18 2:12 PM;rwilliams;300,,,,,0,0,22200,"9,223,372,036,854,775,807%",0,0,22200,,,,,,,ORMA-418,,,,,,26/Jul/18 3:05 PM;qevans;ORMA-589 Testing.docx;https://transnetyx.atlassian.net/secure/attachment/27258/ORMA-589+Testing.docx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jadhikari,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2018-07-26T14:13:16.331-0500"",""stateCount"":2,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00z3b:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add OrderManagerStrainId to the Order Strain Linking snapshot data,COMA-2662,29464,,Bug,Production,COMA,Colony Manager,software,admin,,,1 Critical,Done,,rwilliams,rwilliams,24/Jul/18 4:18 PM,16/Aug/18 9:09 AM,04/Sep/18 1:25 PM,16/Aug/18 9:09 AM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened

# Complete a genotyping order > order status = ""NotReceived""
# ORMA > Mark order as ""Received""
# Colony > Re-link strain to a new strain in QO 
# Testing Harness > Mark order as ""In Progress""
# Go back to Orders List > view order
# YSOD thrown <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen

Because of changes in COMA-2490, I expected that changing strain linking to new QO strain after an order was submitted would not affect orders in progress and changes would only be applied to new orders.

h1. DEV Note

We are currently not saving to the Order, the OMStrainId that the Colony Strain is linked to in OM/QO. This is a problem if the user changes the link on a Colony Strain to a different OM/QO Strain while an order is being processed. The Results page used the OMStrainId that is currently associated with a strain instead of one from the snapshot. 

We must add the OrderManagerStrainId into one of the Order tables (OrderStrains maybe??) at the same time that we are saving the linked probe data. Chris says be warned that the OrderStrains table gets regenerated frequently, so make sure whatever we do that if we use that table that it always has the linked value in it after regen. 

Also, need to update the Order and Results portion of the code so that it uses the snapshot OM StrainId instead of the one on the Colony Strain table. The precise place in code for this change is line 224 in the OrdersResultsViewModel class. Change from ""strain.OrderManagerStrainId.Value"" to the snapshot version. 

Note: The strain linking snapshot code is in the OrderManager.InitializeStrainMasterProbes(). I think it is during calls to this method that we need to save the OMStrainId as well.",,,,;02/Aug/18 11:01 AM;rwilliams;57600,;03/Aug/18 9:44 AM;admin;300,;14/Aug/18 11:07 AM;bwinter;14400,;16/Aug/18 9:01 AM;rwilliams;300,;16/Aug/18 9:09 AM;jcox;300,,,,,0,72900,,,0,72900,,,,,,,,,,,,,14/Aug/18 11:07 AM;bwinter;PASSED - Changing strain link while order for that strain is in mid-process does not affect that order - 2018-08-13 15_52_39-Automated Genotyping.png;https://transnetyx.atlassian.net/secure/attachment/27352/PASSED+-+Changing+strain+link+while+order+for+that+strain+is+in+mid-process+does+not+affect+that+order+-+2018-08-13+15_52_39-Automated+Genotyping.png,14/Aug/18 11:11 AM;bwinter;PASSED - Order in Incomplete status are updated with new probes from newly linked QO strain as expected - 2018-08-14 11_09_38-.png;https://transnetyx.atlassian.net/secure/attachment/27353/PASSED+-+Order+in+Incomplete+status+are+updated+with+new+probes+from+newly+linked+QO+strain+as+expected+-+2018-08-14+11_09_38-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rwilliams,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-03T11:23:58.073-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00rgi:v,,,,,,New Product/Feature,,YX Connect,2018-08-13 21:20:33.824,"13/Aug/18 4:20 PM;bwinter;[~rwilliams], I added a ""what happened"" to the description of this ticket.  Can you double-check it and let me know if what I wrote is correct?","13/Aug/18 4:24 PM;rwilliams;[~bwinter]  I think that’s right but I’m not familiar with all of the statuses and what changes each.  
","13/Aug/18 4:29 PM;bwinter;[~rwilliams], Roger that.  Previously, was a YSOD being thown?  I am not sure what the user saw to realize there was a problem.  Also, do we know when the problem occurred?  Like at what stage in the order progression below?

Order Status Progression: 

Start order and save > *Incomplete*
Click next on saved order and submit > *NotReceived*
Shipping receives order > *Received*
Order in progress > *InProgress*
Order completed and results available > *Completed*
Ordered reviewed and genotypes assigned > *GenotypesAssigned*","13/Aug/18 4:33 PM;rwilliams;[~bwinter]  It was after results were available. The user was attempting to open the results page to apply genotypes. The application was throwing an exception however in production they saw a friendly error page.  
","13/Aug/18 4:36 PM;rwilliams;[~bwinter]  you can try this in staging or production to reproduce  
","14/Aug/18 9:30 AM;bwinter;[~rwilliams], Unfortunately, as far as I know, there is no testing harness to reproduce these results in STAGING or PROD.  Perhaps, I am blanking on another way to test this though.","14/Aug/18 9:32 AM;rwilliams;[~bwinter]  I was talking about reproducing the error, but you are right, that may be difficult to do because of all of the dependencies.  
",,,,,,,,,,,,,,,,,,,
Change error message in Mice Import when Mouse ID is already in use by another mouse,COMA-2658,29457,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,23/Jul/18 3:23 PM,16/Aug/18 9:01 AM,04/Sep/18 1:25 PM,16/Aug/18 9:01 AM,,CM - Release 1.2,,,0,mice_import,,,,,,"_As a user importing mice, I want the error message for ""Mouse already exists"" to say ""Mouse record already created on YYYY-MM-DD hh:mm:ss."" so that I am not confused by the error message._

+Acceptance Criteria+:

* When importing mice with Mouse ID already used in Colony or during import, display this error message: ""Mouse ID must be unique.  Mouse with mouse ID [MOUSE ID] was already in created on YYYY-MM-DD hh:mm:ss.""",,,,;01/Aug/18 2:12 PM;rwilliams;18000,;03/Aug/18 9:47 AM;admin;300,;08/Aug/18 2:23 PM;bwinter;1200,;16/Aug/18 9:01 AM;rwilliams;300,;16/Aug/18 9:01 AM;rwilliams;300,,,,,0,20100,,,0,20100,,,,,,,,,,,,,08/Aug/18 2:23 PM;bwinter;PASSED - Text changed for duplicate mouse name - 2018-08-08 14_20_02-.png;https://transnetyx.atlassian.net/secure/attachment/27329/PASSED+-+Text+changed+for+duplicate+mouse+name+-+2018-08-08+14_20_02-.png,08/Aug/18 2:24 PM;bwinter;Test Data and Results - COMA-2658.xlsx;https://transnetyx.atlassian.net/secure/attachment/27330/Test+Data+and+Results+-+COMA-2658.xlsx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rwilliams,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-03T11:23:41.341-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,COMA-2656,,,,,,,,,,,None,,,admin,,,Unassigned,cleduc,bwinter,0|i00rgi:r,,,,,,New Product/Feature,,YX Connect,,"23/Jul/18 3:24 PM;bwinter;[~rwilliams], [~cleduc] here is the story about changing the error message for duplicate mice IDs.  Feel free to edit the error message that I suggested in the description.",,,,,,,,,,,,,,,,,,,,,,,,,
"Allow Mice Import to download XLSX template, upload data via XLSX file, and view logs of imported files",COMA-2651,29448,,Story,In Testing,COMA,Colony Manager,software,admin,,,3 Standard,,wwyatt,bwinter,bwinter,23/Jul/18 10:40 AM,30/Aug/18 10:15 AM,04/Sep/18 1:25 PM,,,CM - Release 1.2,,,0,,,,,,,"*Download XLSX*: _As a user importing mice data into Colony, I want to download an XLSX import template so that I know what data I need to put in which columns._

*Upload XLSX*: _As a user importing mice data into Colony, I want to upload my XLSX file of colony data built from the downloaded XLSX template so that I can upload more data (Megabytes more) beyond the current UI._

*Log*: _As a user importing mice data into Colony, I want to be able to see what I have uploaded previously and if any uploads are in progress so that I can know if I have uploaded some data set or not and so that I can check on the progress of big uploads that may take a long time to process._

+Acceptance Criteria+:

* When user accesses mouse import page, new UI elements allow user to 
** download XLSX template
** upload data to import
** view logs of past uploads
* When user accesses mouse import page, they are presented with simple instructions on how to use the page; the download XLSX will contain more detailed instructions.
* When a user downloads the XLSX template, the XLSX workbook contains
** _Data_ worksheet giving all the column header names
** _Strains_ worksheet with a grid of all the *GROUP*'s 
*** strain names
*** gene names
*** mutation names
*** translated result
*** system generated genoytpe
*** shorthand
*** any other data useful for adding genotypes.
** _Instructions_ worksheet with more details on how to use the download XLSX 
*** What is expected to be on the _Data_ worksheet?
*** How to use the _Strains_ worksheet?
*** Any other instructions needed to successfully upload colony data
* When the user uploads a XLSX with colony data, 
** a background task processes the imported data.
** the XLSX is saved to the DB with metadata
*** number of mice attempted to import
*** number of mice successfully imported 
*** number of mice failed to import
*** number of mice already existing in Colony at time of upload
* When the user view logs of imported files,
** Display imported files in progress
** Display list/grid of previous imported files with link to download file, date of import, and any other relevant data
* When the user clicks link of imported file in the log, then the downloaded file contains results (success, errors) of upload that can be modified (if needed) and uploaded again

h1. Discussion

h2. Questions about Scope

* Is there a file size limit for the upload?
** +There are limits on the server regarding request size, so yes there are limits, We can actually set the limits.+
* Can a file be big enough to takes days to finish processing?
** +I suppose that anything is possible, however, this is very unlikely. We can do some trials once we have some of this worked out, but I would bet this would be able to process 1000 mice a minute or better.+
* What are the expectations if the import fails, say, half-way through the import?  
** Are the mice partially imported or does the process need to start over?
*** +Yes. The import saves as it goes at this point in its life. If any mouse was successfully imported before the failure then it will be in the database.+
** What is the expectation on the customer?  
*** Do they just upload again?
**** +Colony should log the error to the database and hopefully the user will contact support, so between those two maybe we can find and fix the issue. I suppose that they can try again and if it succeeds then GREAT, but if not, then hopefully they will contact customer service.+
*** If so, will some already be in the system?  
**** +Yes, just as I mentioned earlier.+
*** If so, how will they know which are uploaded and which are not?
**** +They can look at the mouse list for starters. Also, once the mouse import is successful they will be able to download the results of the import in the excel spreadsheet they originally uploaded; it will show which mice imported successfully.+
*** Will we provide a file?
**** +If the Import has a catastrophic failure during processing there will be no file because the process didn't end successfully. The general expectation for the whole site as well as the import is that this will run successfully all of the time and when we see failures in the error log we try and address them. We can specify and code some additional requirements to try and handle this in the best way possible, it just comes down to cost versus benefit.+
* Where will these uploaded files be stored?
** +I don't know what your concern is with this question, but we have already discussed the technical architecture and have decided to store our copy of the files into the database. They will be much easier to keep track of and maintain there.+
* For how long will uploaded files be stored?
** +Good question. This could be decided now or later once we see how much traffic this feature gets.+
* Will the user receive any other notification?
** +Good question. We just need specifications on this. As you know, the existing test UI version doesn't send out any emails, so if we want this version of the UI to send out emails then we need to specify that. Again, we can add that as an additional feature at any time. The user should be able to come back to the site and see what has been uploaded at any time.+",,,,;20/Aug/18 8:46 AM;rwilliams;432000,;20/Aug/18 10:18 AM;admin;600,;29/Aug/18 7:36 AM;rwilliams;57600,,,,,,0,0,490200,"9,223,372,036,854,775,807%",0,0,497400,,,,,,,,,,,,,30/Aug/18 10:14 AM;bwinter;Genotypes for numerous strains in a Group - ImportTemplate-8_30_2018.xlsx;https://transnetyx.atlassian.net/secure/attachment/27534/Genotypes+for+numerous+strains+in+a+Group+-+ImportTemplate-8_30_2018.xlsx,30/Aug/18 9:52 AM;bwinter;PASSED - Download button downloads a XLSX file - 2018-08-30 09_51_46-.png;https://transnetyx.atlassian.net/secure/attachment/27529/PASSED+-+Download+button+downloads+a+XLSX+file+-+2018-08-30+09_51_46-.png,30/Aug/18 9:59 AM;bwinter;PASSED - Download gives more instructions on how to use XLSX file for upload using XLSX cell comments - 2018-08-30 09_54_12-.png;https://transnetyx.atlassian.net/secure/attachment/27531/PASSED+-+Download+gives+more+instructions+on+how+to+use+XLSX+file+for+upload+using+XLSX+cell+comments+-+2018-08-30+09_54_12-.png,30/Aug/18 10:00 AM;bwinter;PASSED - Downloadable XLSX file - ImportTemplate-8_30_2018.xlsx;https://transnetyx.atlassian.net/secure/attachment/27532/PASSED+-+Downloadable+XLSX+file+-+ImportTemplate-8_30_2018.xlsx,"30/Aug/18 9:59 AM;bwinter;PASSED - Downloaded XLSX file has a strains worksheet with grid of all the GROUPs strains with corresponding genes, mutations, and genotypes - 2018-08-30 09_57_08-.png;https://transnetyx.atlassian.net/secure/attachment/27530/PASSED+-+Downloaded+XLSX+file+has+a+strains+worksheet+with+grid+of+all+the+GROUPs+strains+with+corresponding+genes%2C+mutations%2C+and+genotypes+-+2018-08-30+09_57_08-.png","30/Aug/18 9:49 AM;bwinter;PASSED - New UI to download, upload, and view logs - 2018-08-30 09_47_09-.png;https://transnetyx.atlassian.net/secure/attachment/27527/PASSED+-+New+UI+to+download%2C+upload%2C+and+view+logs+-+2018-08-30+09_47_09-.png",30/Aug/18 9:51 AM;bwinter;PASSED - Simple instructions about how to use the new mouse import page - 2018-08-30 09_49_23-.png;https://transnetyx.atlassian.net/secure/attachment/27528/PASSED+-+Simple+instructions+about+how+to+use+the+new+mouse+import+page+-+2018-08-30+09_49_23-.png,31/Jul/18 10:12 AM;rwilliams;Potential UI.png;https://transnetyx.atlassian.net/secure/attachment/27268/Potential+UI.png,23/Aug/18 12:15 PM;bwinter;REWORK - Download Template throws YSOD - 2018-08-23 10_06_32-.png;https://transnetyx.atlassian.net/secure/attachment/27444/REWORK+-+Download+Template+throws+YSOD+-+2018-08-23+10_06_32-.png,23/Aug/18 12:15 PM;bwinter;REWORK - Upload File throws YSOD - 2018-08-23 10_41_43-.png;https://transnetyx.atlassian.net/secure/attachment/27443/REWORK+-+Upload+File+throws+YSOD+-+2018-08-23+10_41_43-.png,23/Jul/18 10:39 AM;bwinter;UI-sketch - 2018-07-23 10_38_27-Window.png;https://transnetyx.atlassian.net/secure/attachment/27198/UI-sketch+-+2018-07-23+10_38_27-Window.png,30/Aug/18 10:11 AM;bwinter;Wow-so-cool - 2018-08-30 10_09_16-.png;https://transnetyx.atlassian.net/secure/attachment/27533/Wow-so-cool+-+2018-08-30+10_09_16-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rwilliams,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=6}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":6,""lastUpdated"":""2018-09-04T08:49:14.396-0500"",""stateCount"":6,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":6,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,COMA-2656,,,,,,,,,,,None,,,admin,,,Unassigned,cleduc,bwinter,0|i00yzj:,,,,,,New Product/Feature,,YX Connect,2018-08-24 12:45:32.491,"23/Jul/18 10:43 AM;bwinter;[~rwilliams], [~cleduc], here is the story for letting mouse import use XLSX for uploading colony data.

Take a look and see if I add to the scope of it.  I tried not to.  I did add that the log of uploaded files also show files in progress.  If we could pull this off, then the user could navigate away from the page and have a way to check in with progress.

[~tpatterson], this is the ticket you and [~rwilliams] discussed about needing mock-ups for downloading/uploading XLSX for mice import and for viewing logs of imported files.","24/Aug/18 7:45 AM;rwilliams;[~bwinter] I believe that I fixed the TimeZone issue if you want to test that again. Also, I was talking to Russell yesterday about ideas to increase performance of the mouse import. He had a couple good suggestions, that, if I find a couple hours, I would really like to implement to see what kind of difference it might make.","29/Aug/18 12:56 PM;bwinter;[~wwyatt], you may find this group help for testing [~rwilliams]'s import.

*Group:* ""COMA-2595 - SysGenTranslatedResult""
*Enrollment Key:* 4TSBBF2","30/Aug/18 10:14 AM;bwinter;I think users are going to LOVE-LOVE the fact that they can pull their genotypes down in XLSX!!!  What a sweet piece of code, [~rwilliams]!  It is so slick and impressive!!!  I think this will be one of those features that people use even if they are not trying to upload their mice!

[~cleduc], [~apacio], [~jmedlock], [~nnowak] have you seen this?!  It is really, really freaking awesome what [~rwilliams] built here!  The second sheet in the download below gives a list of all the possible genotypes for a group!  I could see this being SUPER helpful to a researcher!

*Screenshot*

 !Wow-so-cool - 2018-08-30 10_09_16-.png|thumbnail! 

*XLSX download of all my genotypes*
_First sheet is template for upload_
_Second sheet is list of all my genotypes_

 [^Genotypes for numerous strains in a Group - ImportTemplate-8_30_2018.xlsx] 
",,,,,,,,,,,,,,,,,,,,,,
YSOD when creating a breeding from the Mice List,COMA-2650,29441,,Bug,Production,COMA,Colony Manager,software,admin,,,HotFix,Done,,bwinter,bwinter,19/Jul/18 3:11 PM,03/Aug/18 9:57 AM,04/Sep/18 1:25 PM,03/Aug/18 9:57 AM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened

# Go to Mice List
# Click on 2 or more mice to add to a breeding
# Select Create Breeding button (heart in the blue action tray)
# Colony throws YSOD <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen

I expected Colony to take me to the Breeding Wizard instead of throwing YSOD.",,,,;20/Jul/18 9:16 AM;jjensen;7200,;25/Jul/18 10:40 AM;rwilliams;300,;25/Jul/18 4:14 PM;bwinter;600,,,,,,,0,8100,,,0,8100,,,,,,,,,,,,,19/Jul/18 3:11 PM;bwinter;BUG - STEP BEFORE YSOD - Mice List - select mice - click Setup Breeding - 2018-07-19 15_09_04-.png;https://transnetyx.atlassian.net/secure/attachment/27183/BUG+-+STEP+BEFORE+YSOD+-+Mice+List+-+select+mice+-+click+Setup+Breeding+-+2018-07-19+15_09_04-.png,19/Jul/18 3:06 PM;bwinter;BUG - YSOD when creating a breeding from the mice list - 2018-07-19 15_05_24-.png;https://transnetyx.atlassian.net/secure/attachment/27185/BUG+-+YSOD+when+creating+a+breeding+from+the+mice+list+-+2018-07-19+15_05_24-.png,19/Jul/18 4:52 PM;bwinter;Bug on PROD - Add Breeding throws 500 error - 2018-07-19 16_50_41-.png;https://transnetyx.atlassian.net/secure/attachment/27186/Bug+on+PROD+-+Add+Breeding+throws+500+error+-+2018-07-19+16_50_41-.png,25/Jul/18 4:14 PM;bwinter;PASSED - No more YSOD when creating breeding from Mice List - 2018-07-25 16_12_30-.png;https://transnetyx.atlassian.net/secure/attachment/27240/PASSED+-+No+more+YSOD+when+creating+breeding+from+Mice+List+-+2018-07-25+16_12_30-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bwinter,jcox,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-25T10:40:26.592-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,,bwinter,0|i00yxz:,,,,,,New Product/Feature,,YX Connect,,"19/Jul/18 3:12 PM;bwinter;[~jmedlock] here is the bug ticket for that hotfix needed in PROD.

CC: [~jcox], [~admin]","19/Jul/18 5:08 PM;bwinter;[~jmedlock], [~jcox], [~admin], [~cleduc]

[~jjensen] messaged me that the bug in COMA-2642 will fix this bug.  I placed the IS FIXED BY link on this ticket.

[~jjensen], when your ticket is READY FOR QA, would you mind moving this one also?  Then I can test and pass them at the same time.",,,,,,,,,,,,,,,,,,,,,,,,
Mice List export-to-XLSX feature inserts 0s into mouse IDs,COMA-2647,29437,,Bug,Production,COMA,Colony Manager,software,admin,,,HotFix,Done,,jmedlock,jmedlock,19/Jul/18 8:17 AM,20/Aug/18 8:31 AM,04/Sep/18 1:25 PM,20/Aug/18 8:31 AM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened

# Go to Mice List
# Notice mouse IDs
# Export Mice List to XLSX (see attached XLSX)
## PDF Export works as expected (compare attached PDF with XLSX)
# Mouse IDs in XLSX have 0s inserted to the name <- {color:#d04437}UNEXPECTED{color}
## e.g., ""Breeder1"" shows on Mice List and  ""Breeder00000000000000000000000000000001"" shows in XLSX

h1. What I expected to happen

I expected to see the Mouse ID to be the same in Mice List on Web and in exported XLSX Mice List.",all,,,;03/Aug/18 4:22 PM;jjensen;144000,;15/Aug/18 6:06 PM;rwilliams;300,;17/Aug/18 1:09 PM;bwinter;10800,;20/Aug/18 8:31 AM;jcox;3600,,,,,,0,158700,,,0,158700,,,,,COMA-2589,,,,,,,,17/Aug/18 9:45 AM;bwinter;BUG - YSOD thrown after clearing all filters then exporting to XLSX - 2018-08-16 09_03_19-.png;https://transnetyx.atlassian.net/secure/attachment/27421/BUG+-+YSOD+thrown+after+clearing+all+filters+then+exporting+to+XLSX+-+2018-08-16+09_03_19-.png,19/Jul/18 9:04 AM;bwinter;Mice-7-19-2018-13-33-47.pdf;https://transnetyx.atlassian.net/secure/attachment/27177/Mice-7-19-2018-13-33-47.pdf,19/Jul/18 9:04 AM;bwinter;Mice-7-19-2018-13-33-47.xlsx;https://transnetyx.atlassian.net/secure/attachment/27178/Mice-7-19-2018-13-33-47.xlsx,17/Aug/18 11:20 AM;bwinter;PASSED - Add status column - filter on status - export - Mice-8-17-2018-11-17-46.xlsx;https://transnetyx.atlassian.net/secure/attachment/27425/PASSED+-+Add+status+column+-+filter+on+status+-+export+-+Mice-8-17-2018-11-17-46.xlsx,16/Aug/18 1:11 PM;bwinter;PASSED - Can Export all columns and all mice to XLSX - Mice-8-16-2018-13-4-17.xlsx;https://transnetyx.atlassian.net/secure/attachment/27409/PASSED+-+Can+Export+all+columns+and+all+mice+to+XLSX+-+Mice-8-16-2018-13-4-17.xlsx,17/Aug/18 11:20 AM;bwinter;PASSED - Clear all filters - export - Mice-8-17-2018-11-15-16.xlsx;https://transnetyx.atlassian.net/secure/attachment/27426/PASSED+-+Clear+all+filters+-+export+-+Mice-8-17-2018-11-15-16.xlsx,16/Aug/18 1:03 PM;bwinter;PASSED - Mice IDs no longer have 0s inserted into mice names on exported XLSX - 2018-08-16 13_02_02-.png;https://transnetyx.atlassian.net/secure/attachment/27408/PASSED+-+Mice+IDs+no+longer+have+0s+inserted+into+mice+names+on+exported+XLSX+-+2018-08-16+13_02_02-.png,16/Aug/18 12:59 PM;bwinter;PASSED - No more 0s inserted - Mice-8-16-2018-12-58-56.xlsx;https://transnetyx.atlassian.net/secure/attachment/27407/PASSED+-+No+more+0s+inserted+-+Mice-8-16-2018-12-58-56.xlsx,17/Aug/18 11:16 AM;bwinter;PASSED - can export XLSX after clicking clear all filters - 2018-08-17 11_15_17-.png;https://transnetyx.atlassian.net/secure/attachment/27424/PASSED+-+can+export+XLSX+after+clicking+clear+all+filters+-+2018-08-17+11_15_17-.png,16/Aug/18 1:11 PM;bwinter;PASSED - can export all mice with all columns from mice list - 2018-08-16 13_09_19-.png;https://transnetyx.atlassian.net/secure/attachment/27410/PASSED+-+can+export+all+mice+with+all+columns+from+mice+list+-+2018-08-16+13_09_19-.png,17/Aug/18 11:09 AM;bwinter;PASSED - can search on mice and exported found list to XLSX - 2018-08-17 11_07_53-.png;https://transnetyx.atlassian.net/secure/attachment/27423/PASSED+-+can+search+on+mice+and+exported+found+list+to+XLSX+-+2018-08-17+11_07_53-.png,17/Aug/18 9:45 AM;bwinter;YSOD thrown after adding Status column and filtering on status = alive or dead - 2018-08-16 14_17_16-.png;https://transnetyx.atlassian.net/secure/attachment/27422/YSOD+thrown+after+adding+Status+column+and+filtering+on+status+%3D+alive+or+dead+-+2018-08-16+14_17_16-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jjensen,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-30T11:23:31.009-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,,bwinter,0|i00rgg:,,,,,,New Product/Feature,,YX Connect,2018-07-19 14:57:12.223,"19/Jul/18 9:57 AM;jjensen;When the Excel Export is executed, a JavaScript function is called (the click event) and the saveAsExcel() function of the KendoGrid control is then called.  According to documentation, this function pulls the bound data from the grid.  

The problem with this is that the mouse name column, conveniently titled ""Mouse ID"", is bound to the MouseSortName field but displays the MouseName field.

This is important because the bound field is the calculated field which facilitates the proper sorting needed by the grid.  It displays the MouseName field because the MouseName field is what the user uses to identify mice.  So, when the export runs, it pulls the modified name data into the spreadsheet instead of pulling the displayed information.

The KendoGrid documentation explains how to export the viewed data, instead of the bound data here:  https://docs.telerik.com/kendo-ui/controls/data-management/grid/how-to/excel/column-template-export

Edit:
Better link to code with real example: https://github.com/telerik/ui-for-aspnet-mvc-examples/blob/master/grid/column-template-excel/KendoUIMVC5/Views/Home/Index.cshtml

","20/Jul/18 1:31 PM;jjensen;h1. Summary
After a couple of discussions on the subject, and a lot of research, we have discovered that Telerik has not put custom sorting functionality into the Kendo grid extension.  There are two possible directions here:
# Remove the sorting and the export will return to normal
# Rewrite the export

h1.Developer Notes
Rewriting the export is possible if we can determine how the grid is sorting, what columns are visible, and how the data is grouped.  Grouping might be hard-coded as ""by Strain"", which would ease things a bit.  The visible columns can be tracked by spinning through the columns and determining which are not hidden.  It also provides a column ordering.  The sorting can also be gleaned from the grid object, and all of this data can be passed back to the server in parameters via ajax.  The only issue is how we get a server-generated file back out to the client and saved as an Excel file.

h2.Sample Code

{code:java}
    // The grid
    var grid = $(""#MouseGrid"").data(""kendoGrid"");
    // Get the columns shown and in order
    var visibleColumns = new Array();
        for (var idcol = 0; idcol < grid.columns.length; idcol++) {
            if (typeof grid.columns[idcol].hidden === 'undefined') {
                visibleColumns.push(grid.columns[idcol].field);
            }
        }
    // Determine the sort criteria
    var sortCriteria = grid.dataSource._sort();
{code}

h3.Code for Sending File Back to Client
{code:java}
        /// <summary>
        /// Safely directs the thread to finish, bypassing additional processing, and flushes the file out to the browser.
        /// </summary>
        /// <param name=""fileContent"">string contents of the file</param>
        /// <param name=""fileName"">Name of the file</param>
        /// <param name=""contentType"">Content type to use for the Content-Disposition header.</param>
        public static void SendFileToBrowser(string fileContent, string fileName, string contentType)
        {
            System.Web.HttpResponse response = System.Web.HttpContext.Current.Response;

            //Add headers for file and file contentType.
            response.ContentType = contentType;
            response.AddHeader(""Content-Disposition"", $""attachment;filename={fileName}"");
            response.AddHeader(""Pragma"", ""no-cache"");
            response.AddHeader(""Cache-Control"", ""no-cache"");

            //Write the data as binary from a unicode string
            response.BinaryWrite(System.Text.Encoding.Unicode.GetBytes(fileContent));

            //Sends the response buffer
            response.Flush();

            //Prevents any other content from being sent to the browser
            response.SuppressContent = true;

            //Directs the thread to finish, bypassing additional processing
            System.Web.HttpContext.Current.ApplicationInstance.CompleteRequest();
        }
{code}
","31/Jul/18 3:06 PM;bwinter;[~jjensen] I added a ""fixes"" COMA-2589 link to this ticket.  COMA-2589 is about genotype filtering.  

[~cleduc], [~jjensen], were there any other JIRA tickets that are fixed by Jamie's changes?

CC: [~jcox]
","31/Jul/18 4:00 PM;jcox;[~bwinter], [~jjensen], [~cleduc], COMA-2589 was the only one that Carrie and I noticed.  It was in Unplanned so we moved it into 1.2 this afternoon.","03/Aug/18 4:29 PM;jjensen;[~bwinter], I have pushed this to Review and have created a pull request.  However, I am not sure what to do with the linked item COMA-2589.  Any suggestions?","06/Aug/18 8:04 AM;bwinter;[~jjensen], leave the linked item as is.  COMA-2589 sort of gets pulled along with this ticket.  During the next push to QA, I will test both tickets.  If COMA-2589 doesn't pass for some reason, we will just put it back to UNPLANNED.  But if it passes, then we get it ""off the books""!  

This is more or less for ""bookkeeping"" thing in JIRA.  ",14/Aug/18 11:54 AM;cleduc;[~bwinter] [~jcox] Do we know roughly when we can push to production on this ticket?,"14/Aug/18 12:57 PM;bwinter;[~cleduc], I am the bottle neck.  [~rwilliams] mentioned to me late last week that this ticket is ready for QA.  I think we can start testing it this week.  I will have better update tomorrow during Stand-up.  This is on my radar now though.

CC: [~jcox], [~jmedlock], [~wwyatt]","14/Aug/18 1:03 PM;jcox;[~rwilliams], Could you move this through the statuses to show that it's ready for QA?  I think it may also ask for your time spent.

cc: [~bwinter], [~cleduc]","14/Aug/18 1:15 PM;rwilliams;[~jcox] [~bwinter] [~cleduc] This ticket is not in QA yet. It is ready to be moved into QA, but it didn't make it in the last round and I assumed it would go with the next batch of tickets after the current batch is tested and deployed to Staging and Production. If you want it merged in with the current batch, let me know, but it will add to the testing time and will thus further delay the current batch.","14/Aug/18 3:18 PM;cleduc;[~rwilliams][~jcox][~bwinter] We've had several customers report in to customer service now about this so we really need it fast - as a fix to a bug. But, I get that it ended up attached to the whole cage view business. If we can do it ahead of something else, great, if not, not. An estimate would be very valuable though.  ","14/Aug/18 8:23 PM;rwilliams;[~cleduc] [~bwinter] [~jcox] Carrie, I think you make the call on what to do, but understand that we currently have a set of tickets in QA that are still in the process of being tested. If we add this ticket to the current batch it will add to the testing that will need to be completed before we can move this batch to production. You should probably talk to Bryan about the time required for testing. We could consider a hot fix of this ticket and leap frog the current batch of tickets in QA, however, this ticket will still need to get tested AND since we are so close to having the current batch of tickets tested and ready to move forward, it probably makes more sense to go ahead and include this ticket to the current batch and delay it a little for the additional testing. That's my $0.02.","15/Aug/18 8:24 AM;cleduc;Thanks [~rwilliams] - That's find to put it next in line. [~bwinter] and [~jcox] can we roughly estimate timeline on the tickets in process now and then this ticket?
","15/Aug/18 8:27 AM;bwinter;[~cleduc] We sure can.  I just emailed you a timeline CC'ing [~rwilliams], [~jcox], and others.","15/Aug/18 8:31 AM;jcox;[~cleduc], We currently have 3 bugs and 1 story in the ""ready to release"" status as well as 1 more bug ticket in QA.  I intended to bring that up in today's standup by asking if this means a deployment can happen within the next day or so.  If that's the case, then I think we may have time to get this ticket QA'd as well by the end of week and possibly have another deployment ready for this weekend, but that's just a guess.

[~rwilliams], I agree with everything you wrote in your comment.  Adding this ticket to the current batch wouldn't guarantee that it would go into production sooner, but it would guarantee the current ""ready to release"" tickets would go in later.  What can we do to ensure this fix is deployed as soon as possible?

CC: [~bwinter]","15/Aug/18 8:34 AM;jcox;[~cleduc][~bwinter][~rwilliams], Please disregard previous comment... Bryan has proposed a plan via email...

Proposed Plan
1.	Bryan tests last ticket today (Aug 15)
2.	Rich or Chris push release to PROD (Aug 15 after 7 PM)
3.	Rich or Chris push Jamie’s bug fix to QA (Aug 15 after 7 PM)
4.	Bryan and Wes test fix tomorrow (Aug 16)
5.	Rich or Chris push fix to PROD (Aug 16 after 7 PM)
 
","15/Aug/18 11:38 AM;cleduc;[~jcox][~bwinter][~rwilliams] Thanks everyone, I just reviewed the tickets going out and since they are all bug fix or improvement tickets which I haven't had customer reports on so I will just combine those release notes with what I do when the export ticket goes out. -one less batch of notes. ","16/Aug/18 11:14 AM;jjensen;Error found during QA: NULL value causes code explosion when filters are cleared and the export is run.  Fixed by ensuring a simple truth value (""0=0"") was present for the WHERE clause.  Also discovered a nasty issue when selecting certain genotypes as filters--IIS would die most horribly as it complained about ""<sup>"" text in the genotype (superscripting), warning about universe-eroding security breaches and so forth.  So, I added a small decorator on the controller method to _ignore_ this warning.  'Nuff said.","17/Aug/18 9:16 AM;jjensen;[~bwinter] found another issue in QA:  Selecting a column to display, followed immediately by adding another item in the Status filter causes the auto-generated search filter to generate an empty SQL clause, generating an invalid sql statement error.  The act of adding a column causes the Kendo grid to generate a filter item which basically says ""find rows where FIELD contains SEARCHTEXT"" for each visible field.  Since the search text is blank, the condition will always match everything.  It's a CYA move on the part of the grid, but it causes odd syntax if left alone.  The code originally just blanked this out, and the initial testing did not reveal this problem, but Bryan found a very specific condition which did break it, so I just changed the empty return text from the GenerateSqlCondition method to the standard truth statement: ""0=0"".  Fixed.  FYI [~cleduc]","17/Aug/18 1:10 PM;bwinter;Great job, [~jjensen]!  Testing passed!  Thank you for writing this piece of code!  Our customers are going to be better for it!",,,,,,
Create a Sql Script to add a standard set of strains to a group in Colony QA,COMA-2646,29436,,Task,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,18/Jul/18 9:55 PM,23/Aug/18 11:58 AM,04/Sep/18 1:25 PM,22/Aug/18 7:07 PM,,CM - Release 1.2,,,0,,,,,,,"To-do:

* Create a query that inserts strain data into a group in Colony QA
* Use attached XLSX for strain details

Notes:

* SQA personnel will run this code in SQL Server on qa/qa Colony Manager DB.
* This script will need to insert Strains, Genes, StrainGenes, Alleles, StrainGeneAlleles, and finally GeneResults. 
",,,,;22/Aug/18 7:07 PM;rwilliams;86400,,,,,,,,,0,86400,,,0,86400,,,,,,,,,,,,,19/Jul/18 7:54 AM;bwinter;Colony - Strain Names.xlsx;https://transnetyx.atlassian.net/secure/attachment/27176/Colony+-+Strain+Names.xlsx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-24T08:31:47.180-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,bwinter,0|i00ywv:,,,,,,New Product/Feature,,YX Connect,2018-07-23 18:06:34.974,23/Jul/18 1:05 PM;bwinter;[~rwilliams] here is that task ticket for creating strains for a group.  I added a XLSX example of the strains I would want created (if it is helpful).  Do I need to add anything to this ticket?,"23/Jul/18 1:06 PM;rwilliams; [~bwinter] Cool! This will take a little more effort that the delete data script. When I have a little bit of time I can try and work through it and then I can make some suggestions... 
","27/Jul/18 12:37 AM;rwilliams;[~bwinter]  Would you mind setting up a new clean group with these Strains/Genes/Mutations on it. I think I can script the Insert of  the data in all of those tables.  
",27/Jul/18 8:26 AM;bwinter;[~rwilliams] Will do.  I have André already creating me a few.  Should be done by end of today.  I will message you when I get them back.,02/Aug/18 11:37 AM;rwilliams;[~bwinter] Did you ever get a group setup for this?,"02/Aug/18 11:39 AM;bwinter;[~rwilliams], No.  I won't hear back from André until this Friday (Aug 3).   If he can't deliver by end of next week, then I will complete it myself.","13/Aug/18 8:33 AM;bwinter;[~rwilliams], Sorry for the delay.  Here is a clean group with these Strains/Genes/Mutations.  

* Name: Test Group 1
* Key: NFCXCO2
* Group GUID: 1dc07e4e-60e1-467b-abc1-2f50a8d3e371","23/Aug/18 7:26 AM;rwilliams;[~bwinter] This is completed and because it is a database thing only it is already in QA, because as you know, that is where I was testing it with your test group. There is now a new proc called: Tech_CopyGroupAndStrainRelatedData. As I have done with the other procs that I have created I have documented the proc inside of the proc itself. Here is that documentation copied from the proc.

{code:sql}
-- =============================================
-- Author:		Rich Williams
-- Create date: 8/22/2018
-- Description:	Use this stored procedure to create a brand new group with Strain-related data based on an 
-- existing group. You will pass in an existing group's Id and an existing user's Id and this proc will
-- create a new group, add the passed in user as the leader of the group and add that user into the group. 
-- This proc will also copy all non-deleted strain related data from the existing group and set it up as part of
-- the newly created group. This proc can be useful for quickly duplicating a group and strain information
-- without bringing in the other data. Strain-related data includes strain, genes, alleles (mutations),
-- and gene results along with some other required data. The new group will not be tied to the existiing
-- group in any way, except that the strain-related data will be setup to be an exact copy of the other.

-- Parameters
--		@groupIdToCopy - specify the group id (guid) for the group you want to copy
--		@newGroupName - specify the name you want the new group to have
--		@newGroupLeaderUserId - specify the user id (guid) for the user you want to be the leader of the
--			group as well as to be the first member of the group

-- Example: EXEC dbo.Tech_CopyGroupAndStrainRelatedData '5b292026-9cc8-4943-913d-b52bc29dbd0f', 'Test Group Copy!', 'B65302E9-4815-4854-9BFB-47E1A7DB3930',
-- =============================================
{code}
","23/Aug/18 8:49 AM;bwinter;[~rwilliams] Perfect!  Thank you so much for creating this script!  [~cleduc], [~apacio], [~jcox], [~mbender], [~wwyatt], [~admin], and [~jmedlock] will all be interested to know that we can now add strains to a group automatically with this script instead of having to create them manually!   Great job, [~rwilliams]!","23/Aug/18 8:58 AM;rwilliams;[~cleduc] [~apacio] [~jcox] [~mbender] [~wwyatt] [~admin] [~jmedlock] [~bwinter] To be clear about the functionality of this new script (stored procedure), it will create a totally new group from scratch and will copy all of the existing Strains, Genes, Mutations, and GeneResults from an already existing group. This can be useful for quickly setting up a new empty group for demoing or for testing without having to go through the process of creating Strains, Genes, Mutations, and GeneResults. One additional note is that this script needs to be tested and validated.",23/Aug/18 11:58 AM;cleduc;[~rwilliams] this really helps us so much - THANK YOU,,,,,,,,,,,,,,,
Create a Sql Script to delete a group and all of its data in Colony QA,COMA-2645,29435,,Task,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,18/Jul/18 9:41 PM,06/Aug/18 12:14 PM,04/Sep/18 1:25 PM,29/Jul/18 4:14 PM,,Unplanned,,,0,,,,,,,"*To-do:*

* query all the data for a group in QA
* delete all the data for that group

*Notes*

* This query will be used to clean out test data on QA.
* SQA personnel will run it on SQL server when pointing at the qa/qa Colony Manager DB

*Access*

# Open Microsoft *SQL Server Management Studio* (SSMS)
# *Connect* to environment's database (e.g., qa\qa)
# Expand *Databases* in the Object Explorer
# Expand *ColonyManager*
# Expand *Programmability*
# Expand *Stored Procedures*
# Right-click on *dbo.Tech_DeleteGroupData*
# Left-click *Modify*
# Follow instructions in the script",,bwinter,,;29/Jul/18 4:14 PM;rwilliams;21600,,,,,,,,,0,21600,,,0,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2018-08-06T10:36:50.311-0500"",""stateCount"":2,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,bwinter,0|i00ywn:,,,,,,New Product/Feature,,YX Connect,2018-08-06 16:27:15.685,"06/Aug/18 10:08 AM;bwinter;[~rwilliams], can you attach the SQL script to this ticket?  Also would you mind adding some instructions (if any are needed) to the description?","06/Aug/18 11:27 AM;rwilliams;[~bwinter] The script is now part of source control and will eventually be deployed to each environment. Anyone can see the script if they have access to the database. Open SSMS, and then open up ColonyManager database in QA (or whatever environment) and then open ""Programmability"", then ""Stored Procedures"" and in the list you will see ""dbo.Tech_DeleteGroupData"". You can right click on the stored proc and then click on ""Modify"" to open a copy of the script. In the script you will find a description of the script as well as an example of how to actually execute the script. Here is the description information from the script as it is today:

{code:sql}
-- =============================================
-- Author:		Rich Williams
-- Create date: 7/29/2018
-- Description:	Use this stored procedure to either delete some or all of a Colony group's data 
-- or delete the whole group and all of its data. If you chose to not delete the group's strain related
-- data or the group's cage related data or to not delete the group and its users, then the script will 
-- leave the group and its existing users intact. Therefore, to delete the entire group, the group's 
-- users included, then you must pass a true (1) for all three parameters @deleteStrainRelatedData, 
-- @deleteCageRelatedData and @deleteGroupAndUsers

-- Parameters
--		@groupId - pass in the group id (guid) for the group you want to process for
--		@deleteStrainRelatedData - specify if you want to delete or leave intact the group's strain related data
--			- Strain related data = Strains, StrainGenes, Genes, StrainGeneAlleles, GeneResults
--			- pass in 1 if you want to delete Strain related data
--			- pass in 0 if you want to leave the Strain related intact
--		@deleteCageRelatedData - specify if you want to delete or leave intact the group's cage related data
--			- Cage related data = Cages, CageClaims, Racks and Rooms
--			- pass in 1 if you want to delete Cage related data
--			- pass in 0 if you want to leave the Cage related intact
--		@deleteGroupAndUsers bit - specify if you want to actually delete the group and its users
--			- pass in 1 if you want to actually delete the group and its users
--			- pass in 0 if you want to leave the group and its users intact
--		@actuallyDeleteTheData bit - specify if you want to do a test run of the delete or execute the delete 
--			- pass in 1 if you want to actually execute the delete
--			- pass in 0 if you want to do a test run of the delete

-- Example: EXEC dbo.Tech_DeleteGroupData '3af194fc-3502-40fc-8b61-2d5e5ab91f7e', 0, 0, 0, 0
-- Example: EXEC dbo.Tech_DeleteGroupData '10000000-1000-1000-1000-100000000000', 1, 0, 0, 0
-- =============================================
{code}

",06/Aug/18 12:09 PM;bwinter;Thank you [~rwilliams]!  This is better than what I asked for!,,,,,,,,,,,,,,,,,,,,,,,
Fix possible exception with missing key in list,COMA-2642,29430,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,18/Jul/18 11:30 AM,03/Aug/18 9:57 AM,04/Sep/18 1:25 PM,03/Aug/18 9:57 AM,,CM - Release 1.2,,,0,,,,,,,"h1. Problem

# Code was written to solve COMA-1889
# When pushed to production, IIS exception thrown concerning add/edit breeding <- {color:#d04437}UNEXPECTED{color}

h1. Notes

* [~jmedlock] emailed [~rwilliams] who emailed [~jjensen]. See COMA-2641 for details.
* This exception MAY POSSIBLY be related to COMA-1889
* This error cannot be replicated due to unknown execution parameters
* [~bwinter] is writing this as a bug since COMA-1889 is already in production

h1. Solution 

[~jjensen] will add exception handling code to POSSIBLY PREVENT this IIS exception.",,,,"FWIW, checked rest of cshtml code and did not find another list access statement (except in JavaScript, but who cares about that...?).  The code from COMA-1889 is most likely the culprit, but we still have not been able to reproduce the error.;18/Jul/18 1:24 PM;jjensen;3600",;25/Jul/18 10:40 AM;rwilliams;300,;25/Jul/18 4:15 PM;bwinter;60,,,,,,,0,3960,,,0,3960,,,,,COMA-2650,,,,,,,,25/Jul/18 4:14 PM;bwinter;PASSED - No more YSOD when creating breeding from Mice List - 2018-07-25 16_12_30-.png;https://transnetyx.atlassian.net/secure/attachment/27241/PASSED+-+No+more+YSOD+when+creating+breeding+from+Mice+List+-+2018-07-25+16_12_30-.png,20/Jul/18 11:29 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27189/image001.png,20/Jul/18 11:29 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27190/image003.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bwinter,jcox,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-25T10:40:26.592-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,,bwinter,0|i00yvj:,,,,,,New Product/Feature,,YX Connect,2018-07-18 18:24:56.927,"18/Jul/18 11:37 AM;bwinter;[~jmedlock], [~rwilliams], [~jjensen], this ticket along with *COMA-2641* address the IIS exception thrown on the server on Monday, July 16, 2018.  

* COMA-2641 outlines the exception thrown and has the email thread between [~jmedlock], [~rwilliams], and [~jjensen] attached
* COMA-2642 (THIS ticket) outlines a POSSIBLE solution for the IIS exception

This ISS exception in *COMA-2641*  cannot be replicated due to unknown execution parameters.
 
CC: [~jcox], [~cleduc]","18/Jul/18 1:24 PM;jjensen;FWIW, checked rest of cshtml code and did not find another list access statement (except in JavaScript, but who cares about that...?).  The code from COMA-1889 is most likely the culprit, but we still have not been able to reproduce the error.","20/Jul/18 9:15 AM;jjensen;[~bwinter], I just wanted to leave a comment here that I will move this along with COMA-2650 into READY FOR QA status after the peer reviewing is done.  This ticket and COMA-2650 really are the same thing.","20/Jul/18 10:00 AM;rwilliams;[~jjensen] [~bwinter] Jamie, another thing I would do in this case is to edit the Pull Request for COMA-2642 and add COMA-2650 into the description so that we know to add it to the release ticket.","20/Jul/18 11:29 AM;jjensen;Ok, so you already did that.  LOL


From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Rich Williams (Jira)
Sent: Friday, July 20, 2018 10:01 AM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] Rich Williams mentioned you on COMA-2642 (Jira)

[https://avatar-cdn.atlassian.com/cb7a312044a59011b27a6438a9ffbb09?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drwilliams%26avatarId%3D11400%26noRedirect%3Dtrue]

Rich Williams<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=rwilliams> mentioned you on [Bug] COMA-2642<https://transnetyx.atlassian.net/browse/COMA-2642>




Re: Fix possible exception with missing key in list<https://transnetyx.atlassian.net/browse/COMA-2642>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen> Bryan Winter<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=bwinter> Jamie, another thing I would do in this case is to edit the Pull Request for [https://transnetyx.atlassian.net/secure/viewavatar?size=xsmall&avatarId=12334&avatarType=issuetype] COMA-2642 <https://transnetyx.atlassian.net/browse/COMA-2642> Peer Review and add [https://transnetyx.atlassian.net/secure/viewavatar?size=xsmall&avatarId=12334&avatarType=issuetype] COMA-2650 <https://transnetyx.atlassian.net/browse/COMA-2650> Peer Review into the description so that we know to add it to the release ticket.


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2642#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2642#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","20/Jul/18 11:44 AM;bwinter;Thank you, [~jjensen] and [~rwilliams] , for keeping us organized and on track!",,,,,,,,,,,,,,,,,,,,
Investigate why add/edit breeding is throwing IIS exception ,COMA-2641,29429,,Task,Complete,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,18/Jul/18 11:16 AM,18/Jul/18 11:36 AM,04/Sep/18 1:25 PM,18/Jul/18 11:36 AM,,CM - Release 1.2,,,0,,,,,,,"h1. Tasks to do

# Investigate what is causing the exception below
# Notify [~bwinter] and [~rwilliams] of the issue
* [~bwinter] will create bug ticket (if needed)

h1. Exception

_From email correspondence between [~rwilliams] and [~jjensen] on morning of July 16, 2018._ 

[^RE Transnetyx Colony Error.msg] 

{color:#d04437}*_System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.*_{color}
Generated: Mon, 16 Jul 2018 13:20:06 GMT

{noformat} 
System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.
   at System.ThrowHelper.ThrowKeyNotFoundException()
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at ASP._Page_Views_Breeding_AddEditBreeding_cshtml.Execute()
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy()
   at System.Web.Mvc.WebViewPage.ExecutePageHierarchy()
   at System.Web.WebPages.StartPage.ExecutePageHierarchy()
   at System.Web.WebPages.WebPageBase.ExecutePageHierarchy(WebPageContext pageContext, TextWriter writer, WebPageRenderingBase startPage)
   at System.Web.Mvc.ViewResultBase.ExecuteResult(ControllerContext context)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultFilterRecursive(IList`1 filters, Int32 filterIndex, ResultExecutingContext preContext, ControllerContext controllerContext, ActionResult actionResult)
   at System.Web.Mvc.ControllerActionInvoker.InvokeActionResultWithFilters(ControllerContext controllerContext, IList`1 filters, ActionResult actionResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeAction(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.<BeginExecuteCore>b__1d(IAsyncResult asyncResult, ExecuteCoreState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.EndExecuteCore(IAsyncResult asyncResult)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.Controller.EndExecute(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.<BeginProcessRequest>b__5(IAsyncResult asyncResult, ProcessRequestState innerState)
   at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncVoid`1.CallEndDelegate(IAsyncResult asyncResult)
   at System.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult)
   at System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   at System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)_
{noformat}",,,,;18/Jul/18 11:36 AM;jjensen;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,COMA-2642,,,,,,18/Jul/18 11:11 AM;bwinter;RE Transnetyx Colony Error.msg;https://transnetyx.atlassian.net/secure/attachment/27171/RE+Transnetyx+Colony+Error.msg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,,{},,,,,,,,,,,,,,None,,,,,,Unassigned,cleduc,bwinter,0|i00yvb:,,,,,,New Product/Feature,,YX Connect,,18/Jul/18 11:17 AM;bwinter;[~jjensen] would you mind putting your time researching this code against this task ticket?  Then let's discuss what I need to put in as the REWORK.,,,,,,,,,,,,,,,,,,,,,,,,,
Fix Gene Mutation edit so that it marks old GeneResults as deleted,COMA-2640,29428,,Bug,Production,COMA,Colony Manager,software,admin,,,2 Important,Done,,rwilliams,rwilliams,18/Jul/18 8:29 AM,16/Aug/18 9:09 AM,04/Sep/18 1:25 PM,16/Aug/18 9:09 AM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened:

# Select a strain > go to strain dashboard
# Manually create a new mutation for that strain (do NOT create via MGI ID)
# Manually create a new gene
# Go to Gene Mutations List
# Select created mutation > Mutation 3-dot menu > Edit Gene Mutation
# Select another gene from the Gene drop-down
# Save
# Go back to strain dashboard
# Gene card is blank in Strain Dashboard <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

When I move a mutation from a gene, I expect the gene card to always show.

h1. DEV Note

I have found the bug, or maybe “feature” as it may be better called. I forgot that the system allowed a user to do this, but a Gene Mutation can be edited and in that edit they can change the Gene that a mutation is associated with it. The problem MUST be that it DOESN’T clean up the GeneResults that were associated with it PREVIOUS Gene. This is bad. It should at a minimum mark them as deleted so that we can treat them as such. I guess we need a bug ticket and some direction on priority to get this fixed. This is all of a sudden causing a problem because of the new code that I added to the GeneResult that allows it to calculate its own SysGenTranslatedResult and it own Shorthand name. That code picks up these GeneResults and looks up the Gene and Allele information for the GeneResult but if cannot find it in the system, and it is because it has been MOVED!! 

We need to look at Transgene scenarios and see if there are any implications with those as well.",,,,;27/Jul/18 10:37 AM;rwilliams;86400,;27/Jul/18 2:33 PM;rwilliams;300,;03/Aug/18 9:50 AM;admin;300,;15/Aug/18 5:37 PM;bwinter;7200,;16/Aug/18 9:02 AM;rwilliams;300,;16/Aug/18 9:09 AM;jcox;300,,,,0,94800,,,0,94800,,,,,,,,,,,,,15/Aug/18 5:11 PM;bwinter;BUG - Moving mutation from one gene to another causes Gene Card to go blank - 2018-08-15 17_07_19-.png;https://transnetyx.atlassian.net/secure/attachment/27379/BUG+-+Moving+mutation+from+one+gene+to+another+causes+Gene+Card+to+go+blank+-+2018-08-15+17_07_19-.png,19/Jul/18 5:16 PM;bwinter;Moving mutations across genes causes problems in gene cards - 2018-07-17.msg;https://transnetyx.atlassian.net/secure/attachment/27188/Moving+mutations+across+genes+causes+problems+in+gene+cards+-+2018-07-17.msg,15/Aug/18 5:51 PM;bwinter;PASSED - move transgene allele back to a transgene works as expected - must be a new transgene though - 2018-08-15 17_26_17-.png;https://transnetyx.atlassian.net/secure/attachment/27385/PASSED+-+move+transgene+allele+back+to+a+transgene+works+as+expected+-+must+be+a+new+transgene+though+-+2018-08-15+17_26_17-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving a mutation to a new gene updates the gene card for all strains with that mutation - 2018-08-15 17_34_49-.png;https://transnetyx.atlassian.net/secure/attachment/27386/PASSED+-+moving+a+mutation+to+a+new+gene+updates+the+gene+card+for+all+strains+with+that+mutation+-+2018-08-15+17_34_49-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving a transgene allele (why is this a thing) to a non-transgene is allowed - 2018-08-15 17_23_55-.png;https://transnetyx.atlassian.net/secure/attachment/27383/PASSED+-+moving+a+transgene+allele+%28why+is+this+a+thing%29+to+a+non-transgene+is+allowed+-+2018-08-15+17_23_55-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving multiple mutations to a gene works as expected - 2018-08-15 17_20_07-.png;https://transnetyx.atlassian.net/secure/attachment/27381/PASSED+-+moving+multiple+mutations+to+a+gene+works+as+expected+-+2018-08-15+17_20_07-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving mutation to a gene created from MGI search updates gene cards as expected - 2018-08-15 17_17_23-.png;https://transnetyx.atlassian.net/secure/attachment/27382/PASSED+-+moving+mutation+to+a+gene+created+from+MGI+search+updates+gene+cards+as+expected+-+2018-08-15+17_17_23-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving mutation to a manually created gene works as expected - 2018-08-15 17_28_19-.png;https://transnetyx.atlassian.net/secure/attachment/27384/PASSED+-+moving+mutation+to+a+manually+created+gene+works+as+expected+-+2018-08-15+17_28_19-.png,15/Aug/18 5:51 PM;bwinter;PASSED - moving strain from MGI created gene back to manually created gene works as expected - 2018-08-15 17_18_14-.png;https://transnetyx.atlassian.net/secure/attachment/27380/PASSED+-+moving+strain+from+MGI+created+gene+back+to+manually+created+gene+works+as+expected+-+2018-08-15+17_18_14-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-03T11:22:58.591-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00yv3:,,,,,,New Product/Feature,,YX Connect,2018-07-18 13:42:46.953,"18/Jul/18 8:31 AM;rwilliams;[~jcox]  I don’t know what the process is for new bugs but I created this ticket and I plan on working on it today. It automatically assigned it to you. Can you assign it to me once you do what you need to do with it? 
",18/Jul/18 8:42 AM;jcox;[~rwilliams] Since we don't groom/estimate Bug tickets I just move them straight to Backlog status.  Just did that and assigned back to you.,"18/Jul/18 8:45 AM;rwilliams;[~jcox]  Awesome. I assigned it to me when I created it, but when I saved it it automatically assigned it to you. I wasn’t sure what to do at that point. Thanks for the help. 
","19/Jul/18 5:13 PM;bwinter;For additional details, see comments of COMA-2636 for discussion between [~rwilliams] and [~cleduc] about the issue in this ticket.","27/Jul/18 10:44 AM;rwilliams;[~bwinter] This is the ticket for Edit Mutation. I ""Stopped Development"" on it, but I am considering myself done. Not sure how you want to test it and then how/when we want to move it into the deployment pipeline...",06/Aug/18 7:55 PM;rwilliams;[~bwinter] I didn't realize that the same Edit Mutation dialog popped up on the Strain Dashboard page as well as the Gene Mutation list page. I had no idea until tonight. We need to make sure that we test that dialog in both places to make sure that they both work the same way and without error. Just FYI.,,,,,,,,,,,,,,,,,,,,
GetGeneCardObjects throws 500 error,COMA-2636,29421,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,16/Jul/18 4:53 PM,19/Jul/18 5:11 PM,04/Sep/18 1:25 PM,17/Jul/18 8:41 PM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened:

# Go to _Sandbox_ (Enrollment Key: SANDBOX) group on QA
# Go to strains list
# Select _Bryan's Strain ¯\_(ツ)_/¯_ strain
# Scroll down to Gene cards
# Details for gene card for the _\ (•◡•) /_ gene shows but not the _pur1_ gene <- {color:#d04437}UNEXPECTED{color}
# GetGeneCardObjects throws 500 error <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

I expected to see gene details of both gene cards.",,,,;17/Jul/18 11:24 AM;rwilliams;10800,;17/Jul/18 12:45 PM;rwilliams;300,[~cleduc] tested this;17/Jul/18 8:40 PM;rwilliams;3600,;17/Jul/18 8:41 PM;rwilliams;300,;17/Jul/18 8:41 PM;rwilliams;300,,,,,0,15300,,,0,15300,,,,,,,COMA-2640,COMA-2613,,,,,16/Jul/18 4:48 PM;bwinter;BUG - GetGeneCardObjects throws 500 error - 2018-07-16 16_43_02-.png;https://transnetyx.atlassian.net/secure/attachment/27158/BUG+-+GetGeneCardObjects+throws+500+error+-+2018-07-16+16_43_02-.png,19/Jul/18 4:54 PM;bwinter;PASSED - pur1 shows all genotypes for Bryan's Strain on QA - Sandbox - 2018-07-19 16_53_33-.png;https://transnetyx.atlassian.net/secure/attachment/27187/PASSED+-+pur1+shows+all+genotypes+for+Bryan%27s+Strain+on+QA+-+Sandbox+-+2018-07-19+16_53_33-.png,16/Jul/18 4:48 PM;bwinter;YSOD Stack Trace Error for GetGeneCardObjects - 2018-07-16 16_46_38-.png;https://transnetyx.atlassian.net/secure/attachment/27159/YSOD+Stack+Trace+Error+for+GetGeneCardObjects+-+2018-07-16+16_46_38-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jcox,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-17T12:46:17.196-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,cleduc,0|i00ytj:,,,,,,New Product/Feature,,YX Connect,2018-07-17 21:07:38.473,17/Jul/18 4:07 PM;cleduc;[~rwilliams] the Pur1 gene still does not show for me in qa.transnetyx on my PC nor mac.,17/Jul/18 4:08 PM;rwilliams;[~cleduc] What environment are you looking in? And what group?,"17/Jul/18 4:10 PM;cleduc;[~rwilliams] qa.transnetyx.com, sandbox, on chrome on PC or Mac","17/Jul/18 8:37 PM;rwilliams;[~cleduc] This is a different issue that you have run into. This has to do with the feature that allows users to change the Gene that a Gene Mutation is associated with. Unfortunately it appears that this feature makes no attempt to clean up the already associated GeneResults when it moves the allele to the next Gene and that causes it to leave behind GeneResults that are associated with Alleles that are no longer associated with the Genes that the GeneResults belong to. Bad news, bad data!! I sent a email with more details, but I think we need another ticket for that issue and some priority to get that fixed.

cc: [~bwinter]",17/Jul/18 8:40 PM;rwilliams;[~cleduc] tested this,"17/Jul/18 9:54 PM;rwilliams;[~cleduc]  just wanted to add that this GeneCard should work now because I marked the bad generesults deleted.  
","19/Jul/18 4:55 PM;bwinter;[~rwilliams], [~cleduc], here is a screen shot of the the Gene Card working now.

 !PASSED - pur1 shows all genotypes for Bryan's Strain on QA - Sandbox - 2018-07-19 16_53_33-.png|thumbnail! ",19/Jul/18 4:56 PM;bwinter;FUTURE REFERENCE: This ticket was tested by [~cleduc] as this was a hotfix release for gene card issue.,,,,,,,,,,,,,,,,,,
Adding labels to Mice in Mice List throws red growler message unexpectantly,COMA-2632,29379,,Bug,Production,COMA,Colony Manager,software,admin,,,2 Important,Done,,bwinter,bwinter,08/Jul/18 11:17 PM,16/Jul/18 4:47 PM,04/Sep/18 1:13 PM,16/Jul/18 4:47 PM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened

# Go to Mice List
# Select one or more mice
# Add Label from blue toolbar for selected mice
# Create label > Add > Save
# Red growler error message thrown: ""Error adding labels: undefined"" <- {color:#d04437}UNEXPECTED{color}
# Must Cancel to get past modal <- {color:#d04437}UNEXPECTED{color}
# Once back at the Mice List, labels not added until Mice List is refreshed <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen

I expected I could add labels to mice without an error, so that my mice have labels.",,,,;09/Jul/18 2:56 PM;rwilliams;10800,;10/Jul/18 10:34 AM;rwilliams;300,;11/Jul/18 4:23 PM;bwinter;600,,,,,,,0,11700,,,0,11700,,,,,,,,,,,,,08/Jul/18 11:14 PM;bwinter;BUG - 1 of 2 - strange red growler thrown when adding label to mice from Mice List - 2018-07-08 23_10_25-.png;https://transnetyx.atlassian.net/secure/attachment/27097/BUG+-+1+of+2+-+strange+red+growler+thrown+when+adding+label+to+mice+from+Mice+List+-+2018-07-08+23_10_25-.png,08/Jul/18 11:14 PM;bwinter;BUG - 2 of 2 - label does not update until refreshing page - 2018-07-08 23_10_46-.png;https://transnetyx.atlassian.net/secure/attachment/27098/BUG+-+2+of+2+-+label+does+not+update+until+refreshing+page+-+2018-07-08+23_10_46-.png,11/Jul/18 4:23 PM;bwinter;PASSED - No red growler thrown when adding lables to mice - 2018-07-11 16_22_19-.png;https://transnetyx.atlassian.net/secure/attachment/27128/PASSED+-+No+red+growler+thrown+when+adding+lables+to+mice+-+2018-07-11+16_22_19-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-10T10:34:43.249-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":false}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00plv:,,,,,,New Product/Feature,,YX Connect,,08/Jul/18 11:19 PM;bwinter;[~cleduc] Here is the bug we discussed from last Friday where we get the weird red growler error message when adding labels to mice.  I left it as high priority in Colony 1.2.  You might want to bring it up during stand-up.,09/Jul/18 9:40 AM;bwinter;[~rwilliams] Thank you for looking into this ticket for us\!,,,,,,,,,,,,,,,,,,,,,,,,
Cage map filter does not match results from Cage bar graph or iOS Cage Map filter,COMA-2627,29357,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,25/Jun/18 3:50 PM,16/Aug/18 9:09 AM,04/Sep/18 1:25 PM,16/Aug/18 9:09 AM,,CM - Release 1.2,,,0,,,,,,,"bq. Several issues were causing the problem of the dashboard cages panel bar chart count to NOT match the Cage Map filter.  [~rwilliams] fixed a few.  This ticket has been updated to fix another one found during testing.  The Investigation section below outlines the original description of this ticket.

h1. What happened:

# Go to Dashboard
# Hover over the one-mouse-per-cage bar in Cage bar graph panel > Tool tip should say ""1 Mouse (X)""
# Note the number in parentheses ""(X)"".
# Add a litter to a breeding
# Let the litter count be 1 pup
# ID, Biopsy, and wean litter just created
# Place weaned pup in a new cage
# Place cage in a room on a rack
# Note the Cage ID, Rack Name, and RoomName
# Go to Dashboard > Cages Panel > Cage bar graph > hover over one-mouse-per-cage bar with Tool Tip ""1 Mouse (Y)""
# The actions taken above incremented the count of cage with just one mouse <- {color:#14892c}EXPECTED{color}
# Note that Y = X+1, where X was the original number <- {color:#14892c}EXPECTED{color}
# Go back to the litter and delete it > Litters List > find litter > View Litter > Litter 3-dot menu > Delete litter 
# Go back to weaned pups cage
# Note weaned pup has been deleted and no longer shows in cage <- {color:#14892c}EXPECTED (for now){color}
# Filter Cage Map by Singly Housed mice
# Note that empty cage that previously housed weaned pup is not selected <- {color:#14892c}EXPECTED{color}
# Go to Dashboard > Cages Panel > Cage bar graph > hover over bar with Tool Tip ""1 Mouse (Y)""
# Note that Y is still equal to X+1 <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

* I expected the one-mouse-per-cage bar in the Cages panel to equal the original starting number X.
* I expected the Z-mice-per-cage counts in the bar graph to match the number of cages selected from the Cage Map's Z-mice-per-cage Filter.

h1. Investigation

bq. This ticket started out as an investigation to figure out why the bar graph in the cages panel on the dashboard does not match the Cage Map filter.  [~rwilliams] has done a great job investigating this pernicious problem.  See comments below.  {color:#f79232}The _What happened_ section below should NOT be used to test this ticket further.{color} It is only included for historical purposes.

h2. What happened

# in Staging > Wilkersons Lab
# Cage bar graph counts do not match equivalent Cage Map filter counts <- UNEXPECTED

h2. What I expected to happen:

I expected Cage bar graph counts to match equivalent Cage Map filter counts

h2. Table of Differences in Counts across Cage Graph (in web), iOS Cage Map Filter, and Web Cage Map Filter

|| Mice per Cage || Cage Graph || iOS - Cage Map Filter || Web - Cage Map Filter Count || Cages of Interest ||
| *0 mice*    | 3   | 3   |  3 | |
| *1 mouse* | 36 | 36 | {color:#d04437}*38*{color} | Note 1 |
| *2 mice*    | 30 | 30 | {color:#d04437}*33*{color} | Note 2 |
| *3 mice*    | 22 | 22 | {color:#d04437}*23*{color} | Note 3 |
| *4 mice*    | 21 | 21 | 21 | |
| *5 mice*    | 18 | 18 | 18 | |
| *6+ mice* |   6 |   6 |    {color:#d04437}*0*{color} | Note 4 |

h2. Notes

* *Note 1* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 1 mouse
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *D4*
*** iOS Cage Map filter shows 3 mice in Cage
*** Web Cage Map filter shows 1 mouse in Cage
*** _DB - there are 3 mice in the cage, but only 1 is weaned and the cage should only show weaned mice. There is a litter in the cage as well for the unweaned mice, but that litter was deleted._
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B9*
*** iOS Cage Map filter shows 1 breeder with active litter of ten 20-week old, unweaned pups mice in Cage
*** Web Cage Map filter shows 1 retired breeder (broken heart) with active litter of seven 20-week, weaned pups in Cage
*** _DB - There are 8 mice in the cage, but only 1 is weaned. There is a litter in the cage as well that the other 7 mice belong to._
* *Note 2* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 2 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B2*
*** iOS Cage Map filter shows 3 mice in Cage
*** Web Cage Map filter shows 2 mice in Cage
*** _DB - There are 3 mice in that cage. None of them are weaned, however, only 1 of the 3 are associated with a litter. So that is part of the logic as well for displaying mice in a cage - if the mouse is associated with a litter, only show it in the cage if it is weaned, else show the mouse regardless of weaned status. There are 4 litters in that cage, 1 is deleted and the other 3 are weaned, therefore none of them show in the cage._
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *A5*
*** iOS Cage Map filter shows 6+ mice in Cage
*** _DB - This cage has 19 mice in it. None of the mice have wean dates, but 2 of the mice are not associated with a litter. There are 7 litters in that cage, 1 is deleted, 1 is weaned._
## _Room_ MCB-208 > _*Rack_ 2* > _Position_ *A5*
*** iOS Cage Map filter shows 6+ mice in Cage
*** DB - The cage has 14 mice, 0 are weaned, 2 are not part of a litter. There are 4 litters, 3 are weaned.
* *Note 3* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 3 mice
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *G3*
*** iOS Cage Map filter shows 6+ mice in Cage
* *Note 4* - *_Web - Cage Map Filter_* does NOT count these cages as having 6+ mice
## _Room_ *Unassociated* > _Cage ID_ *2986544*
*** _instead Web - Cage Map Filter only counts this cage as having 3 mice_
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *A5* 
*** Web - Cage Map Filter only counts this cage as having 2 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *E5*
*** Web - Cage Map Filter only counts this cage as having 3 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B9*
*** Web - Cage Map Filter only counts this cage as having 1 mouse
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *A5*
*** Web - Cage Map Filter only counts this cage as having 2 mice
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *G3*
*** Web - Cage Map Filter only counts this cage as having 3 mice
",,,,;14/Jul/18 11:42 AM;rwilliams;57600,;25/Jul/18 10:47 AM;rwilliams;300,;02/Aug/18 10:14 AM;bwinter;14400,;02/Aug/18 2:13 PM;rwilliams;3600,;03/Aug/18 9:39 AM;admin;60,;06/Aug/18 10:07 AM;bwinter;600,;16/Aug/18 9:02 AM;rwilliams;300,;16/Aug/18 9:09 AM;jcox;300,,0,77160,,,0,77160,,,,,,,,,,,,,02/Aug/18 10:14 AM;bwinter;BUG - Cages Bar Chart counts weaned mice deleted from a cage after deleting litter record BUT Cage Map filter does not - 2018-08-01 13_04_37-.png;https://transnetyx.atlassian.net/secure/attachment/27272/BUG+-+Cages+Bar+Chart+counts+weaned+mice+deleted+from+a+cage+after+deleting+litter+record+BUT+Cage+Map+filter+does+not+-+2018-08-01+13_04_37-.png,06/Aug/18 10:06 AM;bwinter;PASSED - 1-mouse-per-cage on Dashboard matches 1-mouse-per-cage on filtered Cage Map - 2018-08-06 09_42_49-.png;https://transnetyx.atlassian.net/secure/attachment/27292/PASSED+-+1-mouse-per-cage+on+Dashboard+matches+1-mouse-per-cage+on+filtered+Cage+Map+-+2018-08-06+09_42_49-.png,01/Aug/18 4:18 PM;rwilliams;bad data in staging for this lab.png;https://transnetyx.atlassian.net/secure/attachment/27271/bad+data+in+staging+for+this+lab.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rwilliams,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=3}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":3,""lastUpdated"":""2018-08-03T11:25:22.458-0500"",""stateCount"":3,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":3,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00ygf:,,,,,,New Product/Feature,,YX Connect,2018-07-11 12:49:50.277,"25/Jun/18 3:52 PM;bwinter;[~cleduc], [~rwilliams], [~jmedlock], here is the requested BUG ticket related to COMA-2424 and Carrie's and mine comment from today.  I placed it as Standard priority in Unplanned.  Feel free to to make any changes.","11/Jul/18 7:49 AM;rwilliams;[~bwinter] CC: [~cleduc] [~jmedlock] [~jstrickland]
This ticket deals with mice per cage counts discrepancies: 
So the first thing I have found, and this may be THE issue with the rest of the cage mice count issues, is that there are mice in cages that are part of a litter, but the mice have never been weaned and the litter has been deleted. I am doing some educated assuming here but, on the web I don't think that the cage shows (or includes in counts) non-weaned mice because the assumption is that they are still considered to be part of a litter. Also, on the web, the Cage normally displays a litter when it is associated with a cage, however, in this case, the Litter has been deleted, so it isn't being shown in the cage view for that reason. I guess the question becomes, how do we deal with this issue? Should we have marked any unweaned mice as deleted when the litter was deleted? I would assume that there is no cascading deletion  like that being done today, but is that what we need to do to resolve this? Or another option might be that when a litter is deleted we mark any pups as weaned immediately? Or do we need to calculate the mice per cage count differently and change what mice get displayed in a cage, so that, if there are unweaned mice who are in a deleted litter, that we go ahead and include them in the cage and in the count. That to me sounds like the yuckiest solution.

This first cage I looked at (first in the list in the ticket above), it really does have 3 mice in the cage (and it looks like iOS shows all 3 mice in the cage there), but 2 are not weaned and belong to a deleted litter which is also associated with the same cage, but doesn't show because it is deleted

Looking at the second cage listed in the ticket, the one at position B9 , has 8 mice but 7 are not weaned and are part of the same litter, the litter that is listed in the cage. The litter pup count discrepancy between iOS and the web is an issue on the iOS side with the calculation of pups. On the litter is recorded the PupCountAtBirth of 10 with a MissingCount of 3. I believe that iOS is showing the PupCountAtBirth and not considering the Missing or the FoundDeadCount, etc. On the web, we actually calculate the pup count whenever we load the litter. If the pups haven't been generated we use the litter fields to determine count, but as soon as the pups are generated we actually look at the actual mice in the system to determine the number of pups.","11/Jul/18 10:19 AM;cleduc;[~rwilliams] [~bwinter][~jmedlock] [~jstrickland] This sounds like we maybe worked off different users particular needs in the different apps, and users also maybe made some errors between ""dead"" vs. ""deleted"". 
What if it did this in both systems:
* Animal records are created when litter counts are entered or not but it should be the same in both systems if possible. Then how we include exclude animals in counts would be same in both as well. 
* If pup records are created prior to wean and appear in the mouse list, the user just needs to know so that they can consider age in their record searching.
* Delete litter throws question: would you like to mark all pups dead or delete record of the pups? If a litter is deleted this must be resolved. 
* Animals per cage = Adults (weaned) including breeders  - I say this as the animals per cage is used primarily to see cages that have too many adult mice that need to be recaged, and/or cages that can be consolidated. 
* Two pup counts have value: Pups born = total recorded born, Pups weaned = pups born minus the missing, found dead, and euthanized prior to wean. 




","11/Jul/18 12:37 PM;rwilliams;[~cleduc] Here are my responses to your earlier comments: 

*Note:* I did some additional research into some of the specific scenarios mentioned in the ticket and I added my findings to the description in the ticket. While doing this I realized that there is a little more logic for the displaying of mice in cages. If a mouse is not associated with a litter (meaning that it was manually added to colony via ""add mice""), then it will show in the cage (if it isn't deleted or dead, etc.). If the mouse is from a litter then it will only show in the cage if it is weaned.

* Animal records are created when litter counts are entered or not but it should be the same in both systems if possible. Then how we include exclude animals in counts would be same in both as well.
** My response: Agree. In the web, mice/pups for a litter are created via the litter workbench at the specific time that that user clicks the ""Save and Generate"" button. This is done before the mice are IDed, Biopsied or Weaned.  Once the mice are generated they are viewable in the MiceList, however, in the Cage view, the unweaned litter is displayed and the unweaned mice are NOT displayed (unless the mouse is not associated with a litter, then it is displayed regardless of its weaned state).
* If pup records are created prior to wean and appear in the mouse list, the user just needs to know so that they can consider age in their record searching.
** My response: I don't have issues with this, but I don't know how we communicate that to users. The Mouse List has a default filter that shows alive mice.
* Delete litter throws question: would you like to mark all pups dead or delete record of the pups? If a litter is deleted this must be resolved.
** My response: Do we need a ticket for this or do we use this ticket to do that? I lean toward a specific ticket to implement that functionality. I think we need to identify all of the places where litters can be deleted to make sure that they all use the same logic.
* Animals per cage = Adults (weaned) including breeders - I say this as the animals per cage is used primarily to see cages that have too many adult mice that need to be recaged, and/or cages that can be consolidated.
** My response: This is the case with the web app, however, it appears that the iOS app may not be excluding non-weaned mice (or maybe it is doing something else), see Note 1 above.
* Two pup counts have value: Pups born = total recorded born, Pups weaned = pups born minus the missing, found dead, and euthanized prior to wean.

cc: [~bwinter] [~jmedlock] [~jstrickland]","13/Jul/18 8:14 AM;rwilliams;[~cleduc]

I've been doing a little more looking into this issue. I am seeing 2 issues so far.

* 1. We need to change the way that the application (web and iOS) handles the deletion of a litter. I think we need to write this up as its own ticket. I don't know how often this happens, but when it does it will potentially throw off counts and mice will get lost in cages (if the mice were not weaned prior to the deletion of the litter). The mice are still able to be found in the mouse list, but not in the cages. Possible options for what happens when a litter is deleted:
** Delete all of the associated pups
** Mark dead all of the associated pups
** Disassociate all of the associated pups from the litter (we have logic in the cage card view that only shows weaned pups if they are associated with a litter, if they are not associated with a litter we show them)
** I don't think this is a good option, but we leave the pups associated with the litter, but mark them all as weaned. That way they would show up in the cage.
** Another possibly silly option would be to only allow the litter to be deleted is if NO pups have been generated OR if the litter as a whole has been weaned (all alive pups are weaned).
* 2. We have logic that is applied to which mice show in a cage on the cage card view, however we do not have that same logic applied to the mice counts that are displayed on the dashboard page. I am correcting this issue with this ticket. I have also shared the logic with [~jstrickland] for the iOS side (I'm not sure if the iOS needs any changes to be made).

cc: [~bwinter] [~jmedlock]","13/Jul/18 8:53 AM;cleduc;[~rwilliams] [~jmedlock] Agree on the ticket writing and thank you for making things consistent. Once they are consistent we can train users how to find the count they need. 

On the ticket: My inclination is to keep the user from doing this. Our users struggle with understanding the difference between a record and a physical mouse.
How about this:
When a user attempts to delete a litter they are prompted with a selection something like:
What would you like to do with the pups:
* Delete the record of this litter and delete associated pup records and resulting empty cages
* Keep the record of this litter and mark all pups as dead, deleting the resulting empty cages
* Delete the record of this litter and reassign pups to new cages (I have no idea why this would happen though)
I'm sure I missed things here. I'll review further. ","14/Jul/18 12:00 PM;rwilliams;[~cleduc] I agree with you for the most part. I personally don't think we need to give them the option to move the mice to other cages simply because its adds complexity to the simple process of deleting the litter especially if you don't see that as a normal choice. I agree with making the options very clear. We can even add something like ""If you choose to delete the pups, this will remove them completely from the history of your colony, as opposed to if you choose to mark the pups as dead, Colony will retain the information on these pups as part of the history of your colony."" Who ever works on the ticket will need to be cautious when it comes to deleting the cage. What I mean by that is that they will need to make sure that the cage is empty before deleting it. I could see it where the mom is still in the cage with the pups and deleting the litter and the pups shouldn't delete the mom, so in a case like this we shouldn't delete the cage either. I add that more as a note to the developer that picks up this new ticket.","18/Jul/18 4:18 PM;bwinter;[~cleduc], [~rwilliams], after thinking about this problem and doing some research, I realized that the following table might be helpful in summarizing what should happen.  What do you think?

h1. Inputs at Issue

I see that the inputs at issue are 

* Pups at birth ( 0 or more than 0)
* Number of offspring (0 if no records generated, some count otherwise)
* At least one offspring in a breeding? (yes or no)

h1. Actions to Take

From the table below, I see 3 possible actions:

# Do not allow user to delete litter record
# Notify user that litter has offspring records, and those need to be deleted first. Give user screen to delete all. 
# Delete litter record - no consequence


h1. Table of Inputs and Actions

|| Pups at birth || Number of offspring || At least one offspring in a breeding? || Action to take ||
| 1 or more | 1 or more | Yes | Do not allow user to delete litter record |
| 1 or more | 1 or more | No | Notify user that litter has offspring records, and those need to be deleted first. Give user screen to delete all. |
| 1 or more | {color:#f691b2}0{color} | {color:#f691b2}Yes{color} | Do not allow user to delete litter record |
| 1 or more | 0 | No | Delete litter record - no consequence |
| {color:#f79232}0{color} | {color:#f79232}1 or more{color} | Yes | Do not allow user to delete litter record |
| {color:#f79232}0{color} | {color:#f79232}1 or more{color} | No | Notify user that litter has offspring records, and those need to be deleted first. Give user screen to delete all. |
| 0 | {color:#f691b2}0{color} | {color:#f691b2}Yes{color} | Do not allow user to delete litter record |
| 0 | 0 | No | Delete litter record - no consequence |


h1. Notes

* {color:#f79232}Pups at birth can be 0 and offspring more than zero if user selects, say 5 pups at birth when creating litter, then takes action that creates offspring records, then edits litter count at birth to 0 and saves.{color}
* {color:#f691b2}Offspring can be 0 and in a breeding if user deletes mouse through inactive litter card after adding them to a breeding.
{color}

h1. More details on Inputs

* Pups at birth -> entered when
** (web + iOS) adding litter to breeding (default = 0)
** (web + iOS) editing a litter
* Number of offspring -> created when
** (web + iOS) litters > select litter > 3-dot > biopsying a litter
** (iOS) litters > select litter > 3-dot > ID'ing a litter
** (web + iOS) litters > select litter > 3-dot > weaning a litter
** (web + iOS) *edit* litter > enter a date for the ID, Biopsy, or wean date AND save
** (web) select breeding > select litter > taken to litter workbench
** (iOS) litters > select litter > 3-dot > edit offspring, add genotypes, add pup, add found dead or missing
* At least one offspring in a breeding? (yes or no)
** Add a offspring to a breeding
** Offspring must be created to add to a breeding
** Can breeders be deleted from a breeding?
*** Cannot delete from Breedings > select breeding > parents tab > breeder 3-dot menu
*** Cannot delete from Cage > mouse 3-dot menu
*** {color:#d04437}Can be deleted from _inactive_ Litter card if broken heart{color}
","18/Jul/18 4:33 PM;rwilliams;[~bwinter] I really like where you are going and I need to sit and read through it all, however, I just wanted to mention this: in code, PupCountAtBirth means nothing once mice are generated. Once a litter has offspring, then we shouldn't consider the PupCountAtBirth any longer. I would add, that if a litter has no offspring, regardless of how many pups at birth, then deleting the litter is fine. This disagrees with your suggestion in your table, but in this case there have been no mice generated and therefore there is no reason to be concerned about deleting the litter.

Question regarding your table, 2nd row, 3rd column - ""At least one offspring in a breeding?"", what does ""no"" mean there? In fact, what does breeding have to do with this conversation?","18/Jul/18 4:42 PM;bwinter;[~rwilliams] Great point! After thinking about your column, I noticed that that first column for pups at birth is actually redundant anyway.  If you remove it, the action to take remains the same.  The action to take is really dependent on number of offspring and whether at least one of them is in a breeding.","18/Jul/18 5:06 PM;rwilliams;[~bwinter] So I am not sure why you thought to bring breedings into this discussion, but I think I understand your concern. Basically we may not be able to just ""delete all mice in the litter"" because some of these mice may be employed in other tasks in the Colony. Wow. There is so much to think about!! But, based on this thought I say we allow any litter to be deleted if 1) it has no offspring, or 2) if all of it's offspring are dead, deleted or transferred. Therefore, if they really really want to delete a litter, and if there are offspring, then the user has to go through the system and find the offspring and delete them where they are. Let the rules for deletion of the mouse be employed in the context of the the mouse instead of in the context of the litter. Basically we can let the user click the delete button on any litter, but if there are any offspring that is not deleted, dead or transferred, then we tell the user that the litter cannot be deleted until all of it's offspring have been deleted, marked dead or transferred. If there are no offspring, or if they are all deleted, marked dead or transferred, then we go ahead and delete the litter. That makes this nice and simple. I almost feel like we should take out the ""marked dead"" option and I think that all mice should be deleted or transferred. If they are marked dead but they are tied to a litter, I would think that we would want the history, the data, that the mouse was tied to that litter. But, honestly, we aren't really hard deleting anything so the deleted mouse and the deleted litter would still be there in the system, but just not seen by the user.
CC: [~cleduc]","18/Jul/18 5:19 PM;cleduc;[~rwilliams][~bwinter] - I want to make them go delete the pups if they want to delete the litter or the breeding. Marking dead and transferred still means they were real, and alive. If creation of the litter or breeding was an error, they need to go through the trouble of deleting the animals associated and recreating the correct litter or breeding, creating new pups in those and doing whatever they need to to make those animals correct. 
They can delete but they need to delete associated animals. I'm OK with that. 
The only short cut they will want is to reattach to a different litter or breeding but we can get fancy later. ","23/Jul/18 11:44 AM;bwinter;[~rwilliams] and [~cleduc], I am agreement with both of you, and I was trying to capture those ideas in a truth table in my comment from last week (July 19):

User wants to delete litter 
* if no offspring ever created, then let them delete litter record
* if offspring created, then check for offspring in a breeding
** if no offspring in a breeding, then ask them what to do with offspring of the litter
** if at least one offspring in a breeding, then do not allow deletion of record","23/Jul/18 11:52 AM;rwilliams;[~bwinter] [~cleduc]  To keep this simple I still say that we make the user go and delete the mice associated with the litter before they can delete the litter. This keeps the delete litter process nice and simple.  
","23/Jul/18 11:55 AM;cleduc;[~bwinter][~rwilliams] Agree. To delete this litter record, you must first delete the animals associated. ...or something like that..",25/Jul/18 4:16 PM;bwinter;[~rwilliams] is this ticket testable in QA?,"25/Jul/18 7:08 PM;rwilliams;[~bwinter]  Testing May be difficult because we have data issues. I.e. live unweaned mice that belong to deleted litters. We need another ticket to fix the delete litter functionality and we need to take a little time to “fix” the bad data by either undeleting the litter or deleting mice of a deleted litter (ha).  
","31/Jul/18 9:05 AM;bwinter;[~rwilliams], thank you for talking to me about this ticket yesterday.  Can you take a second and let me know if I have everything written correctly?

*Here are the testable fixes for this ticket*

* {color:#205081}IF{color} (_litter IS NOT weaned_ AND _litter IS NOT deleted_) {color:#205081}THEN{color} (_display mice from that litter in cage_ AND _count them toward mice in cage count_).
* {color:#205081}IF{color}  (_mouse is in a cage_) AND (_mouse IS NOT associated with a litter_ OR _mouse HAS a wean date) {color:#205081}THEN{color} (_display mouse in cage_ AND _count them toward mice in cage count_).

*Here are other issues related to this ticket.*

* Verify that these changes addressed (at least some of the) issues in Wilkerson Lab in *Staging* as described in Description.
* Create story to address when litters are allowed to be deleted AND what should happen with associated mice records after litter is deleted.
* Create a task to manually un-delete litters or deleting mice of deleted litter <- {color:#f79232}may not do since Wilkerson Lab is in Staging and not Production{color}

CC: [~cleduc]","31/Jul/18 4:35 PM;rwilliams;[~bwinter]
Display a litter in the cage => IncludeLitterInCageView => !this.DateWeaned.HasValue && !this.DateDeleted.HasValue;
Display a mouse in the cage => IncludeMouseInCageView => this.WeanDate.HasValue || !this.LitterId.HasValue;
* This is also used to ""fix"" the count of mice in cages on the dashboard

My comment on your comment ""Create a task to manually un-delete litters or deleting mice of deleted litter""
* This issue affects all environments for customers who have deleted litters with generated mice. We will need to discuss how to deal with this issue because right now there is a possibility that some counts are off because of the data. We can discuss this as part of the ticket that fixes deleting litters.","01/Aug/18 3:22 PM;rwilliams;[~bwinter] [~cleduc] Based on Bryan's recent testing we found that the application is deleting pups on a litter when the litter is deleted. I verified in the code that the ""delete litter"" menu option on both 1) a litter in a cage card and 2) the litter in the litter card are calling the same code on the server side (LitterController.DeleteLitter) and that code cascades the delete to the mice in the pup. In fact, it also marks litter parents deleted and the offspring settings as well. Now, are there any other places in the application that you can think of where a litter can be deleted? Ohhhhh, one place is likely the iOS app. We need to check that...

I just checked in with [~jstrickland] with regard to the iOS and he says that the iOS application works the same way as far as cascading the delete to the mice, parents and offspring settings. So this relly leaves me scratching my head. Maybe we are looking at old data, but I won't know until I look at it again.

Last note, none of these delete litter functions throws up a warning to the user about deleting the pups, it just does it!

One more note: The more you know... I just ran a query in staging for the Wilkerson lab to look at litters that were deleted with mice that weren't deleted. After looking at the data like this I can see that these litters were deleted outside of the application, probably because of bad data. So all of this around deleted litters with no deleted mice and it appears that probably picked a poor data set to do our initial investigation on. I also ran this query on production to see if there were any deleted litters with non-deleted pups and there are ZERO cases. I attached an image of the data from Staging where you can see that these litters all show a deleted date of '2000-01-01 00:00:00.000'.

[~bwinter] Based on that last bit of information we may have totally fixed the count issues, however, to really know that we probably need to look at a better set of data. If you want to stick with this data, why don't you let me mark all of these pups as deleted and then let's check it again.

 !bad data in staging for this lab.png|thumbnail! 

Here is my SQL:

{code:sql}
SELECT m.Name Mouse, m.DateDeleted MouseDeleted, m.TransferDate, m.DeathDate, m.WeanDate, l.Name Litter, l.DateDeleted LitterDeleted, c.Name, rm.RoomName, rk.RackName, c.RackIndex Position, *
FROM Mice m
	JOIN Litters l ON m.LitterId = l.LitterId
	JOIN Cages c ON m.CageId = c.CageId
	JOIN Racks rk ON c.RackId = rk.RackId
	JOIN Rooms rm ON rk.RoomId = rm.RoomId
--WHERE m.GroupId = '7b5a3b72-5fe4-49f5-9518-c73f791b7bdb'
	AND l.DateDeleted IS NOT NULL
	AND m.DateDeleted IS NULL
ORDER BY l.Name, m.Name
{code}
","02/Aug/18 10:21 AM;bwinter;Thanks, [~rwilliams]!  Thank you for the fixes you made on concerning this bug of mice-per-cage counts not matching between the dashboard bar graph and the Cage Map filter.  

One problem with this ticket is its poor description, which is 100% my fault.  I updated the description today to better describe the problem and how to recreate it.  I also included a screenshot that uses {color:#d04437}red{color} to point out the problem, {color:#f79232}orange{color} to talk about supporting evidence, and {color:#14892c}green{color} to signify what parts passed from you comments on July 31st.

The Mice-per-cage filter on the cage map does not count unweaned mice deleted when a litter is deleted.  However, the bar chart still does.  I think this is one of the remaining issues.  Let me know if you disagree.","02/Aug/18 11:37 AM;bwinter;[~rwilliams], I am assigning this ticket back to you so that we can find the fix for the last remaining item on it.  I decided not to put a rework on it, since the description did not include steps to reproduce the bug and since the description was not clear what bug needed to be fixed.  But the description has been updated with steps to recreate the bug for the remaining item.

CC: [~jcox], [~cleduc]","02/Aug/18 11:38 AM;bwinter;[~cleduc], [~jcox], [~rwilliams] note that this ticket is in UNPLANNED release.  I am not sure why.","02/Aug/18 1:41 PM;bwinter;[~cleduc] commented me on Teams, so I moved this ticket to Colony 1.2.",02/Aug/18 2:17 PM;rwilliams;[~bwinter] [~cleduc] This cage count ticket is fixed. It was a simple fix that only changes the way that the dashboard calculates it numbers.,02/Aug/18 2:20 PM;bwinter;[~rwilliams]  YAY! SWEET! 
Breeders can be moved from Breeding Wizard when breeding has exactly one litter,COMA-2626,29355,24332,Rework,Production,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,bwinter,bwinter,25/Jun/18 3:14 PM,17/Jul/18 2:22 PM,04/Sep/18 1:25 PM,12/Jul/18 9:09 AM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened:

# Select a breeding with exactly one litter
# Edit breeding to get to Breeding Wizard
# Step 2 allows user to remove breeder from breeding <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

I expected that no breedings with 1 or more litters would be allow to remove parents from breeding via the Breeding Wizard.",,,,;12/Jul/18 8:45 AM;jjensen;3600,;12/Jul/18 9:09 AM;bwinter;600,,,,,,,,0,4200,,,0,4200,,COMA-1889,,,,,,,,,,,11/Jul/18 4:27 PM;bwinter;PASSED - Breedings with one litter will not allow breeders to be removed in Edit Breedings Wizard - 2018-07-11 16_25_47-.png;https://transnetyx.atlassian.net/secure/attachment/27129/PASSED+-+Breedings+with+one+litter+will+not+allow+breeders+to+be+removed+in+Edit+Breedings+Wizard+-+2018-07-11+16_25_47-.png,25/Jun/18 3:17 PM;bwinter;REWORK - Breeders can be removed from breeding with exactly one breeding - 2018-06-25 15_14_50-.png;https://transnetyx.atlassian.net/secure/attachment/27076/REWORK+-+Breeders+can+be+removed+from+breeding+with+exactly+one+breeding+-+2018-06-25+15_14_50-.png,10/Jul/18 11:35 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27116/image001.png,11/Jul/18 10:01 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27119/image001.png,12/Jul/18 8:48 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27138/image001.png,10/Jul/18 11:35 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27117/image003.png,11/Jul/18 10:01 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27120/image003.png,12/Jul/18 8:48 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27139/image003.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jjensen,{},,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,,,0|i00yfz:,,,,,,,,YX Connect,2018-07-10 16:35:29.308,09/Jul/18 1:28 PM;bwinter;[~jjensen] this is the rework we were just discussing today.,"10/Jul/18 11:35 AM;jjensen;Bryan, the code changes I made should work.  I need to get with you and have you show me the breeders and the single litter which cause this to fail.


From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Bryan Winter (Jira)
Sent: Monday, July 9, 2018 1:29 PM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] (COMA-2626) Breeders can be moved from Breeding Wizard when breeding has exactly one litter

[https://avatar-cdn.atlassian.com/302a117f5a1a7626af090e7d2ae5ef77?s=48&d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2F302a117f5a1a7626af090e7d2ae5ef77%3Fd%3Dmm%26s%3D48%26noRedirect%3Dtrue]

Bryan Winter<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=bwinter> commented on [Rework] COMA-2626<https://transnetyx.atlassian.net/browse/COMA-2626>




Re: Breeders can be moved from Breeding Wizard when breeding has exactly one litter<https://transnetyx.atlassian.net/browse/COMA-2626>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen> this is the rework we were just discussing today.


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","11/Jul/18 10:01 AM;jjensen;Bryan:

For Breeding 41, the litter associated with the parents is marked as Inactive via the logic in the Litters business object.  Here is what it does.  A litter is considered inactive when:

  1.  The DeletedDate is null, and
  2.  The WeanedDate is null and
  3.  There is at least one surviving mouse or pup.

Breeding 41’s parents were associated with a litter that had the WeanedDate set.  As such, it was marked ‘Inactive’ and thus the parents had no ‘active’ litters.

I think the rest of the breedings you tested will show one of the three tests listed above as false.

So, the question is this:  Is the current method of determining the active status of a litter accurate?

I spoke briefly with other devs and it seems that there may be an issue with the WeanedDate.  Specifically, we were unsure if the WeanedDate on a litter was an accurate representation of the pups’ actual weaned status, or perhaps the check should be with the WeanedDate on each individual mouse in the litter.

I am leaning toward checking each mouse, but I don’t have or cannot find any pre-existing code which determines a litter’s status based on weaned information.

Also, this is the only item holding up the code release.

I look forward to your judgement on this issue.


From: Jim Jensen
Sent: Tuesday, July 10, 2018 11:35 AM
To: Bryan Winter (Jira) <jira@transnetyx.atlassian.net>
Subject: RE: [JIRA] (COMA-2626) Breeders can be moved from Breeding Wizard when breeding has exactly one litter

Bryan, the code changes I made should work.  I need to get with you and have you show me the breeders and the single litter which cause this to fail.


From: jira@mail-us.atlassian.net<mailto:jira@mail-us.atlassian.net> <jira@mail-us.atlassian.net<mailto:jira@mail-us.atlassian.net>> On Behalf Of Bryan Winter (Jira)
Sent: Monday, July 9, 2018 1:29 PM
To: Jim Jensen <jjensen@transnetyx.com<mailto:jjensen@transnetyx.com>>
Subject: [JIRA] (COMA-2626) Breeders can be moved from Breeding Wizard when breeding has exactly one litter

[https://avatar-cdn.atlassian.com/302a117f5a1a7626af090e7d2ae5ef77?s=48&d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2F302a117f5a1a7626af090e7d2ae5ef77%3Fd%3Dmm%26s%3D48%26noRedirect%3Dtrue]

Bryan Winter<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=bwinter> commented on [Rework] COMA-2626<https://transnetyx.atlassian.net/browse/COMA-2626>




Re: Breeders can be moved from Breeding Wizard when breeding has exactly one litter<https://transnetyx.atlassian.net/browse/COMA-2626>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen> this is the rework we were just discussing today.


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","11/Jul/18 4:19 PM;bwinter;[~jjensen] Can you update the status of this rework for COMA-1889, so that I can move the status to QA?","12/Jul/18 8:48 AM;jjensen;The status of the ticket is now in QA.

From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Bryan Winter (Jira)
Sent: Wednesday, July 11, 2018 4:20 PM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] (COMA-2626) Breeders can be moved from Breeding Wizard when breeding has exactly one litter

[https://avatar-cdn.atlassian.com/302a117f5a1a7626af090e7d2ae5ef77?s=48&d=https%3A%2F%2Fsecure.gravatar.com%2Favatar%2F302a117f5a1a7626af090e7d2ae5ef77%3Fd%3Dmm%26s%3D48%26noRedirect%3Dtrue]

Bryan Winter<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=bwinter> commented on [Rework] COMA-2626<https://transnetyx.atlassian.net/browse/COMA-2626>




Re: Breeders can be moved from Breeding Wizard when breeding has exactly one litter<https://transnetyx.atlassian.net/browse/COMA-2626>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen> Can you update the status of this rework for [https://transnetyx.atlassian.net/secure/viewavatar?size=xsmall&avatarId=12337&avatarType=issuetype] COMA-1889 <https://transnetyx.atlassian.net/browse/COMA-1889> QA , so that I can move the status to QA?


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2626#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
",,,,,,,,,,,,,,,,,,,,,
AddMiceToCage throws 405 error,COMA-2621,29350,28271,Rework,Production,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,bwinter,bwinter,25/Jun/18 11:16 AM,17/Jul/18 2:22 PM,04/Sep/18 1:25 PM,08/Jul/18 10:36 PM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened:

# Cages > Select empty cage > Click *Add Existing Mice*
# Checked some mice to add to cage > Save
# AddMiceToCage methods throws 405 error <- UNEXPECTED

h1. What I expected to happen:

I expected that clicking Save allowed me to add existing mice to the cage I selected.",,,,;02/Jul/18 4:23 PM;jadhikari;14400,;08/Jul/18 10:36 PM;bwinter;600,,,,,,,,0,15000,,,0,15000,,COMA-2064,,,,,,,,,,,08/Jul/18 10:40 PM;bwinter;PASSED - AddMiceToCage no longer throws 405 error - 2018-07-08 22_37_35-.png;https://transnetyx.atlassian.net/secure/attachment/27092/PASSED+-+AddMiceToCage+no+longer+throws+405+error+-+2018-07-08+22_37_35-.png,25/Jun/18 11:16 AM;bwinter;REWORK - AddMiceToCage throws 405 error - 2018-06-25 11_11_59-.png;https://transnetyx.atlassian.net/secure/attachment/27061/REWORK+-+AddMiceToCage+throws+405+error+-+2018-06-25+11_11_59-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-06T14:34:51.176-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,,,,Unassigned,jmedlock,bwinter,0|i00yev:,,,,,,,,YX Connect,,25/Jun/18 11:17 AM;bwinter;[~jadhikari] Just wanted to give you a heads up that AddMiceToCage throws a 405 error when trying to add mice to existing cage.  ,,,,,,,,,,,,,,,,,,,,,,,,,
Gene Cards are blank in Chrome,COMA-2613,29314,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,14/Jun/18 4:39 PM,19/Jul/18 4:58 PM,04/Sep/18 1:25 PM,17/Jul/18 8:40 PM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened:

# Not sure what I was doing
# Gene Cards in Strain Dashboard are blank for all strains in *Chrome 67.0.3396.87* (Official Build) (64-bit) <- {color:red}UNEXPECTED{color}
# See screenshots

h1. What I expected to happen:

I expect the Gene Cards to never be blank.

h1. Note to DEV

* Note that in the attached screenshots, there was some tinkering around with checking/unchecking {{overflow-y}} style element for{{ .gene-card-bdy.view}} in {{GeneCardStyles.CSS}}, but as you may know, this may not fix the whole issue, because that will have other consequences (e.g., see attached {{{color:#205081}BEWARE - Unchecking overflow-y has CONSEQUENCES - 2018-06-18 11_17_32-.png{color}}}).
* Note that for Chrome, the Gene Cards also appear and disappear based on Zoom.  
** Any presets above 100% is blank.  
** 100% is okay
** 90% is blank
** 75%, 80% is okay
** Any presets below 67% is blank

",,,,;17/Jul/18 12:29 PM;rwilliams;10800,;17/Jul/18 12:44 PM;rwilliams;300,[~cleduc] tested this;17/Jul/18 8:40 PM;rwilliams;3600,;17/Jul/18 8:40 PM;rwilliams;300,;17/Jul/18 8:40 PM;rwilliams;300,,,,,0,15300,,,0,15300,,,,,,,,,,,,,18/Jun/18 11:25 AM;bwinter;BEWARE - Unchecking overflow-y has CONSEQUENCES - 2018-06-18 11_17_32-.png;https://transnetyx.atlassian.net/secure/attachment/27028/BEWARE+-+Unchecking+overflow-y+has+CONSEQUENCES+-+2018-06-18+11_17_32-.png,14/Jun/18 4:32 PM;bwinter;BUG - Gene Cards are blank in Chrome - cell width in Chrome not the same as FireFox2018-06-13 13_43_03-.png;https://transnetyx.atlassian.net/secure/attachment/27019/BUG+-+Gene+Cards+are+blank+in+Chrome+-+cell+width+in+Chrome+not+the+same+as+FireFox2018-06-13+13_43_03-.png,14/Jun/18 4:39 PM;bwinter;BUG - Gene Cards blank in Chrome - overflow-y style element in gene-card-bdy view is CHECKED - 2018-06-13 13_43_45-.png;https://transnetyx.atlassian.net/secure/attachment/27018/BUG+-+Gene+Cards+blank+in+Chrome+-+overflow-y+style+element+in+gene-card-bdy+view+is+CHECKED+-+2018-06-13+13_43_45-.png,14/Jun/18 4:39 PM;bwinter;NOTE - Gene Cards no longer blank when overflow-y style element of gene-card-bdy.view is UNCHECED - 2018-06-13 13_44_01-.png;https://transnetyx.atlassian.net/secure/attachment/27017/NOTE+-+Gene+Cards+no+longer+blank+when+overflow-y+style+element+of+gene-card-bdy.view+is+UNCHECED+-+2018-06-13+13_44_01-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bwinter,jcox,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-17T12:46:17.196-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,cleduc,0|i00y73:,,,,,,New Product/Feature,,YX Connect,2018-06-19 13:55:58.955,"14/Jun/18 4:42 PM;bwinter;[~jmedlock], [~admin], [~rwilliams] and I stumbled across what might be causing the Gene Cards to go blank in Chrome.  See screenshot below.

 !BUG - Gene Cards are blank in Chrome - cell width in Chrome not the same as FireFox2018-06-13 13_43_03-.png|thumbnail! 

 !NOTE - Gene Cards no longer blank when overflow-y style element of gene-card-bdy.view is UNCHECED - 2018-06-13 13_44_01-.png|thumbnail! 

Given how much the lab-side may the Gene Cards to determine number of mice with particular genotype, this ticket might be a higher priority if it is a quick fix.

[~cleduc], [~jcox], I have placed this ticket in Unplanned at the moment, but raised its priority to Important.","19/Jun/18 8:45 AM;bwinter;[~jmedlock], would you mind testing something on your machine?  Does resizing your browser zoom change whether or not you can see the Gene Card info.  I stumbled across it yesterday and noticed noticed that I can see (not see) the Gene Cards for these Zoom percentages:

* Any presets above 100% is *blank*
* 100% is visible
* 90% is *blank*
* 75%, 80% is visible
* Any presets below 67% is *blank*

CC: [~cleduc], [~jcox], [~admin]",19/Jun/18 8:55 AM;cleduc;[~bwinter] I tried resizing and can't reproduce this in QA or production but might be in the wrong instance?,"19/Jun/18 9:07 AM;bwinter;[~cleduc], yeah, this is a pernicious bug.  It doesn't happen to everyone.  And we don't know why yet.","20/Jun/18 2:26 PM;admin;[~jjensen] [~cleduc]

In addition to the weirdness described above, there are other instances where a gene card will simply not show up (inconsistent between page loads). Lets approach this with an eye to making sure that the gene cards are 100% visible any time they are present.","20/Jun/18 4:37 PM;jjensen;[~admin], [~bwinter]  Okay, so when I change the zoom in the browser to 90%, for example, the cards all show blank.  But, a refresh with F5 brings all the data back.  A quick look through the interwebs shows that Chrome has had several font and display-related issues with text and borders as far back as version 34 and up until the present.  

I believe the zooming issue belongs to the Chrome development team, is outside of our scope, and can be resolved with an F5 redraw.  In other words, a non-issue.

The missing gene cards may have some relationship to css attributes, but I doubt this, and I have yet not been able to see this in action.  Ergo, I cannot do much about that ""problem"" if it cannot be reproduced.  Nonetheless, I will keep trying.

[~cleduc], Finally, there was a sense that this issue is related to a problem found at UCLA when attempting to select mutations in a drop-down list for a new strain that do not appear.  This is a completely different problem.  If there is a ticket which addresses the missing mutations in the drop-down list, please let me know.",20/Jun/18 5:17 PM;cleduc;[~jjensen] [~admin] I think Chris felt these were related and so tacked on to here. I can make a new ticket or you can. I have only the feedback sent in the email.  Thank you so much for researching it!,"25/Jun/18 7:48 AM;bwinter;[~jjensen], [~cleduc], [~jmedlock] I am cancelling this ticket since the exact problem cannot be found (nor fixed) AND because there is a work around of zooming in or out.  This gene card issue will likely get fixed when we re-write the Strain Dashboard.","17/Jul/18 4:09 PM;cleduc;[~rwilliams] I tested adding things and zooming in and out, created a new strain, gene mutation etc. and all was well. I am fine to release this because although I won't be sure until it reaches production it certainly it fixes the issue, it doesn't seem to have had a detrimental effect!",17/Jul/18 8:40 PM;rwilliams;[~cleduc] tested this,19/Jul/18 4:58 PM;bwinter;FUTURE REFERENCE: This ticket was part of a hotfix release to fix the gene cards.  [~cleduc] tested.  The ticket was originally cancelled then re-opened then fixed.,,,,,,,,,,,,,,,
Mice List filtering on Genotype is not working,COMA-2589,29248,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,bwinter,bwinter,22/May/18 6:14 PM,20/Aug/18 8:31 AM,04/Sep/18 1:25 PM,20/Aug/18 8:31 AM,,CM - Release 1.2,,,0,,,,,,,"h1. What happened:

# Go to Mice List
# Filter on Mouse Details > Genotype > select a genotype 
# UI does not indicate with a check which selection has been made <- {color:#d04437}UNEXPECTED{color}
# Filter does not return mice with selected genotype <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen:

* When I select a genotype to filter on, I expect the UI to show me which genotype I selected in the filter list
* After selecting a genotype to filter on, I expect the Mice List to filter on mice with that genotype.
",,,,;03/Aug/18 4:30 PM;jjensen;57600,;15/Aug/18 6:06 PM;rwilliams;300,;16/Aug/18 11:09 AM;bwinter;3600,;20/Aug/18 8:31 AM;jcox;3600,,,,,,0,65100,,,0,65100,,,,,,,,,,,,,22/May/18 6:14 PM;bwinter;BUG - Genotype filter not working on Mice List - 2018-05-22 18_11_05-.png;https://transnetyx.atlassian.net/secure/attachment/26897/BUG+-+Genotype+filter+not+working+on+Mice+List+-+2018-05-22+18_11_05-.png,16/Aug/18 11:08 AM;bwinter;PASSED - Can filter on genotype and another filter (status = dead) - 2018-08-16 10_44_56-.png;https://transnetyx.atlassian.net/secure/attachment/27397/PASSED+-+Can+filter+on+genotype+and+another+filter+%28status+%3D+dead%29+-+2018-08-16+10_44_56-.png,16/Aug/18 11:08 AM;bwinter;PASSED - Can filter on many genotypes across genes - 2018-08-16 10_32_48-.png;https://transnetyx.atlassian.net/secure/attachment/27394/PASSED+-+Can+filter+on+many+genotypes+across+genes+-+2018-08-16+10_32_48-.png,16/Aug/18 11:08 AM;bwinter;PASSED - Can filter on more than one genotype within a gene  - 2018-08-16 10_32_18-.png;https://transnetyx.atlassian.net/secure/attachment/27393/PASSED+-+Can+filter+on+more+than+one+genotype+within+a+gene++-+2018-08-16+10_32_18-.png,16/Aug/18 11:08 AM;bwinter;PASSED - can filter on genotype and another filter (strain = Strain 13wY) - 2018-08-16 10_42_04-.png;https://transnetyx.atlassian.net/secure/attachment/27395/PASSED+-+can+filter+on+genotype+and+another+filter+%28strain+%3D+Strain+13wY%29+-+2018-08-16+10_42_04-.png,16/Aug/18 11:08 AM;bwinter;PASSED - filtering on multiple genotypes within a gene returns all mice who has that genotype on that gene for their strain - 2018-08-16 10_34_36-.png;https://transnetyx.atlassian.net/secure/attachment/27392/PASSED+-+filtering+on+multiple+genotypes+within+a+gene+returns+all+mice+who+has+that+genotype+on+that+gene+for+their+strain+-+2018-08-16+10_34_36-.png,16/Aug/18 11:08 AM;bwinter;PASSEED - Can filter by genotype within a gene - 2018-08-16 10_31_37-.png;https://transnetyx.atlassian.net/secure/attachment/27389/PASSEED+-+Can+filter+by+genotype+within+a+gene+-+2018-08-16+10_31_37-.png,"16/Aug/18 11:08 AM;bwinter;UNEXPECTED - Filtering on a genotype that is common across multiple genes (eg XX, Inconclusive) shows list of mice for all matches not just for matches within that Gene - 2018-08-16 10_39_39-.png;https://transnetyx.atlassian.net/secure/attachment/27396/UNEXPECTED+-+Filtering+on+a+genotype+that+is+common+across+multiple+genes+%28eg+XX%2C+Inconclusive%29+shows+list+of+mice+for+all+matches+not+just+for+matches+within+that+Gene+-+2018-08-16+10_39_39-.png",16/Aug/18 11:08 AM;bwinter;UNEXPECTED - Filtering on mice with Inconclusive as genotype for Gene12 returns all mice with Inconclusive as genotype regardless if Gene12 is in mouse strain -2018-08-16 10_35_20-.png;https://transnetyx.atlassian.net/secure/attachment/27390/UNEXPECTED+-+Filtering+on+mice+with+Inconclusive+as+genotype+for+Gene12+returns+all+mice+with+Inconclusive+as+genotype+regardless+if+Gene12+is+in+mouse+strain+-2018-08-16+10_35_20-.png,16/Aug/18 11:08 AM;bwinter;UNEXPECTED - Filtering on mice with WT as genotype for Gene1 returns all mice from any gene with WT found in the genotype - 2018-08-16 10_36_33-.png;https://transnetyx.atlassian.net/secure/attachment/27391/UNEXPECTED+-+Filtering+on+mice+with+WT+as+genotype+for+Gene1+returns+all+mice+from+any+gene+with+WT+found+in+the+genotype+-+2018-08-16+10_36_33-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jjensen,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-15T18:09:30.105-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,rwilliams,,,Unassigned,,bwinter,0|i00xsn:,,,,,,New Product/Feature,,YX Connect,2018-08-01 13:37:03.803,"22/May/18 6:15 PM;bwinter;[~jmedlock], [~cleduc], here is that BUG where the genotype filter is not working on the Mice List.  It is in unplanned at standard priority.  Please feel free to change either.",01/Aug/18 8:37 AM;jjensen;Discovered while working on another ticket.,"03/Aug/18 4:31 PM;jjensen;[~bwinter], I have changed this to Peer Review, but because there is no associated branch, I am not sure if there is anything else I need to do here.  Suggestions?","03/Aug/18 4:34 PM;rwilliams;[~jjensen]  Add this ticket into the description of the pull request for the other ticket  
","06/Aug/18 3:04 PM;rwilliams;[~bwinter] [~jjensen] Isn't there a ""This ticket is fixed by this other ticket""?",06/Aug/18 3:20 PM;bwinter;[~rwilliams] This ticket is fixed by COM-2647.,"16/Aug/18 11:09 AM;bwinter;[~cleduc], [~apacio], heads up!  [~jjensen] fix for genotypes works really well!  There are a few unexpected things that happened that are not problematic at all, but I just wanted to let you know about.  See screenshots below.

 !UNEXPECTED - Filtering on a genotype that is common across multiple genes (eg XX, Inconclusive) shows list of mice for all matches not just for matches within that Gene - 2018-08-16 10_39_39-.png|thumbnail! 
 !UNEXPECTED - Filtering on mice with WT as genotype for Gene1 returns all mice from any gene with WT found in the genotype - 2018-08-16 10_36_33-.png|thumbnail! 
 !UNEXPECTED - Filtering on mice with Inconclusive as genotype for Gene12 returns all mice with Inconclusive as genotype regardless if Gene12 is in mouse strain -2018-08-16 10_35_20-.png|thumbnail! ","16/Aug/18 11:16 AM;cleduc;[~bwinter], [~apacio], [~jjensen] Thanks Bryan! Looks like we need to be sure that we say they should first filter by strain and then by genotype. They will expect to be filtered by both if they select under a strain and genotype but that's OK. This is a quick learn. 
There is utility for searching for a specific genotype and wanting to see all strains that contain it...so that's good in a way!
","16/Aug/18 11:52 AM;jjensen;[~bwinter], [~cleduc], this is all due to the fact that the filtering is done on text, not values.  There is no context on the filter in the Kendo grid.  Instead, it only asks if the text in the column contains the text selected from the list.  In pointing this out, you have revealed a feature that cannot be anticipated, but could be implemented within the C# code behind the update to this kind of page that will happen sometime in the future.  :)",17/Aug/18 11:04 AM;bwinter;Retested after silent QA push on 2018-08-17 @ 9:47 AM.  Testing still passed.,,,,,,,,,,,,,,,,
Keep Dates consistent between iOS and Web,COMA-2573,29213,,Story,Ready for QA,COMA,Colony Manager,software,admin,,,3 Standard,Coding Done,,jcox,jcox,10/May/18 10:00 AM,04/Sep/18 11:08 AM,04/Sep/18 1:25 PM,30/Aug/18 2:26 PM,,CM - Release 1.2,,,0,,,,,,,"_As a user, I want dates displayed consistently between the web and iOS._

+Acceptance Criteria:+
* User always sees dates relative to their Group's timezone and those dates should match between web and iOS.
* Include timezone identifier whenever datetimes are shown.
* For example, currently if a user saves data on the web after 6 PM central on 1/11/2018, then it gets recorded as 1/12/2018 UTC, and then presented to the user moving forward as 1/12/2018.",,,,;15/Aug/18 3:14 PM;admin;3600,;29/Aug/18 12:52 PM;jadhikari;144000,;30/Aug/18 2:26 PM;admin;600,,,,,,,0,148200,,,0,148200,,COMA-2690,,,,,,,,,,,29/Jun/18 10:52 AM;cleduc;to avoid.png;https://transnetyx.atlassian.net/secure/attachment/27084/to+avoid.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,admin,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-09-04T11:24:31.263-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00rgi:i,,,,,,Tech/Engineering,,YX Connect,2018-08-15 19:52:44.351,15/Aug/18 2:52 PM;cleduc;[~admin] Should this get reassigned since you’re on other stuff or do we think the iOS ticket will cover it? The most important date to never vary is mouse DOB.,"15/Aug/18 3:16 PM;admin;[~jadhikari]

This is the Date/Timezone ticket we discussed. The commits on this branch are the common methods to convert UTC to locality adjusted date and vice versa. Let me know if you need any clarification on the goal.",,,,,,,,,,,,,,,,,,,,,,,,
Include Breeding Offspring Strain when filtering cages by strain,COMA-2542,29145,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,tposchel,tposchel,18/Apr/18 9:38 AM,12/Jul/18 10:07 AM,04/Sep/18 1:25 PM,12/Jul/18 10:07 AM,,CM - Release 1.2,,,0,,,,,,,"Currently, when filtering cages by strain, only mice and litters are included in the search. We would like to add the ability to show cages whose breeders are producing an offspring strain other than their own strains. If a litter exists in the cage then the cage will be returned by the filter, but if no litter is present, then the filter will not show the cage.

Example: Male breeder is Strain 1. Female breeder is Strain 2. Breeding.OffspringStrain is Strain 3. Both mice are in the same cage (cage ABC). When filtering cages by ""Strain 3"", ""Cage ABC"" will NOT be returned in the results. After a litter is added to cage ABC, then the cage will be included in the filter results.

Note: I've attached some images from a production account (Levine, Michael at UCLA). They have several breedings with offspring strain of ""(Line 31000..."". 2 of these breedings do not have any litters yet and they are unable to find them when filtering cages. The iOS app had the same issue but has recently added that query when filtering cages by strain. See CMI-261.

*Logic from iOS (pseudo code because the actual code is harder to read because it is very specific to the data storage on iOS)*
When filtering cages by Strains (\[theStrainIds\])
* Include cages that have an associated litter with that strain (where any cage.litters.offspringstrainid IN \[theStrainIds\])
* Include cages that have an associated mouse with that strain (where any cage.mice.strainid IN \[theStrainIds\])
* Include cages that have an associated breeding with that strain (where any cage.mice.breedingParents.breeding.offspringstrainId IN \[theStrainIds\]).
** The iOS app does not currently exclude INACTIVE breedings because we couldn't figure out how to do it. However, it seems unlikely that a breeder would be in multiple breedings of different offspring strains AND it is not common to keep a breeder alive after they are retired. Generally they are euthanized after being retired. 

h2. *+Web Implementation Note:+*
Per instruction above the web DOES NOT exclude Inactive breedings either, *BUT* if needed or wanted, the web can only filter on Active breeding offspring strains.
",,,,;19/Apr/18 5:00 PM;rjonakin;28800,;23/Apr/18 3:28 PM;admin;600,;24/Apr/18 7:33 PM;bwinter;1800,;12/Jul/18 10:07 AM;rwilliams;300,,,,,,0,31500,,,0,31500,,,,,,,,,,,,,24/Apr/18 7:33 PM;bwinter;PASSED - Filtering on offspring strain WITH LITTER IN CAGE includes cage in filtered results - 2018-04-24 19_24_11-.png;https://transnetyx.atlassian.net/secure/attachment/26803/PASSED+-+Filtering+on+offspring+strain+WITH+LITTER+IN+CAGE+includes+cage+in+filtered+results+-+2018-04-24+19_24_11-.png,24/Apr/18 7:33 PM;bwinter;PASSED - Filtering on offspring strain WITHOUT LITTER IN CAGE includes cage in filtered results - 2018-04-24 19_30_38-.png;https://transnetyx.atlassian.net/secure/attachment/26804/PASSED+-+Filtering+on+offspring+strain+WITHOUT+LITTER+IN+CAGE+includes+cage+in+filtered+results+-+2018-04-24+19_30_38-.png,18/Apr/18 9:35 AM;tposchel;Prod_Levine_BreedersFrom31011_InACage.png;https://transnetyx.atlassian.net/secure/attachment/26670/Prod_Levine_BreedersFrom31011_InACage.png,18/Apr/18 9:35 AM;tposchel;Prod_Levine_BreedingStrain_31000.png;https://transnetyx.atlassian.net/secure/attachment/26669/Prod_Levine_BreedingStrain_31000.png,18/Apr/18 9:35 AM;tposchel;Prod_Levine_Missing_Strain_on_CageFilter.png;https://transnetyx.atlassian.net/secure/attachment/26668/Prod_Levine_Missing_Strain_on_CageFilter.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,rjonakin,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-04-23T15:25:34.701-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,admin,,,Unassigned,,bwinter,0|i00x5b:,,,,,,New Product/Feature,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Send Order Confirmation Email,COMA-2460,29003,,Story,Peer Review,COMA,Colony Manager,software,admin,,,2 Important,,rjonakin,jcox,jcox,22/Mar/18 10:18 AM,24/Aug/18 2:54 PM,04/Sep/18 1:25 PM,,,CM - Release 1.3,,,0,,,,,,,"_As a user, when I submit an order through Colony I need to receive an Order Confirmation Email so that I know that my order is placed._

+Acceptance Criteria+:
* User receives an Order Confirmation Email.
* The email contains pricing info for the order.
* The email contains branding based on the Colony system.
* The email is sent to the User who placed the order as well as the Group Owner.",,,,;24/Aug/18 2:54 PM;admin;18000,,,,,,,,,0,18000,,,0,18000,,,,,,,COMA-2462,COMA-2461,,,,,23/Mar/18 4:10 PM;tpatterson;Order Confirmation.html;https://transnetyx.atlassian.net/secure/attachment/26391/Order+Confirmation.html,22/Mar/18 10:57 AM;bwinter;QO-branded - Order Confirmation Email - 2018-03-22 10_55_32.png;https://transnetyx.atlassian.net/secure/attachment/26373/QO-branded+-+Order+Confirmation+Email+-+2018-03-22+10_55_32.png,22/Mar/18 10:59 AM;qevans;Transnetyx.com - Thank You For Your Order (T18075025).msg;https://transnetyx.atlassian.net/secure/attachment/26374/Transnetyx.com+-+Thank+You+For+Your+Order+%28T18075025%29.msg,23/Mar/18 4:10 PM;tpatterson;orderconfirmation.jpg.png;https://transnetyx.atlassian.net/secure/attachment/26392/orderconfirmation.jpg.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,admin,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-24T14:56:00.019-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,COMA-1296,,,,,,,,,,,None,,,rjonakin,,,Unassigned,,bwinter,0|i00w8v:,,,,,,New Product/Feature,,,2018-03-22 15:35:47.752,"22/Mar/18 10:18 AM;jcox;Assigned this to [~tpatterson] as we'll need mockups, as discussed in standup this morning.","22/Mar/18 10:35 AM;tpatterson;I'll be using the email template code from COMA-2047 to create a html/css wireframe. For consistency/reference, [~qevans], [~bwinter], or [~wwyatt], could one of you post a screenshot of what QuickOrder confirmations look like?","22/Mar/18 10:54 AM;bwinter;[~tpatterson], [~qevans], [~wwyatt]  I added a screenshot of QO-branded order-confirmation email.

!QO-branded - Order Confirmation Email - 2018-03-22 10_55_32.png|thumbnail! 

Thanks [~qevans] for adding the MSG version!","23/Mar/18 4:12 PM;tpatterson;[~qevans]. [~bwinter], [~jcox] - I've attached some html and a screenshot of my take on what we could do in regards to an order confirmation email.

To see what it would look like in the browser or in an email app, download the html file and open it up.","16/Apr/18 2:15 PM;rjonakin;[~jcox]
[~tpatterson]
[~jmedlock]
[~admin]
I just ran across this ticket and was not aware of it's existence. I spoke with Chris and did some work a few weeks back that did some order processing for Colony orders submitted to Quick Order. In short, this work will send the Quick Order confirmation of an order email to any user that submits an order via Colony. So maybe this can be held off and not a 1.1 ticket.

this work is attached to ORMA‌-536 



I am sure everyone likes the new email template much better, I do as well. We can take this new email and actually have quick order send out the same new order confirmation email as well, without much added effort, if any... Up to you guys.","17/Apr/18 8:42 AM;jcox;[~rjonakin] [~tpatterson] [~jmedlock] [~admin]
As long as the user does receive an email confirmation then I think you're right.  We're covered for 1.1 and I will move this ticket out.","29/May/18 4:30 PM;bwinter;[~rjonakin], we were just talking about this ticket in my office.   This is the ticket that I have not tested yet, but I see why reading from your comments and Jeff's.  This ticket has been moved to Colony 1.3.",,,,,,,,,,,,,,,,,,,
Sync iOS and Web counts,COMA-2424,28943,,Bug,Production,COMA,Colony Manager,software,admin,,,2 Important,Done,jmedlock,rwilliams,rwilliams,08/Mar/18 7:38 AM,12/Jul/18 2:04 PM,04/Sep/18 1:25 PM,10/May/18 3:44 PM,,CM - Release 1.2,CM - Release 1 (MVP),,0,,,,,,,"Reported by [~jmedlock]:
We still have 2 potential problems with counts of active/alive mice/litters. We almost have this!!!

Staging environment/Bush group

In the web, 326 mice are reported alive on dashboard and list. The counts on the strain cards state 327. iOS states 327. The total mouse count for bush group in staging is 906 (matches iOS list). The database says 906 total. The mouse list in web states with 0 filters, 900 mice.

Staging environment/Sandbox group

The iOS shows Litter 20 has 18 pups, 7 dead, 11 missing. 2 male, 2 female. The male and female mice are marked dead or missing but the iOS counts this litter as active. The web does not. The number of mice dead or missing = the total born, this litter should not be active.
",,fdobjenschi,,;15/Mar/18 1:04 PM;rwilliams;3600,;20/Mar/18 3:20 PM;rwilliams;28800,;21/Mar/18 12:37 PM;bkoch;900,;12/Jul/18 2:04 PM;rwilliams;300,,,,,,0,33600,,,0,33600,,,,,,,COMA-2627,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rwilliams,rwilliams,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-03-15T13:54:38.783-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,None,,,bkoch,,,Unassigned,,jmedlock,0|i00vvr:,,,,,,New Product/Feature,,,2018-03-12 11:42:24.833,"12/Mar/18 6:42 AM;fdobjenschi;[~tposchel][~rwilliams][~jmedlock]
The issue with Litter count from Sandbox group it's fixed now on iOS app.
The first one Bush group seems to be on web ... Can anyone confirm ?",12/Mar/18 8:15 AM;jmedlock;[~fdobjenschi] correct the first one is on the web. I will verify the iOS litter counts. Thanks!,"12/Mar/18 8:17 AM;fdobjenschi;[~jmedlock]
For this i need to push the changes into an new build on staging but i think will be good [~tposchel] to review my changes , this should be quick .",13/Mar/18 3:38 PM;tposchel;[~fdobjenschi] The changes look good from what I can tell. I think we can hold off on the push to staging until we lump a few more changes in.,"14/Mar/18 2:42 AM;fdobjenschi;[~tposchel]
Ok, we will keep it for a next release .",15/Mar/18 1:07 PM;rwilliams;closed by accident,21/Mar/18 12:23 PM;bwinter;[~bkoch] This ticket was released today but is still in PEER REVIEW status.  Is it ready to be sent to QA status?,"21/Mar/18 12:43 PM;bkoch;[~bwinter], yep, just moved it over, looks good.","19/Jun/18 4:33 PM;cleduc;[~bwinter] UCSF sees different counts in dashboard mice in cage graph vs. cage page filter on 6+ mice. 
Do you see this as fixed in staging? 

Here is their recent statement and then the steps. Confirmed this is still an issue. Using the exact same steps I looked at the data for the Wilkerson group and it doesn't match up either. The dashboard is showing 7 cages with 6+ mice, while I could only find 1 on the cage map. My guess would be that cages containing pups over a certain age (21 or 28 days) are throwing the data off from the dashboard. Criteria for what constitutes an adult mouse should be the same on the dashboard and cage map. 

Steps:
from Dashboard, within ""cages"" red box...hold mouse over one of the bars in the ""mice in cage"" graph...I see ""6+ mice (9)""...which I understand to mean I have 9 cages containing 6+ mice. I want to see information about these cages, so I click on the cage tab at the top. Firstly I can only see my cages one rack at a time. So I filter the first rack to see cages containing 6+ mice, and I see one cage come up. i select a second rack...I have to reset the filter for 6+ mice, 0 cages come up. I select my third rack, reset the filter for 6+ mice, and 3 cages come up. Total of cages with 6+ mice=4. Where is the 9 coming from from the dashboard??","25/Jun/18 10:51 AM;bwinter;[~cleduc], Okay.  I see same problems in *Staging > Wilkerson Lab*.  I am not quite sure what is going on.  It looks like possibly several separate issues.  Below is a table of differences and the cages that are being counted differently.  What else would like me to investigate?

CC: [~jmedlock]

h1. Table of Differences in Counts across Cage Graph (in web), iOS Cage Map Filter, and Web Cage Map Filter

|| Mice per Cage || Cage Graph || iOS - Cage Map Filter || Web - Cage Map Filter Count || Cages of Interest ||
| *0 mice*    | 3   | 3   |  3 | |
| *1 mouse* | 36 | 36 | {color:#d04437}*38*{color} | Note 1 |
| *2 mice*    | 30 | 30 | {color:#d04437}*33*{color} | Note 2 |
| *3 mice*    | 22 | 22 | {color:#d04437}*23*{color} | Note 3 |
| *4 mice*    | 21 | 21 | 21 | |
| *5 mice*    | 18 | 18 | 18 | |
| *6+ mice* |   6 |   6 |    {color:#d04437}*0*{color} | Note 4 |

h1. Notes

* *Note 1* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 1 mouse
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *D4*
*** iOS Cage Map filter shows 3 mice in Cage
*** Web Cage Map filter shows 1 mouse in Cage
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B9*
*** iOS Cage Map filter shows 1 breeder with active litter of ten 20-week old, unweaned pups mice in Cage
*** Web Cage Map filter shows 1 retired breeder (broken heart) with active litter of seven 20-week, weaned pups in Cage
* *Note 2* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 2 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B2*
*** iOS Cage Map filter shows 3 mice in Cage
*** Web Cage Map filter shows 2 mice in Cage
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *A5*
*** iOS Cage Map filter shows 6+ mice in Cage
## _Room_ MCB-208 > _*Rack_ 2* > _Position_ *A5*
*** iOS Cage Map filter shows 6+ mice in Cage
* *Note 3* - *_Cage Graph_* and *_iOS Cage Map Filter_* do NOT count these cages as only having 3 mice
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *G3*
*** iOS Cage Map filter shows 6+ mice in Cage
* *Note 4* - *_Web - Cage Map Filter_* does NOT count these cages as having 6+ mice
## _Room_ *Unassociated* > _Cage ID_ *2986544*
*** _instead Web - Cage Map Filter only counts this cage as having 3 mice_
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *A5* 
*** Web - Cage Map Filter only counts this cage as having 2 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *E5*
*** Web - Cage Map Filter only counts this cage as having 3 mice
## _Room_ MCB-208 > *_Rack_ 1* > _Position_ *B9*
*** Web - Cage Map Filter only counts this cage as having 1 mouse
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *A5*
*** Web - Cage Map Filter only counts this cage as having 2 mice
## _Room_ MCB-208 > *_Rack_ 2* > _Position_ *G3*
*** Web - Cage Map Filter only counts this cage as having 3 mice
","25/Jun/18 11:50 AM;bwinter;[~cleduc], Heads up: I was talking to [~jmedlock] about this ticket, and he said that Wilkerson group likely has data issues associated with it. ","25/Jun/18 12:40 PM;rwilliams;[~cleduc] [~bwinter] Do we need to assign a dev some time to look into these issues? Also, This ticket was focused on the dashboard counts and the various list views and didn't involve making any changes to the cage counts or the cage map filters/views. I mention that so that you understand that there were no code changes involved with the previous work on this ticket that should have changed these numbers that you are now talking about. I personally think that a new ""bug"" ticket should be created for this work.","25/Jun/18 1:04 PM;cleduc;[~rwilliams][~bwinter][~jmedlock] I think it is a new ""bug"" ticket and a dev's eyes would really help. They could tell us if it is bad data or a bug and then we can also really research to see where we have remaining count issues. ",,,,,,,,,,,,,
Biopsy/Id counts and filters: Dashboard count and list filter when navigating to litters list,COMA-2398,28906,,Story,Production,COMA,Colony Manager,software,admin,,,1 Critical,Done,,jmedlock,jmedlock,27/Feb/18 4:42 PM,12/Jul/18 2:38 PM,04/Sep/18 1:25 PM,12/Jul/18 2:38 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,,,"_As a user I need the biopsy/ID count on the dashboard and litters list filter to accurate describe what actions have completed on litters_

*Acceptance Criteria*:
* The dashboard biopsy/ID count should not eliminate litters that were weaned and not biopsied
* If all the pups are dead or missing in a litter that needed biopsy, this litter should not be included in the count or show on the filtered list.

NOTES:
The iOS does this already so we need to match what is happening there for ""counts"" consistency.
The user needs to know which actions were performed on a litter at a glance. Currently the web removes litters that were weaned from the active count and so allows users to ""skip"" the biopsy step.
Users should be able to wean and biopsy a litter at any time.

*Dev Notes:*
* Existing logic for biopsy count: Count of litters where (litterIsActive & NotBiopsied & BiopsyNeeded)
** litterIsActive logic: NotDeleted & NotWeaned & HasLivingOffspring
* New logic for biopsy count: Count of litters where (litterNotDeleted & HasLivingOffspring & NotBiopsied & BiopsyNeeded)",,,,;28/Feb/18 4:15 PM;rwilliams;10800,;02/Mar/18 5:20 AM;bkoch;900,;15/Mar/18 8:14 AM;bwinter;60,;12/Jul/18 2:38 PM;rwilliams;300,,,,,14400,0,12060,83%,14400,0,12060,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-12T15:44:51.671-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,bkoch,,,Unassigned,jmedlock,jmedlock,0|i00vlz:,,,,,,New Product/Feature,,,2018-03-15 03:17:43.085,27/Feb/18 4:43 PM;jmedlock;[~jcox] sneaking in 1 small change and assigning to Rich so we can finish getting dashboard and list counts consistent across the web and iOS.,14/Mar/18 10:17 PM;bwinter;[~jmedlock] This ticket was set for Colony 1.2 but is now in the Colony 1.1 code base.  Is it one that you already QA'ed?,15/Mar/18 6:45 AM;jmedlock;[~bwinter] yes it has been QAed. But it is moving before 1.1 it is already in staging.,"22/May/18 10:54 AM;cleduc;If done, great, if not, move to 1.3.",,,,,,,,,,,,,,,,,,,,,,
Display age in weeks when older than 28 days for Dashboard Bar Chart Tooltips,COMA-2393,28894,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,26/Feb/18 11:31 AM,16/Jul/18 4:49 PM,04/Sep/18 1:25 PM,16/Jul/18 4:49 PM,,CM - Release 1.2,,,0,,,,,,,"_As a user, I want to see *bar chart tooltips'* mouse age, litter age, and breeding time (""age"") in days until the 29 day, then from 29 days and beyond, I want to see them in weeks, so that I see age in terms of how we normally talk about them when managing the colony._

+Acceptance Criteria+:
* The Tooltips that display over bar charts on the Dashboard display time in weeks once they represent an item over 28 days in age.
 !barcharttooltip.JPG|thumbnail! ",,,,;22/May/18 9:35 AM;jjensen;28800,;27/Jun/18 6:08 PM;rjonakin;1800,;08/Jul/18 10:20 PM;bwinter;900,,,,,,28800,0,31500,109%,28800,0,31500,,,,,,,,,,,,,08/Jul/18 10:20 PM;bwinter;PASSED - Breeding Panel - tool tips - 2018-07-08 22_15_04-.png;https://transnetyx.atlassian.net/secure/attachment/27091/PASSED+-+Breeding+Panel+-+tool+tips+-+2018-07-08+22_15_04-.png,08/Jul/18 10:20 PM;bwinter;PASSED - Mice Panel - tool tips - 2018-07-08 22_15_04-.png;https://transnetyx.atlassian.net/secure/attachment/27090/PASSED+-+Mice+Panel+-+tool+tips+-+2018-07-08+22_15_04-.png,26/Feb/18 11:29 AM;jcox;barcharttooltip.JPG;https://transnetyx.atlassian.net/secure/attachment/26024/barcharttooltip.JPG,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jjensen,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-06T14:39:26.085-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rjonakin,,,Unassigned,,bwinter,0|i00vjb:,,,,,,New Product/Feature,,,2018-05-21 19:17:21.213,"21/May/18 2:17 PM;jjensen;[~cleduc] and I spoke about the details in this story and a few changes were made.  First, since Litters should not age beyond 28 days, the current 5-day groupings were left untouched.  Second, we thought it best to have the first aging label for Mice and Breedings to say ""0-27 days"".  The next categories would then say ""4-7 weeks"", ""8-11 weeks"", ""12-15 weeks"", and finally ""16+ weeks"".  The function which breaks these numbers down-{{ColonyManager.Core.Business.GroupService.GetDashboardData()}}-was altered to represent these exact week values.","28/Jun/18 10:20 AM;bwinter;[~jjensen], has a pull request been made against this ticket?  I see that it is READY FOR QA, but it was not release in the last three pushes to QA (May 25th nor June 11th nor June 25th).

* COMA-2620
* COMA-2610
* COMA-2592",28/Jun/18 12:40 PM;jjensen;[~bwinter] I will check.,,,,,,,,,,,,,,,,,,,,,,,
Search all Visible Columns in Breedings and Litters,COMA-2389,28887,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,23/Feb/18 10:31 AM,12/Jul/18 2:38 PM,04/Sep/18 1:25 PM,12/Jul/18 2:38 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,,,"_As a user I want to be able to search Breedings and Litters with the same user experience as I can search for Mice._

+Acceptance Criteria+:
* Breedings and Litters lists are searchable in the same manner as Mice list based on requirements from COMA-2262.

",,,,;26/Feb/18 1:07 PM;bkoch;28800,;26/Feb/18 3:55 PM;rwilliams;300,;13/Apr/18 11:41 AM;bwinter;10800,;12/Jul/18 2:38 PM;rwilliams;300,,,,,72000,31800,40200,55%,72000,31800,40320,,,,,,,COMA-2392,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2018-02-27T16:00:15.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00vhr:,,,,,,New Product/Feature,,,2018-02-26 15:01:58.811,"26/Feb/18 9:01 AM;bkoch;[~jcox], looking into this more, it looks like we can't add more columns or do base filtering on straings and gene mutations.  Do we want to add this functionality in?  If not, maybe we should just apply this advanced filter logic to Breedings and Litters.  What do you think?","26/Feb/18 10:05 AM;jcox;[~bkoch], Great question.  We hadn't considered the fact that the columns in Strains and Gene Mutations weren't dynamic like the others.  That would be a larger effort and it would probably fit in with other improvements to those respective pages.  I'm going to remove Strains and Gene Mutations from the requirements of this ticket so that this effort focuses on just Breedings and Litters.  I'll create a new ticket in Unplanned release to cover future work on Strains and Gene Mutations.

Let me know if there's anything else I can help out with!","15/Mar/18 4:38 PM;bwinter;[~bkoch] Do you know if the code for searching all visible columns of the mice list has been taken out?  It seems like the other day, I could search for ""some strain name"" in the mice list, and the search would find those mice.","29/Mar/18 6:58 PM;bwinter;[~bkoch]  I want to pass this ticket if it was Breedings List, but I can't based on Litters List.

h1. Breedings List

* Searches on current columns - {color:#14892c}PASSED{color}
* Searches on filters - {color:#14892c}PASSED{color}
* A message in search box - {color:#d04437}FAILED{color} 
* Searches on added columns - {color:#14892c}PASSED{color}

h1. Litters List

* Searches on current columns - {color:#d04437}FAILED{color}
** Does not search on current columns with dates (DOB, Biopsy By, Wean By
** Does not search by age
* Searches on filters - {color:#14892c}PASSED{color}
* A message in search box - {color:#d04437}FAILED{color} 
* Searches on added columns - {color:#d04437}FAILED{color}
** Does not search on added date-type columns 
** Does not search on Yes/No columns (Weaned, Needs Biopsy, Needs ID)
** Does not search on active","29/Mar/18 6:59 PM;bwinter;[~jcox], [~bkoch] I don't think there is anything high priority about this ticket that will keep it from production.","02/Apr/18 8:19 AM;bwinter;[~jcox], [~jmedlock] This ticket has not exactly passed testing, but it is lower in priority given the 1.1 push.  How should I handle it?

* Create reworks for 1.1?
* Leave as is, and create reworks for 1.2?
* Leave as is, and create bugs for 1.2 instead of reworks so that they are not sub-tasks of a 1.1 ticket?
* Move entire ticket to 1.2?","02/Apr/18 8:23 AM;bwinter;Update: [~jmedlock] is offsite but messaged me on Teams to create rework for this ticket in 1.1.  

CC: [~jcox]","02/Apr/18 8:41 AM;bwinter;[~jcox] should the Breedings List and Litters List search based on age (in days if before 29 days in weeks after)?

CC: [~bkoch]","02/Apr/18 10:45 AM;jcox;[~bwinter] If I understand the Mice search correctly it is always done in days as that is what the list view always displays, so I would think it should work the same for Litters and Breedings.  Let me know if I'm missing something.","13/Apr/18 11:37 AM;bwinter;[~jmedlock], [~cleduc], [~jcox], [~bkoch], I am going to move this ticket to Ready for UAT.   It has just a few minor issues noted in its sub-task COMA-2493, which I am going to convert to a bug ticket for 1.2.  Let me know if that ticket has any issues that you guys do not feel comfortable going into 1.2.  I think they are reasonable risk.",,,,,,,,,,,,,,,,
Add Cage ID to Cage Map,COMA-2385,28881,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,22/Feb/18 2:04 PM,12/Jul/18 2:40 PM,04/Sep/18 1:25 PM,12/Jul/18 2:40 PM,,CM - Release 1.2,,,0,,,,,,,"_As a user I to see Cage IDs on the Cage Map so that I can more easily organize my work._

+Acceptance Criteria+:
* Cage ID is included on the cage cards within the Cage Map view, at the top of the cage icon left justified against the heart icon that denotes a breeding.  (see attached whiteboard sketch)
* Show the first X number of characters of the CageID with an ellipsis if the string is longer than the UI element.  On Mouse hover show the entire string. 

+Notes+:
* We can increase the size of the Cage UI elements to alleviate screen real estate concerns if needed.  25% size increase may work?
",,,,;09/Mar/18 3:20 PM;jadhikari;7200,;12/Mar/18 2:27 PM;rwilliams;300,;02/Apr/18 12:19 PM;bwinter;600,;12/Jul/18 2:40 PM;rwilliams;300,,,,,72000,63600,8400,11%,72000,63600,8400,,,,,,COMA-2438,,,,,,,22/Feb/18 2:25 PM;jcox;20180222_141950.jpg;https://transnetyx.atlassian.net/secure/attachment/25998/20180222_141950.jpg,02/Apr/18 12:19 PM;bwinter;PASSED - Cage ID on Cage Icon in Cage Map - 2018-04-02 12_14_42-.png;https://transnetyx.atlassian.net/secure/attachment/26495/PASSED+-+Cage+ID+on+Cage+Icon+in+Cage+Map+-+2018-04-02+12_14_42-.png,22/Feb/18 2:08 PM;jcox;cagemap.JPG;https://transnetyx.atlassian.net/secure/attachment/25997/cagemap.JPG,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-03-15T13:34:59.498-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00vgf:,,,,,,New Product/Feature,,,2018-03-09 21:22:44.377,09/Mar/18 3:22 PM;jadhikari;[~rwilliams] : I pushed changes for this ticket into COMA-2335 by mistake.,02/Apr/18 12:20 PM;bwinter;Testing completed.  QA verified.,,,,,,,,,,,,,,,,,,,,,,,,
"Standardize List Views, Add Cage Grid View to all lists",COMA-2364,28857,,Story,Peer Review,COMA,Colony Manager,software,admin,,,2 Important,,rwilliams,jcox,jcox,19/Feb/18 4:21 PM,30/Aug/18 11:20 AM,04/Sep/18 1:25 PM,,,CM - Release 1.2,,,0,,,,,,,"_As a user, I want to be able to click on the Biopsy/ID list, Cull list, Wean list, or a Strain list on the Dashboard and be taken to a view of all relevant cages._

+Acceptance Criteria+:
* A light weight cage view exists that users will see when clicking:
** The bar graphs on the top 4 block elements of the Dashboard UI
** The Cage number on the Strain Cards on the dashboard
** The Cage number on the Strain Dashboard
** The gray bars for Biopsy, Wean, and Cull lists from the dashboard
** When the user clicks on the top Nav bar links for lists, those lists should *not* include the toggle for cage view
* For everything other than the Cage graph control, if any mice that are shown in the list aren't currently in a cage, then the cage view won't show anything for those mice.  If none of the currently listed mice are in cages, then the cage view should show the user a message saying there are no cages to display.

+Developer Notes:+
* Ensure that the cage grid view exists in its own View
* Keep this functionality modular to facilitate future scalability

",,,,"Took a bit longer than expected.  UI work was included.  Pulling data via SQL views a little more difficult than expected, due to the need to match C# code filtering.;30/Aug/18 11:18 AM;jjensen;576000",Code already synced with develop branch.  WARNING: four new SQL Views in this ticket.;30/Aug/18 11:20 AM;jjensen;576000,,,,,,,432000,0,1152000,266%,432000,0,1152000,,COMA-183,,,COMA-2061,,,,,,,,13/Jun/18 1:40 PM;tpatterson;Breedings Map.jpg;https://transnetyx.atlassian.net/secure/attachment/27001/Breedings+Map.jpg,22/Feb/18 1:08 PM;jmedlock;Cage Map Alternative Sketches.jpg;https://transnetyx.atlassian.net/secure/attachment/25989/Cage+Map+Alternative+Sketches.jpg,13/Jun/18 1:40 PM;tpatterson;Colony Map (Mobile) 1 (Selection Made).jpg;https://transnetyx.atlassian.net/secure/attachment/26999/Colony+Map+%28Mobile%29+1+%28Selection+Made%29.jpg,13/Jun/18 1:40 PM;tpatterson;Colony Map.jpg;https://transnetyx.atlassian.net/secure/attachment/26998/Colony+Map.jpg,13/Jun/18 1:40 PM;tpatterson;Elements A.jpg;https://transnetyx.atlassian.net/secure/attachment/27002/Elements+A.jpg,13/Jun/18 1:40 PM;tpatterson;Elements B.jpg;https://transnetyx.atlassian.net/secure/attachment/27000/Elements+B.jpg,13/Jun/18 1:40 PM;tpatterson;Elements C.jpg;https://transnetyx.atlassian.net/secure/attachment/27003/Elements+C.jpg,19/Feb/18 4:18 PM;jcox;T_Cull_ViewCages.jpg;https://transnetyx.atlassian.net/secure/attachment/25914/T_Cull_ViewCages.jpg,19/Feb/18 4:18 PM;jcox;T_Strains_ViewCages.jpg;https://transnetyx.atlassian.net/secure/attachment/25915/T_Strains_ViewCages.jpg,19/Feb/18 4:18 PM;jcox;T_Wean_ViewCages.jpg;https://transnetyx.atlassian.net/secure/attachment/25916/T_Wean_ViewCages.jpg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jjensen,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-30T11:23:31.009-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,,0|i00rgi:,,,,,,New Product/Feature,,,2018-02-21 22:52:36.64,"21/Feb/18 4:52 PM;tpatterson;With the conversation that we had today in the ticket scoring meeting, I'm start doing some research and talking with people on other ways we can technically display this information while keeping things consistent stylistically. After, I'll start drawing out low-fi mockups.",22/Feb/18 9:05 AM;cleduc;I meet with Ryan today just before our meeting and will get some clarity on the use cases here.                         ,08/May/18 9:06 AM;cleduc;Bullet 3 is the key here. It can be a view or actually active in the workbench. ,"13/Jun/18 1:48 PM;tpatterson;Mockups that were shown off in the most recent design meeting have been uploaded. Just to clarify, currently there are small inconsistencies within the some of the mockups. The elements within the mockups are subject to change after communicating with the assigned developer.","29/Jun/18 9:14 AM;jjensen;[~tpatterson], the assigned developer speaks:  I submit that on the cage card, the data for Building, Room, Rack, and Pos be somehow separated by position, color, font, or a combination thereof, to make the location easier to comprehend.  I have spoken.","29/Jun/18 9:25 AM;tpatterson;[~jjensen] haha. Thanks for the comment! Assigned designer speaks: We've played with this and created different cards with this in mind in the past and it has led us down a path of visual chaos. If we can establish that this is a thing (title) and have the most important bit of info (the separated bits below) fall below it, the user will never be confused where this information is. Also, if they really need to learn more or get more information, they should be drilling in to fulfill that need. This is where we have more room to play with position, color, font, etc. Regardless, I'll send you a message on Teams and talk with you a bit more about this.","11/Jul/18 2:12 PM;jjensen;[~tpatterson] , I noticed a small discrepancy between the story text and the images in the mockups. The picture titled “Cave map alternative sketches” shows the transition from a list to a block map of buildings and rooms, to a drill-down into a building, and finally to the workbench. Is this relevant to this ticket? The text from the story seems to indicate that the switch to the cage grid view just shows a grid-aligned array of cage cards, like what we see in the Breedings Map image.  Then, the user can click the same icon location and go back to the list.  Please clarify.","11/Jul/18 3:39 PM;tpatterson;[~jjensen], that low-fi mockup and the two Colony Map mockups aren't necessary to this ticket and should probably be deleted. The scenarios that they address are not expressed in this ticket, but will probably need to be tackled some other time down the line. Regardless, sorry for the confusion and carry on!","24/Jul/18 10:22 AM;jjensen;[~cleduc],[~admin] I just noticed that the dates which are selected in the Kendo grid filter (e.g. DOB) in the mice list come back notated as Zulu, which is Greenwich.  FYI.
","06/Aug/18 4:55 PM;jjensen;[~bwinter], [~cleduc], I want to make a note here that I merged COMA-2647 into this branch because a lot of code from the export effort is needed here.  As such, I uncovered several code conflicts which needed to be fixed.  In the meantime, I also put in a fix on something i had not seen with COMA-2647: adding certain text in the search field(and searching on that) results in an IIS error which states in part that 
{code:java}
""A potentially dangerous Request.Form value was detected from the client...""
{code}
.  An example of a search string which breaks the excel export is this: _<sup>WT/WT</sup>_.  The angle bracket pairs (""<"", "">"") cause this.","10/Aug/18 2:42 PM;jjensen;[~cleduc], [~jcox], [~tpatterson], we need to have a conversation on some further refinements to this ticket.  At this moment, the one thing that comes to mind is the need for some kind of indicator on the CGV that tells the user what they're really looking at.  I mean, if a user clicks on any of the dozens of hotspots on the dashboard, walks away to get coffee, then comes back, they need some indicator on the page which tells them how the cages were selected.

Secondly, we need to say something about what actions can be taken on the data.  There are eyeball icons and checkboxes in the mockups.  Generally, I understand these to be drill-downs selectors.  The drill-down destinations are somewhat intuitive, meaning I probably should go to a mouse edit screen if I click on the eyeball associated with a given mouse record...But, the card selectors seem ambiguous in meaning.  Perhaps we could have buttons in the heading area which provide actions for selected cages.  What those buttons would do, however, is unclear.  I'm just speculating here.

And this is why we need to drive out a few more requirements.  Now, we may end up creating new tickets, but I think at the very least we should decide on some kind of title or heading text that describes the collection of cages.  FWIW, I will include the email thread I began Aug 7th.

{quote}Thanks!  I reviewed the text changes and they look great.  I have no great concern about constructing a new page.  My concerns only had to do with a conceptual tracking of where the user is.  In other words, there is currently nothing describing the page.  What the breadcrumbs will probably show for all cage maps, regardless of where one clicks, will be “HOME > CAGE VIEW”.  The URL will be {{host/CageView/Index}} or maybe {{host/CageView/Biopsy}} or something that would indicate the source of the navigational click.  I might be able to get the breadcrumbs to show “HOME > BIOPSY CAGE VIEW” or “HOME > MICE CAGE VIEW” or something similar.  I’d have to research this some more.


From: Jeff Cox 
Sent: Tuesday, August 7, 2018 2:37 PM
To: Jim Jensen <jjensen@transnetyx.com>; Carrie Leduc <cleduc@transnetyx.com>
Subject: RE: COMA-2364 Issue

Hey these are really good questions!

A handful of answers:

•	Search Bar - @Carrie Leduc I believe there wouldn’t be a search bar on this view but I could be mistaken so I’ll defer to you.
•	Description of Parameters of Cage Collection – I’m not 100% sure I follow, but if you mean to show the filter/search criteria that led to that set of cages being displayed, then that’s something we haven’t discussed being present on screen.
•	“New cage grid view exists in its own view” – Yes this means a new page.  Do you have concerns about this?  
•	I think that 2nd bullet point suffered from some poor/hurried editing on my part when we last met to discuss these requirements and I was bouncing all over the text making changes.  I*think* I’ve got it right now, which was to actually delete that point discussing a toggle button, since a subsequent criteria specifies that there isn’t supposed to be a toggle button anymore, compared to our previous thinking on this ticket.  @Carrie Leduc, but please correct me if I’m wrong here.

If you have more questions/concerns, keep them coming.  If we need to jump on a call to discuss in more depth let me know.


From: Jim Jensen 
Sent: Tuesday, August 7, 2018 2:23 PM
To: Carrie Leduc <cleduc@transnetyx.com>; Jeff Cox <jcox@transnetyx.com>
Subject: COMA-2364 Issue

Folks, I think that there needs to be another round of driving out requirements on this ticket.  As I get into it, I realize that there is no actual description of the page, only a vague mention of a “light weight cage view”.  Is there a search bar?  Should there be a description somewhere of the parameters of the cage collection?  When the ticket says “the cage grid view exists in its own View”, that means I am designing a new web page, and the navigation will generally reveal very little—if anything—about where the page came from.

There is also some wording that needs to be clarified with the 2nd main bullet point under Acceptance Criteria.
{quote}","13/Aug/18 1:41 PM;jjensen;Another issue:

According to the Acceptance Criteria, it states in part:

{quote}o	If any mice that are shown in the list aren't currently in a cage, then the cage view won't show anything for those mice. If none of the currently listed mice are in cages, then the cage view should show the user a message saying there are no cages to display.{quote}

But, there is a case where this criterium makes no sense:  The Cages chart reports, in its first column, the number of cages with 0 mice in them.  This begs the question: what do we do about this condition?

I see two options here:
# Either remove the CGV link from the “cages with 0 mice” portion of the cages chart, or
# Show them anyway, since there may be a need to know which cages are empty.

In either case, the story needs to be edited.

FWIW, this is going to end up being the earliest blocker for me.  I can continue with making sure strains, mice, breedings, and litters all work with the CGV, but if we pick option “2” from the list, I will need to make a fundamental change to the SQL code and then account for 0-mice cages for the rest of the conditions.

","30/Aug/18 11:18 AM;jjensen;Took a bit longer than expected.  UI work was included.  Pulling data via SQL views a little more difficult than expected, due to the need to match C# code filtering.",30/Aug/18 11:20 AM;jjensen;Code already synced with develop branch.  WARNING: four new SQL Views in this ticket.,,,,,,,,,,,,
Mouse Upload/Import: Worker Process,COMA-2338,28830,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,13/Feb/18 9:57 AM,29/Aug/18 12:52 PM,04/Sep/18 1:25 PM,03/Aug/18 9:57 AM,,CM - Release 1.2,,,0,,,,,,,"_As a user uploading mouse data, I need the Colony system to process the data I have uploaded so that my Mice are added to my colony._

+Acceptance Criteria+:
* As the mice are imported, if they have a parent ID, then create the necessary breedings and litters for mice that have the same parent IDs and birthday.  
* Any parents that have a death date should have their breedings retired.
* If we can't match the imported mouse Strain with an existing Strain, then error out to fallout table.
* If parent ID is present but doesn't match an existing Mouse, then error out to fallout table.
* Mouse IDs that we import have to be unique.
* [Todo] Required fields for Mouse, Litter, Breeding, Cage need to be identified and populated by input data, including default values.
* -{color:#d04437}Use the existing Notes table(s) to help the user understand data that was imported but is missing some data.  (for example, a mouse was added that didn't have parents listed){color}-
* If the user imports a mouse with a cage ID and that cage ID doesn't exist in our system, then we need to create that cage without room/rack info.  If the cage already exists then we just add the mouse to that cage.
* Add a flag on the Breedings, Litters, -{color:#d04437}Cages{color}- tables to indicate that records were imported through this process.
* Provides error handling when encountering bad data.  Bad data rows (errored out) are stored in a ""fallout"" table that is grouped by error type.  
* {color:#d04437}-Notifies user when import is complete.-{color}

+Notes+:
Order of precedence for creating Mice records:
* Start with Mice with blank Parent IDs
* Order by Birth Date and import Oldest to Youngest
* User can view Fallout table and make adjustments for reprocessing those rows.

+Scenario+:
*Given* I am importing mice with this process
*When* a mouse has a parent ID that doesn't exist,
*Then* it should go into the fallout table.
*And* If that parent ID is imported later on during the first pass of processing
*Then* a second pass of importing the fallout table rows will successfully import the original mouse now.

h1. Attachments


* {{Specifications - Mice Import - COMA-2338.xlsx}}
** Titles and description of column names
** Initial Processing flow
** Questions
** Assumptions
** Data Entities to be created from Mice Import
* {{Various Tests - COMA-2338.xlsx}}
** Rows with expected errors are highlighted in red
** Types of tests per worksheet
*** Test for happy case - everything downloaded with no errors
*** Errors thrown when required fields are missing
*** Errors thrown when column type is not correct (e.g., number given for a date field)
*** Errors thrown when for columns expecting data within some range (boundary testing)
*** Tests for behind the scenes logic (e.g., mouse ID must be unique to import data and mice in colony)
*** Checks for date formatting
* {{Genotype Shorthand and Format - COMA-2338.xlsx}}
** Documents which genotype scenarios get simple shorthand (green cells)
** Documents the genotype format for various scenarios.
* {{Genotype Testing - COMA-2338.xlsx}}
** Rows with expected errors are highlighted in red
** Types of tests per worksheet
*** Tests for system generated genotypes for various scenarios (e.g., {{GeneName<ALLELE1/ALLELE2>}})
*** Tests for simple shorthand (e.g., {{HOM, HET, WT, NCAR, CAR, HEM}})
*** Tests for shorthand with gene-base (e.g., {{GeneName<HOM>}})
*** Tests for case sensitivity
*** Tests for spacing around and within genotype
*** Tests for overwriting genotypes

h1. Developer Notes
* 4/3 added initial definition of input file from [~bwinter]  [^Colony Import - Data Definitions - 4-3-2018.xlsx] 
* Assumptions made by Bryan when he create the input file definition:
** That data definitions lists
*** desired columns
*** brief description of what the column is trying to capture
*** input type
*** example input
** There is one record per mouse
** There are NO records for un-weaned pups
** Entity IDs are different from Entity Names 
*** IDs are unique
*** Names are non-unique
*** I listed IDs as possible alphanumeric strings, but this restriction is not necessary
*** I was unsure how to handle strains IDs (user created vs Transnetyx provided)
*** Strain names would be the names the user gives the strains, which may not be unique.
** From this list we can infer litters (same parents IDs) 
*** How will we infer litter name?
*** How will we infer pup counts at birth? Will missing and dead pups have records in the import?
*** Have we captured the minimum set of litter properties needed to create a litter record in colony?
** From this list we can infer breedings (after inferring litters) 
*** How will we infer breeding active status?
*** How will we infer breeding time?
*** How will we infer breeding name?
*** Have we captured the minimum set of breeding properties needed to create a breeding record in colony?
** From this list, we CANNOT infer history of where mice have been physically (previous cages, racks, rooms)
",,rwilliams,,;13/Jul/18 9:51 AM;rwilliams;1296000,;25/Jul/18 10:48 AM;rwilliams;600,;31/Jul/18 6:05 PM;bwinter;144000,,,,,,576000,0,1440600,250%,576000,0,1440600,,,,,,,COMA-2651,COMA-2339,COMA-2337,,,,04/Apr/18 8:49 AM;jcox;20180323_150200.jpg;https://transnetyx.atlassian.net/secure/attachment/26531/20180323_150200.jpg,04/Apr/18 8:49 AM;jcox;20180323_150207.jpg;https://transnetyx.atlassian.net/secure/attachment/26532/20180323_150207.jpg,24/Apr/18 10:26 AM;cleduc;COMA-2338 - Colony Mouse Import Specifications 04242018cal (02751114xAE394).XLSX;https://transnetyx.atlassian.net/secure/attachment/26794/COMA-2338+-+Colony+Mouse+Import+Specifications+04242018cal+%2802751114xAE394%29.XLSX,26/Apr/18 2:42 PM;rwilliams;COMA-2338 - Colony Mouse Import Specifications 04262018.xlsx;https://transnetyx.atlassian.net/secure/attachment/26811/COMA-2338+-+Colony+Mouse+Import+Specifications+04262018.xlsx,02/Aug/18 11:59 AM;bwinter;Genotype Shorthand and Format - COMA-2338.xlsx;https://transnetyx.atlassian.net/secure/attachment/27274/Genotype+Shorthand+and+Format+-+COMA-2338.xlsx,02/Aug/18 12:13 PM;bwinter;Genotype Testing - COMA-2338.xlsx;https://transnetyx.atlassian.net/secure/attachment/27276/Genotype+Testing+-+COMA-2338.xlsx,28/Feb/18 2:46 PM;rwilliams;IMG_0821.JPG;https://transnetyx.atlassian.net/secure/attachment/26089/IMG_0821.JPG,02/Aug/18 12:13 PM;bwinter;Specifications - Mice Import - COMA-2338.xlsx;https://transnetyx.atlassian.net/secure/attachment/27275/Specifications+-+Mice+Import+-+COMA-2338.xlsx,02/Aug/18 12:13 PM;bwinter;Various Tests - COMA-2338.xlsx;https://transnetyx.atlassian.net/secure/attachment/27277/Various+Tests+-+COMA-2338.xlsx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=13}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":13,""lastUpdated"":""2018-08-20T13:59:48.801-0500"",""stateCount"":13,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":13,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,COMA-2200,,,,,,,,,,,,,,admin,,,Unassigned,,bwinter,0|i00v53:,,,,,,New Product/Feature,,,2018-03-01 22:30:20.251,"01/Mar/18 4:30 PM;cleduc;A scenario to consider:
The user imports a table with animals and the parent records are there so it creates a breeding and litters with the animals in the table by birthdate. 
Later the user wants to import more records and this import contains another litter belonging to a breeding already in the system. If they list the parent ID's as they are in the system already will the import logic create this new litter under the previously created breeding or create a new breeding with same parent IDs? 
If it creates a new breeding, that is OK if we have a way to then search for those and / or alert and then adjust whatever they need to. (could be wrong parent IDs second time or could be they need to put under existing breeding in which case they could just create that litter in the system). ","06/Apr/18 8:03 AM;rwilliams;[~cleduc] Carrie, see the attached document  [^COMA-2338 - Colony Mouse Import Specification.xlsx]. This is my first stab at getting more detailed requirements together for the mouse import. Would you mind reviewing it when you have a chance and help me with getting this further refined. There are additional tabs within the spreadsheet that spell out some assumptions as well as questions that will need to be answered, etc. If you have any questions about it please let me know.
And for anyone else who may care to see what is going on with the mouse import: [~jmedlock] [~bwinter] [~admin] [~jcox]",09/Apr/18 8:09 AM;cleduc;[~rwilliams] I'm almost done answering/clarifying what I can in the excel doc and will put it out here this AM. Thanks for this!,"09/Apr/18 8:13 AM;rwilliams;[~cleduc] Wow!! Thank you so much. I look forward to seeing your input. I can already see that there are a few challenges that will have to be worked through, but hopefully we can get it all documented and agreed upon and have a great tool! Thank you so much!!","09/Apr/18 8:39 AM;cleduc;[~rwilliams] My input is in purple. 
[^COMA-2338 - Colony Mouse Import Specifications CAL (02737308xAE394) (1).xlsx] 
","24/Apr/18 7:43 AM;rwilliams;[~bwinter] [~cleduc] Hey guys, as I was looking at the spreadsheet I uploaded yesterday I realized that I failed to remove the ""ParentNames"" column from the specification tab. That one should have been deleted because it is being replaced by 3 separate columns, Sire, Dam1 and Dam2. Assume that column does not exist. Thanks! ","24/Apr/18 10:29 AM;cleduc;[~rwilliams] [~bwinter] Hi Rich, I put my input in purple in the new questions and for the entities I added and kept the pink formatting. Let me know if you want to go over it. I think we'll need to talk about genotype again. I wasn't sure where to put anything for that. I know we discussed the export to help them import correctly. ","24/Apr/18 12:42 PM;rwilliams;[~jmedlock] [~cleduc] [~admin] It was mentioned this morning that before we went too much further with this story that we needed to talk to a customer. This is just a reminder to get that in process. Mean while I will continue to refine the requirements and I will go ahead and start working on building out some of the classes and such needed for the import,","24/Apr/18 2:30 PM;cleduc;[~rwilliams][~jmedlock][~admin] I can talk to the customer, Jeff was it, if Jim gives me the contact info. but is he more IT? I know I was on one email with him when I first started. 
also, just remembered...Rich, did you mention leaving the first import page in tact and adding this new one? 
Just made contact and asked for a meeting...","24/Apr/18 3:40 PM;rwilliams;[~cleduc] Thanks for your additional feedback on the spec. If you don't mind you can delete your earlier version of the spreadsheet from the attachments. I guess I don't have enough access to delete attachments that others upload or I would delete it. Also, when you make contact with the customer, they don't need to see that whole spreadsheet, they should only see information from the first tab I would think.",24/Apr/18 3:47 PM;cleduc;[~rwilliams] Done! And I contacted them just letting them know we are enhancing this feature and asking for a discussion since he hasn't imported yet. No visual aids as yet!,26/Apr/18 1:45 PM;rwilliams;[~bwinter] I just uploaded the latest version of the import spec spreadsheet. Please check it out as soon as you have time. I appreciate the help on this!! Much appreciated!!,"25/May/18 5:44 PM;bwinter;[~rwilliams], [~cleduc], [~nnowak], I attached emails from today and that spreadsheet to this ticket for the Mice Import.","30/May/18 10:04 AM;bwinter;[~rwilliams], I uploaded this data

 [^Test - 1 litter with mom and dad - 2018-05-30.xlsx] 

and I got successful import message.  Then when I went to Dashboard, I was given this stack trace error

 !Error thrown - 2018-05-30 10_00_06-.png|thumbnail! 

Group: Colony Example
Key: IQQOG87","01/Jun/18 6:56 AM;bwinter;[~rwilliams], I did another import today using a different file, and I noticed that there are no breeding records on the Breedings List (active nor retired) and not Litter records on the Litters List (active or not).  However, there were some litter records in the cage card, but each litter had zero pups and the same DOB.

 !Same DOB for each litter - 2018-06-01 06_49_51-.png|thumbnail! 

 [^Test - several filial litters - 2018-05-30.xlsx] 

FYI, I know you are out of town on vacation, so I am not expecting any response nor is this slowing me down.  I just wanted to give you a heads up since I will be out when you get back.",05/Jun/18 9:13 AM;rwilliams;[~bwinter] Good news. I looked into the mouse import issues you reported last week regarding 1) the dashboard not working and 2) the breedings and litters not showing up in the breeding and litter lists respectively. I had a bug in the import where is was not saving the offspring settings for the imported breedings and litters. Once I fixed that with a couple lines of code the dashboard worked and the breedings and litters showed up as expected in their lists. The litters are considered in-active because the litter has offspring and it has a weaned date.,"06/Jun/18 9:43 AM;rwilliams;[~bwinter] Yesterday I was finally able to look a little further into your reported issues, and the only thing left was the issue of seeing the litters from the import showing up in cages. Well, after I fixed the bug with the OffspringSettings not being created that I mentioned yesterday, these litters do not show up in cages. As far as I understand it, with the import, we are not creating litters unless they already have physical pups, and we are setting up the imported litter and pups as weaned, and therefore I would not expect to ever see an imported litter in a cage.","13/Jul/18 8:23 AM;bwinter;[~rwilliams], I looked over the acceptance criteria, and I believe your solution satisfies almost all of it!  There were a few things I saw that I wasn't sure about:

* _""Use the existing Notes table(s) to help the user understand data that was imported but is missing some data. (for example, a mouse was added that didn't have parents listed)_ {color:#14892c}""---*the Import2 UI handles this with Imported and Error column but not for the example given, which may not be the desired example anyway, since users may want to import mice without parent IDs.*{color}
* _""Add a flag on the Cages tables to indicate that records were imported through this process.""_{color:#14892c}---*I haven't looked to see if this is being done.*{color}
* _""Notifies user when import is complete""_{color:#14892c}---*Of course, the Import2 UI does this, but I am not sure if worker process will notify the import handler.*{color}

I feel that the Import Worker Process can be marked complete even with these.  Let me know your thoughts.

","13/Jul/18 8:43 AM;rwilliams;[~bwinter] In response to your final review of the acceptance criteria:
# While working through the creation of the mouse importer no one ever defined this feature, In hindsight I should have asked about it, but seeing that this never came up in our many discussions where we defined the desired functionality of the importer I would guess that it ended up not being something that anyone felt was important in the end. We did have some conversations early on about ""if we couldn't match the genotypes, maybe we should just add a note on the mouse"", but I think we worked through that and added rules and such that make the importer much more robust and complete to not have to add notes for things like no parents. If you find that there is a need for this then let's define it and add it.
# All of the pertinent entities that are created by the importer process have 3 new properties: IsImported, DateImported, and ImportedByUserId.  The specifications document (which needs to be attached to this ticket and old ones deleted), details each entity that is created and will also show these new fields that are associated with the import. In other words, I think we have this one covered.
# This criteria really should be part of a different ticket. This ticket defined the actual import processor which doesn't have a direct user interface.","13/Jul/18 12:53 PM;bwinter;[~rwilliams], I agree with each comment you made.

Some to-dos for me on this ticket are to 

# Tidy up ""specs spreadsheet"" (if needed) that you created and shared with me on Teams
# Add relevant summary notes to Description of this ticket
# Write up documentation for Mice Import
# Upload test cases to this ticket
# Upload simple short hand translations spreadsheet
# Remove no longer needed files from this ticket (if any)","02/Aug/18 12:15 PM;bwinter;[~rwilliams], I am done tidying up this ticket.  Take a look and let me know if you would like me to make any other changes.  Some images I do not have access to delete.","02/Aug/18 12:17 PM;bwinter;This ticket was tested during development, which explains the many times it was released to QA.  This ticket was tested with tests in the attached XLSX spreadsheets.",02/Aug/18 12:18 PM;rwilliams;[~bwinter] I'm good with it. I say we leave the images because they show what we started with as a spec...,02/Aug/18 1:39 PM;bwinter;[~rwilliams] Perfect!,,
Mouse Use: Animals marked as dead should not have a use. ,COMA-2335,28826,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,mbender,jmedlock,jmedlock,09/Feb/18 4:18 PM,19/Jul/18 9:57 AM,04/Sep/18 1:25 PM,12/Jul/18 2:54 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,,,"The system should automatically remove the use of a mouse when the mouse is marked dead. 

The system should automatically retire the mouse from any breedings when the mouse is marked dead.

",All,,,;09/Mar/18 12:33 PM;jadhikari;28800,;12/Mar/18 2:07 PM;rwilliams;300,Testing passed on Colony QA1.;20/Apr/18 10:45 AM;mbender;7200,;12/Jul/18 2:54 PM;rwilliams;300,,,,,,0,36600,,,0,36600,,,,,,,,,,,,,20/Apr/18 10:46 AM;mbender;2335-1_001.png;https://transnetyx.atlassian.net/secure/attachment/26740/2335-1_001.png,20/Apr/18 10:46 AM;mbender;2335-2.png;https://transnetyx.atlassian.net/secure/attachment/26738/2335-2.png,20/Apr/18 10:46 AM;mbender;2335-3.png;https://transnetyx.atlassian.net/secure/attachment/26739/2335-3.png,18/Jul/18 5:07 PM;bwinter;Mice_-_2018-07-18_16.50.15.png;https://transnetyx.atlassian.net/secure/attachment/27175/Mice_-_2018-07-18_16.50.15.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-03-15T13:34:59.498-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,QA,,,rwilliams,,,Unassigned,,mbender,0|i00v3z:,,,,"Go to the mouse list
Add columns DOD to the list
Change the filter for status to include dead mice
Notice and dead mice with use of breeder or available.

Dead mice should not have a use.",,,,,2018-04-20 15:45:53.81,20/Apr/18 10:45 AM;mbender;Testing passed on Colony QA1.,12/Jul/18 4:14 PM;cleduc;[~bwinter] I don't see this as working in QA? but it is working in production.,"18/Jul/18 5:14 PM;bwinter;[~cleduc] Where did you see the animal use showing?  I went to Mice List > filtered on dead mice and saw that the use column was blank, so I am not seeing what you are seeing.

 !Mice_-_2018-07-18_16.50.15.png|thumbnail! ",19/Jul/18 9:57 AM;cleduc;[~bwinter] I just retested and it's all fine. I must have messed up. This is all set - thanks!,,,,,,,,,,,,,,,,,,,,,,
Mouse List: Selecting a mouse scrolls the user to top of page,COMA-2324,28807,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,06/Feb/18 9:10 AM,19/Jul/18 8:23 AM,04/Sep/18 1:25 PM,12/Jul/18 2:55 PM,CM - Release 1.1,CM - Release 1.2,,,0,,,,,,,The mouse list should not scroll to the top of the page when selecting a mouse.,All,,,;27/Feb/18 3:24 PM;bkoch;900,;27/Feb/18 4:10 PM;admin;60,;28/Feb/18 11:31 AM;bwinter;60,;12/Jul/18 2:55 PM;rwilliams;300,,,,,,0,1320,,,0,1320,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-27T15:56:25.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00uzr:,,,,"Go to mouse list
Select a mouse by left clicking
observe the page scrolls to top",,,,,2018-07-12 21:26:18.277,"12/Jul/18 4:26 PM;cleduc;[~bwinter] [~jmedlock] this is fine in production and QA but there is a different thing happening. 
In QA and Production:
go to mouse list
DO NOT SCROLL
Click on a record that is visible
Screen jumps and animal is not selected
reselect - all is well after this

Do same but scroll down first before picking animal - no problem
Do I enter a bug or is it part of this ticket?","12/Jul/18 4:42 PM;jmedlock;[~cleduc] That was the bug we were trying to fix when we created the scroll to the top of the page thing. [~bwinter] The lists act differently also if you have a litters list that is longer or breeding list.

We need a new ticket to address this issue.","18/Jul/18 5:43 PM;bwinter;[~cleduc], [~jmedlock], I created a bug ticket here COMA-2644 for the issue [~cleduc] found in the comment above.

[~cleduc], do you want the litters list, mice list, and breedings list to behave the same when selecting a record, or is there a good reason to have them behave differently?

* *Mice List* - selecting mice records does *not* automatically scroll list back to top
* *Litters List* - selecting one litter record automatically scrolls list back to top
* *Breedings List* - selecting a breeding immediately opens breeding record modal, and breeding list automatically scrolls back to the top behind the modal.","19/Jul/18 8:23 AM;bwinter;[~cleduc] I added two stories to UNPLANNED for the Litters List and Breedings List.

* COMA-2648 - stop auto scrolling for Litters List
* COMA-2649 - stop auto scrolling for Breedings List",,,,,,,,,,,,,,,,,,,,,,
Transferring Litters ,COMA-2321,28793,,Story,Testing FAILED,COMA,Colony Manager,software,admin,,,4 Helpful,,cleduc,jcox,jcox,01/Feb/18 9:33 AM,07/Aug/18 11:30 AM,04/Sep/18 1:25 PM,,,Unplanned,,,0,,,,,,,"_As a user I need to be able to transfer litters, even before pups are added, so that I can keep the Colony application in sync with my real world colony._

+Acceptance Criteria+:
* User is able to mark a litter as transferred from 3-dot menu of the Litter card view.
* -User is able to mark a litter as transferred from 3-dot menu of the Litter Workbench.-
* -User is able to mark individual pups as transferred from 3-dot menu of the Litter Workbench.-
* -If the user transfers a litter that does not have pups generated, then we have to add the pup records.-
* Transferred litters should no longer show as active.
* When a user transfers litters, litter counts for strains, breedings, and cages should be accordingly decremented (where applicable).

See screenshots of these 3-dot menus for reference.

----

[Transferring pups is not a transfer litter function.] -cs
[Marking a litter as transferred from litter workbench still allows the user to make litter workbench changes (id, biopsy, wean, mark dead, etc.).  See comments for more discussion.] - bw 2018-07-31
[There are conflicts on Litter Workbench so that if you transfer pups from the Offspring 3-dot menu, the litter workbench is not updated of this change, so this req needs to be removed as well.  See comments for more discussion.] - bw 2018-07-31
",,,,;18/May/18 9:45 AM;jjensen;86400,;11/Jul/18 12:16 PM;jjensen;14400,;25/Jul/18 11:14 AM;rwilliams;1800,;31/Jul/18 5:28 PM;bwinter;10800,;01/Aug/18 2:10 PM;bwinter;60,,,,86400,0,113460,131%,86400,0,113460,,,,,,,CMI-266,,,,,,31/Jul/18 6:04 PM;bwinter;PASSED WITH RESERVATIONS - Litters can be transferred - 2018-07-31 17_53_09-.png;https://transnetyx.atlassian.net/secure/attachment/27269/PASSED+WITH+RESERVATIONS+-+Litters+can+be+transferred+-+2018-07-31+17_53_09-.png,09/May/18 12:15 PM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/26854/image001.png,10/Jul/18 11:32 AM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27114/image001.png,11/Jul/18 12:24 PM;jjensen;image001.png;https://transnetyx.atlassian.net/secure/attachment/27121/image001.png,10/Jul/18 10:58 AM;jjensen;image002.png;https://transnetyx.atlassian.net/secure/attachment/27112/image002.png,09/May/18 12:15 PM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/26855/image003.png,10/Jul/18 11:32 AM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27115/image003.png,11/Jul/18 12:24 PM;jjensen;image003.png;https://transnetyx.atlassian.net/secure/attachment/27122/image003.png,10/Jul/18 10:58 AM;jjensen;image005.png;https://transnetyx.atlassian.net/secure/attachment/27113/image005.png,01/Feb/18 9:33 AM;jcox;litterview3dotmenu.JPG;https://transnetyx.atlassian.net/secure/attachment/25705/litterview3dotmenu.JPG,01/Feb/18 9:33 AM;jcox;litterworkbench3dotmenuforlitter.JPG;https://transnetyx.atlassian.net/secure/attachment/25706/litterworkbench3dotmenuforlitter.JPG,01/Feb/18 9:33 AM;jcox;litterworkbench3dotmenuformouse.JPG;https://transnetyx.atlassian.net/secure/attachment/25707/litterworkbench3dotmenuformouse.JPG,09/May/18 4:15 PM;jjensen;screenshot-1.png;https://transnetyx.atlassian.net/secure/attachment/26858/screenshot-1.png,09/May/18 4:19 PM;jjensen;screenshot-2.png;https://transnetyx.atlassian.net/secure/attachment/26859/screenshot-2.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jjensen,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=4}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":4,""lastUpdated"":""2018-08-01T14:23:38.509-0500"",""stateCount"":4,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":4,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,admin,,,Unassigned,,,0|i00uwn:,,,,,,New Product/Feature,,,2018-05-09 17:09:16.773,"09/May/18 12:09 PM;admin;[~jjensen]
Want to give this one a go?
","09/May/18 12:15 PM;jjensen;Sure

From: Chris Scallion (Jira) <jira@transnetyx.atlassian.net>
Sent: Wednesday, May 9, 2018 12:09 PM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] Chris Scallion mentioned you on COMA-2321 (Jira)

[https://avatar-cdn.atlassian.com/dc90c5f5dba0250f2d8c0bd9e0740777?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dadmin%26avatarId%3D11600%26noRedirect%3Dtrue]

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin> mentioned you on [Story] COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>




Re: Transferring Litters <https://transnetyx.atlassian.net/browse/COMA-2321>



James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen>
Want to give this one a go?


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","09/May/18 4:15 PM;jjensen;FWIW, this is what the menu now looks like on the Litter Card:
 !screenshot-1.png|thumbnail! ","09/May/18 4:19 PM;jjensen;On Litter Workbench, the one code in LitterOverview.cshtml fix showed up here as well:
 !screenshot-2.png|thumbnail! ","14/May/18 3:14 PM;admin;[~jjensen]
I removed the weird requirement. I'll see if this is trying to match up to iOS or what, and if so we'll change how that is doing what it does.
","14/May/18 3:38 PM;admin;[~jcox]
Jeff, I spoke with Tyler about our preferred approach to handling litters without pups, which is to set a (new) DateTransferred column directly on the litter, and he sees no problem duplicating that functionality on the mobile client. 

The iOS application will need a ticket to account for this logic and handle the new property in its Litter getters, as well.
","17/May/18 8:55 AM;jcox;[~admin], is it safe to assume that DateTransferred would be set on the Litter record regardless of whether or not it has pups?  I get that this requirement we're discussing targets the use case where there are no pup records in the litter, but this feels like something we would just always populate when a litter is transferred.
","17/May/18 8:59 AM;admin;[~jcox]
Correct.
The logic for transferring a litter would be to set date transferred on the litter itself, and any mice of said litter.
","18/May/18 9:43 AM;jjensen;[~jcox] & [~admin]: the code does exactly what Chris said.  A new DateTransferred field in the Litter record is set upon transfer.  Additionally, any existing mice in the litter will also have their TransferDate set in the db record.

For the record (pun intended), I also made some changes to the .gitignore file so that Git ignores files created from performance testing.","10/Jul/18 9:42 AM;admin;[~jjensen]

Have a look at the pull request for this ticket, it has a merge conflict and some peer review notes. Those will need to be resolved and the pull request re-made.

-Chris","10/Jul/18 10:58 AM;jjensen;Chris:

Made the changes you noted, removed the ReSharper option that splits lines at certain widths, and pushed the C# code back out to origin.
I will get to the SQL conflict later, but first I must work on COMA-1889<https://transnetyx.atlassian.net/browse/COMA-1889>.
I could also use your help here.

Bryan’s testing says that this ticket fails when a breeding pair has one litter.  I think that the failure criterium is incorrect, due to the way that I test for litters:

                foreach (var parent in BreedingParents)
                {
                    if (parent.MouseId != null)
                    {
                        ParentLitterCount.Add(parent.MouseId, breeding.Litters.Count(l => l.IsActiveLitter && l.LitterParents.Any(lp => lp.MouseId == parent.MouseId)));
                   }
                }

As you can see in the code, I set up a Dictionary to use in the cshtml.  The Dictionary is filled with the parent id as the key and the number of litters where the parent is assigned.
Now, the _test_ comes from the Litter business object via IsActiveLitter.  Here is the definition:

        /// <summary>
        /// Common logic for determining whether or not a litter is ""active"".
        /// Note, that this is only accurate if we retrieve the litter's mice along with the litter.
        /// </summary>
        public bool IsActiveLitter => !this.DateDeleted.HasValue && !this.DateWeaned.HasValue && this.HasLivingOffspring;

Please note the comment which claims the Mice must be retrieved.

This is where I need help.

I don’t know where or how to retrieve the mice.

Granted, I could run the search for myself and maybe find it today, but I thought you might know where I could find the function or perhaps the best places where I should concentrate my search.

Once I load the mice into the litter object, the test should be accurate.

Can you help?




From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Chris Scallion (Jira)
Sent: Tuesday, July 10, 2018 9:43 AM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] (COMA-2321) Transferring Litters

[https://avatar-cdn.atlassian.com/dc90c5f5dba0250f2d8c0bd9e0740777?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dadmin%26avatarId%3D11600%26noRedirect%3Dtrue]

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin> updated [Story] COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>





James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen>

Have a look at the pull request for this ticket, it has a merge conflict and some peer review notes. Those will need to be resolved and the pull request re-made.

-Chris


Colony Manager<https://transnetyx.atlassian.net/browse/COMA> / [Story] <https://transnetyx.atlassian.net/browse/COMA-2321> COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>

Transferring Litters <https://transnetyx.atlassian.net/browse/COMA-2321>


Change By:

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin>

Assignee:

Chris Scallion James Jensen

Status:

In Review Development


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","10/Jul/18 11:32 AM;jjensen;Chris:  Rich helped me with COMA-1889.

From: Jim Jensen
Sent: Tuesday, July 10, 2018 10:59 AM
To: 'Chris Scallion (Jira)' <jira@transnetyx.atlassian.net>
Subject: RE: [JIRA] (COMA-2321) Transferring Litters

Chris:

Made the changes you noted, removed the ReSharper option that splits lines at certain widths, and pushed the C# code back out to origin.
I will get to the SQL conflict later, but first I must work on COMA-1889<https://transnetyx.atlassian.net/browse/COMA-1889>.
I could also use your help here.

Bryan’s testing says that this ticket fails when a breeding pair has one litter.  I think that the failure criterium is incorrect, due to the way that I test for litters:

                foreach (var parent in BreedingParents)
                {
                    if (parent.MouseId != null)
                    {
                        ParentLitterCount.Add(parent.MouseId, breeding.Litters.Count(l => l.IsActiveLitter && l.LitterParents.Any(lp => lp.MouseId == parent.MouseId)));
                   }
                }

As you can see in the code, I set up a Dictionary to use in the cshtml.  The Dictionary is filled with the parent id as the key and the number of litters where the parent is assigned.
Now, the _test_ comes from the Litter business object via IsActiveLitter.  Here is the definition:

        /// <summary>
        /// Common logic for determining whether or not a litter is ""active"".
        /// Note, that this is only accurate if we retrieve the litter's mice along with the litter.
        /// </summary>
        public bool IsActiveLitter => !this.DateDeleted.HasValue && !this.DateWeaned.HasValue && this.HasLivingOffspring;

Please note the comment which claims the Mice must be retrieved.

This is where I need help.

I don’t know where or how to retrieve the mice.

Granted, I could run the search for myself and maybe find it today, but I thought you might know where I could find the function or perhaps the best places where I should concentrate my search.

Once I load the mice into the litter object, the test should be accurate.

Can you help?




From: jira@mail-us.atlassian.net<mailto:jira@mail-us.atlassian.net> <jira@mail-us.atlassian.net<mailto:jira@mail-us.atlassian.net>> On Behalf Of Chris Scallion (Jira)
Sent: Tuesday, July 10, 2018 9:43 AM
To: Jim Jensen <jjensen@transnetyx.com<mailto:jjensen@transnetyx.com>>
Subject: [JIRA] (COMA-2321) Transferring Litters

[https://avatar-cdn.atlassian.com/dc90c5f5dba0250f2d8c0bd9e0740777?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dadmin%26avatarId%3D11600%26noRedirect%3Dtrue]

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin> updated [Story] COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>





James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen>

Have a look at the pull request for this ticket, it has a merge conflict and some peer review notes. Those will need to be resolved and the pull request re-made.

-Chris


Colony Manager<https://transnetyx.atlassian.net/browse/COMA> / [Story] <https://transnetyx.atlassian.net/browse/COMA-2321> COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>

Transferring Litters <https://transnetyx.atlassian.net/browse/COMA-2321>


Change By:

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin>

Assignee:

Chris Scallion James Jensen

Status:

In Review Development


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","11/Jul/18 12:24 PM;jjensen;Chris, I changed the resharper thing, and then I manually reset only the items I saw in the comments (the two examples you gave).  Apparently, running the ctrl-a, ctrl-k, ctrl-d did not change the ones already done.  Of course, I only saw this after I committed and issued the pull request.  Let me know if reverting the cr/lfs is a necessity and I will address each item and issue another pull request.

From: jira@mail-us.atlassian.net <jira@mail-us.atlassian.net> On Behalf Of Chris Scallion (Jira)
Sent: Tuesday, July 10, 2018 9:43 AM
To: Jim Jensen <jjensen@transnetyx.com>
Subject: [JIRA] (COMA-2321) Transferring Litters

[https://avatar-cdn.atlassian.com/dc90c5f5dba0250f2d8c0bd9e0740777?s=48&d=https%3A%2F%2Ftransnetyx.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dadmin%26avatarId%3D11600%26noRedirect%3Dtrue]

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin> updated [Story] COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>





James Jensen<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=jjensen>

Have a look at the pull request for this ticket, it has a merge conflict and some peer review notes. Those will need to be resolved and the pull request re-made.

-Chris


Colony Manager<https://transnetyx.atlassian.net/browse/COMA> / [Story] <https://transnetyx.atlassian.net/browse/COMA-2321> COMA-2321<https://transnetyx.atlassian.net/browse/COMA-2321>

Transferring Litters <https://transnetyx.atlassian.net/browse/COMA-2321>


Change By:

Chris Scallion<https://transnetyx.atlassian.net/secure/ViewProfile.jspa?name=admin>

Assignee:

Chris Scallion James Jensen

Status:

In Review Development


[Add Comment]<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>

Add Comment<https://transnetyx.atlassian.net/browse/COMA-2321#add-comment>






Get Jira notifications on your phone! Download the Jira Cloud app for Android<https://play.google.com/store/apps/details?id=com.atlassian.android.jira.core&referrer=utm_source%3DNotificationLink%26utm_medium%3DEmail> or iOS<https://itunes.apple.com/app/apple-store/id1006972087?pt=696495&ct=EmailNotificationLink&mt=8>
","25/Jul/18 4:25 PM;bwinter;[~cleduc], [~jcox] What is the expected behavior if a litter is transferred then the litter is weaned?  Should the weaned pups be able to be placed in cages?

CC: [~jmedlock]","25/Jul/18 4:29 PM;cleduc;[~bwinter][~jcox][~jmedlock] If a litter is transferred the mom must transfer with it (physically). If not, the litter transferred prior to wean must be being immediately euthanized. The only reason to allow weaning post transfer is for when they made a mistake and do it in the wrong order.  ","31/Jul/18 4:11 PM;bwinter;[~rwilliams], could you make a change to this ticket so that Transfer Litter action is not available from the Litter 3-dot menu in the Litter Workbench?

This is the place that is causing the problems.  This change will nullify this requirement, but I have crossed it out in the description with a note.

* User is able to mark a litter as transferred from 3-dot menu of the Litter Workbench.

 !litterworkbench3dotmenuforlitter.JPG|thumbnail! 

","31/Jul/18 5:27 PM;bwinter;Okay...  About the Transferring litters...  After a little more investigation, we discovered that this ticket is good to go if we simply remove these two requirements which allow transfer actions from the litter workbench:

* User is able to mark a litter as transferred from 3-dot menu of the _Litter Workbench_.
* User is able to mark individual pups as transferred from 3-dot menu of the _Litter Workbench_.

After talking to [~rwilliams], this is desirable anyway, because the litter workbench can work in conflicting ways.  For example, if you transfer the litter from the litter 3-dot menu while in the Litter Workbench, the litter workbench does not refresh or update or redirect.  Therefore, you can still make litter actions (id, biopsy, wean, etc) on a litter that was just transferred.  

Another example, if you transfer pups from the ""offspring"" 3-dot menu on the left-hand-side of the Litter Workbench, the ""rows"" in the Litter Workbench are not updated, therefore you can take litter actions against a pups you just transferred. 

However, transferring litter from the litter list works as expected.  The litter list is immediately refreshed; the litter is made inactive; and the litter no longer appears in the litter list unless you selected the ""active = false"" filter.

[~rwilliams] will remove the Transfer litter action from the litter 3-dot menu in the Litter Workbench, and we will be good to go. 

CC: [~cleduc], [~jcox], [~admin], [~rwilliams], [~jjensen]",31/Jul/18 5:47 PM;cleduc;[~bwinter][~rwilliams] thanks,"31/Jul/18 5:51 PM;bwinter;[~cleduc], I made a mistake in my comment above.

When transferring litter from the litter list, the litter list is immediately refreshed, and the litter no longer appears in the litter list. 
 {color:#d04437}However{color}, selecting the ""active = false"" filter {color:#d04437}does not{color} show the litter again.

It is like the litter is neither active nor inactive from the litter list.  I cannot figure out how to get it to reappear in the litter list.  I can only find it in the breeding card.

{color:#d04437}More slightly bad news{color}, if you click the transferred litter from the breeding card, you are taken to the litter workbench where litter actions can be taken against the transferred litter.

All this seems low risk at the moment, but I wanted to give you the latest news.   Even having said all this, I have passed this ticket with the above caveats.  Let me know if this is not okay.

 !PASSED WITH RESERVATIONS - Litters can be transferred - 2018-07-31 17_53_09-.png|thumbnail! 

CC: [~jjensen], [~rwilliams] ","01/Aug/18 8:28 AM;jjensen;[~bwinter], after seeing what madness the filtering on these Kendo grid controls can become, I wouldn't put it past the litter filter to somehow contribute to your inability to view it after transfer.  However, your _{color:red}More slightly bad news{color}_ is significant, as it reinforces our belief that the original ticket missed the analysis boat.

In My Humble Opinion, we need to step back and see what needs to be done with Litters in general.  In other words, we need better analysis on a bigger picture.  I think [~cleduc], [~admin], and [~rwilliams] would agree that the awkward synchronization of states like _transferred_, _deleted_, and _weaned_ between the collections (litters) and the individual entities (mice) is proof of a poorly-implemented concept.","01/Aug/18 5:12 PM;rwilliams;[~bwinter]  and any dev that might work on this in the future... when a litter is transferred we need to treat much like we do when we delete a litter. We need to transfer the mice, remove the mice from any cage they are in, and and possibly delete the litter parent records, and remove the litter from the cage it’s in.  
","01/Aug/18 5:24 PM;cleduc;[~rwilliams] - Thanks Rich, and also for anyone considering development on this, I think I'll be rewriting a new ticket(s) for this. Transferred means they did exist, they were moved out of the colony. No more actions can be taken but it is important to see their history and that they were transferred out and when. More on the new ticket eventually..","02/Aug/18 11:34 AM;bwinter;[~cleduc], I have assigned this ticket to you so that we can add more requirements to it.  When you are ready for that, we should move it out of TESTING FAILED and back to OPEN or ANALYSIS.  Let me know if I can help.

CC: [~jcox]",,,
Send OM Cancelled Status to Colony,COMA-2292,28756,,Story,Stop Development,COMA,Colony Manager,software,admin,,,3 Standard,,rjonakin,qevans,qevans,23/Jan/18 4:55 PM,02/Aug/18 3:24 PM,04/Sep/18 1:25 PM,,,CM - Release 1.2,,,0,,,,,,,"Cancelled orders need to show a status of ""Cancelled"" in the shopping cart orders list and in the results page details tab.

",,,,;02/Aug/18 3:24 PM;rjonakin;600,,,,,,,,28800,28200,600,2%,28800,28200,101700,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,rjonakin,{},,,COMA-1296,,,,,,,,,,,,,,,,,Unassigned,,,0|i00u7f:,,,,,,New Product/Feature,,,2018-03-14 19:12:28.341,"23/Jan/18 4:56 PM;qevans;[~jmedlock] this one may need more in-depth requirements from you.
[~jcox]","14/Mar/18 2:12 PM;jcox;Hey [~jmedlock], do you feel that this ticket still needs to be part of 1.1?  It's currently assigned to you and not sure if there is still any requirements gathering to be done.","14/Mar/18 2:27 PM;jmedlock;[~jcox] Going to need more information from Chris and Brad.
[~admin] Do we need this ticket? I know we are getting some statuses but do not know if we need this now or next iteration.

","26/Mar/18 3:23 PM;jmedlock;[~jcox] This can be converted to a story. This should not block the original ticket. All the initial statuses to determine order complete is accomplished.
We will need to add this to a future release.",,,,,,,,,,,,,,,,,,,,,,
Mouse List:  Improved Sorting,COMA-2265,28718,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,17/Jan/18 1:37 PM,12/Jul/18 3:00 PM,04/Sep/18 1:25 PM,12/Jul/18 3:00 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,,,"_As a user, I want sorting on the mouse list to be more intuitive so that I can more easily find the mice I'm looking for._

+Acceptance Criteria+:
* Remove MouseID as the default sort when user selects a column to sort on.
* When the user selects a column to sort on, it now sorts only on that column, NOT on Mouse ID first and THEN that column.
* When the data is first sent to the Kendo grid, have the data sorted by MouseID on the server side and remove default Kendo sort.
",,,,;24/Jan/18 2:28 PM;jcox;3600,;20/Feb/18 5:36 PM;bkoch;18000,;21/Feb/18 2:20 PM;bkoch;7200,;22/Feb/18 12:02 AM;rwilliams;300,;29/Mar/18 5:41 PM;bwinter;600,;12/Jul/18 3:00 PM;rwilliams;300,,,14400,0,30000,208%,14400,0,30000,,,,,,,,,,,,,29/Mar/18 5:39 PM;bwinter;PASSED - improved sorting on mice liste - 2018-03-29 17_36_49-.png;https://transnetyx.atlassian.net/secure/attachment/26482/PASSED+-+improved+sorting+on+mice+liste+-+2018-03-29+17_36_49-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-22T00:19:39.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00ufj:,,,,,,New Product/Feature,,,2018-02-21 18:07:38.411,"21/Feb/18 12:07 PM;bkoch;[~jmedlock], after more research, I found some super wonky behavior with this.  In removing the kendo sort and moving it server side, the resulting functionality is as follows:

1. the majority of mice are sorted correctly by mouseName
2. the second element in the list is moved to the middle of the list randomly
3. the element that was at the middle of the list, was moved to the end

So, we can keep this ticket as removing the default kendo sort and adding it server side, but know there is a bug in the kendo grid that causes this strange behavior to happen.  If you want a demo showing the results, let me know.",29/Mar/18 5:41 PM;bwinter;Improved sorting on Mice List appears to be sorting as expected: send data to Kendo grid with mice sorted by Mouse ID (sorted from the client side); when sorting a column sort by the column instead of sorting by mouse id then that column.,,,,,,,,,,,,,,,,,,,,,,,,
Mouse List: Search Add visible columns,COMA-2262,28715,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,17/Jan/18 11:46 AM,12/Jul/18 3:08 PM,04/Sep/18 1:25 PM,12/Jul/18 3:08 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,,,"_As a user I need to be able to search the mouse list for data in any column visible so that the search is relevant to what I am looking for._

+Acceptance Criteria+:
* Users should only search the current columns and filters. Do not remove filters on search.
* A Message in the search box should instruct the user on what is being searched. (Message in search box, ""Search filtered data and visible columns"")
* If a column is added to the view, that column should be included in the search.

",,,,;25/Jan/18 12:51 PM;jcox;3600,;23/Feb/18 5:06 AM;bkoch;57600,;23/Feb/18 7:19 AM;rwilliams;300,;16/Mar/18 8:21 AM;bkoch;900,;19/Mar/18 8:17 AM;rwilliams;300,;13/Apr/18 11:41 AM;bwinter;3600,;12/Jul/18 3:08 PM;rwilliams;300,,144000,0,66600,46%,144000,0,77520,,,,,,,COMA-2392,COMA-2389,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2018-02-23T05:04:44.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00uev:,,,,,,New Product/Feature,,,2018-02-21 22:00:24.911,"21/Feb/18 4:00 PM;bkoch;[~jcox] [~jmedlock], it seems when we add a decent amount of columns to the search, the performance is slightly worse.  Can we change this to search on blur instead of on keyup?","22/Feb/18 10:09 AM;jcox;[~bkoch], Yeah if performance on keyup is detrimental to the user experience then let's try using on blur.  As long as the search is performed when the user hits enter, or tabs/clicks out of the field.  ","14/Mar/18 10:23 PM;bwinter;[~bkoch] if it is okay with you, since the code merge was declined for this ticket, I am going to push it back to development status.  If some (or all) of it will be in Colony 1.1, let me know and I will test what is there.","16/Mar/18 4:55 AM;bkoch;[~bwinter], sorry for not letting you know, but this functionality was fixed in a different ticket (the one with the other lists changing their search functionality), so this is in QA, just not under the 2408 ticket.  It is complete though, and looking through the work log looks like it was tested successfully, so we can close it.","03/Apr/18 1:04 PM;bwinter;[~jmedlock], [~jcox] *Clarification:* After clearing all the filters for Breedings/Litters/Mice Lists, what should happen after refreshing the page?  Should the cleared filters persist or should the page reset to default filtering?

CC:[~bkoch]
","03/Apr/18 1:12 PM;bwinter;[~bkoch] Searching for mice after adding all available columns seems slow.  It that expected behavior?
","03/Apr/18 1:30 PM;jmedlock;[~bwinter][~bkoch] Bryan which environment are you in?

After clearing filters and refreshing the page the current behavior is that the view is reset. That is another ticket called persisting views. We need to persist the view but that is outside the scope of this ticket.","03/Apr/18 1:31 PM;jmedlock;[~bwinter][~bkoch] COMA-2453

","03/Apr/18 2:16 PM;bwinter;Thanks, [~jmedlock], for adding COMA-2453.

About clearing filters, I am a dummy!  I was looking at the wrong thing to check if filter was cleared.  I thought clearing the filter was persisting upon refresh, but that is a total user error on my part.  I apologize.  Filtering does not persist after refresh; filtering resets to default filtering.

CC: [~bkoch], [~jcox]",,,,,,,,,,,,,,,,,
"Retired Breeders: Breeding record, Breeding list",COMA-2254,28699,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,12/Jan/18 9:39 AM,12/Jul/18 3:18 PM,04/Sep/18 1:10 PM,12/Jul/18 3:18 PM,,CM - Release 1.1,CM - Release 1.2,,0,,,,,,,"_As a user, I need to see all the breeders on the breeding record and breeding list, if they are active or retired/dead._

+Acceptance Criteria+:
* Active and retired breeder ""mouse cell"" are visible on the breeding card
* Active and retired/dead breeder mice are visible on the breeding list in the correct parent columns

We need to change the query to include retired/dead parents as visible on the breeding record under the parents tab and the breeding list in the mother, father columns.

 !Breeding list parents.png|thumbnail! 
 !Breeding record parents.png|thumbnail! 

(SmartSheet Coma91)",,,,;12/Jan/18 9:41 AM;jmedlock;900,;20/Feb/18 11:46 AM;bkoch;3600,;21/Feb/18 12:02 AM;rwilliams;300,"[~jmedlock], [~rwilliams], [~cleduc] This ticket passed QA based on the requirements in the description.

There is another story you may want to consider adding to Unplanned or elsewhere:

*Suggested Title:* Designate retired, dead, or transferred breeders in a breeding

_As a user who has retired, dead, or transferred breeders in a breeding, I want to see a different visual for each status, so that I am aware of which breeders in my breeding are active, retired, dead, or transferred._

+Acceptance Criteria+:

* Create a different visuals for each of these statuses: retired breeder, transferred, or dead.
** Note: icons already exist for transferred and dead
* Add these visuals, when appropriate, after breeder name in a breeding on the Breeding List
* Add these visuals, when appropriate, after breeder name in a Breeder Card;29/Mar/18 3:29 PM;bwinter;1200",;12/Jul/18 3:18 PM;rwilliams;300,,,,43200,0,6300,14%,43200,0,6300,,,,,,,,,,,,,12/Jan/18 9:40 AM;jmedlock;Breeding list parents.png;https://transnetyx.atlassian.net/secure/attachment/25588/Breeding+list+parents.png,12/Jan/18 9:41 AM;jmedlock;Breeding record parents.png;https://transnetyx.atlassian.net/secure/attachment/25589/Breeding+record+parents.png,"29/Mar/18 3:22 PM;bwinter;PASSED - Transferred, Dead, Retired breeders appear in Breeding List Item and Breeding Card - 2018-03-29 15_11_28-.png;https://transnetyx.atlassian.net/secure/attachment/26456/PASSED+-+Transferred%2C+Dead%2C+Retired+breeders+appear+in+Breeding+List+Item+and+Breeding+Card+-+2018-03-29+15_11_28-.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,bkoch,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2018-02-22T00:05:58.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":3,""name"":""Bitbucket Cloud""}}}}},""isStale"":false}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00ubb:,,,,,,,,,2018-02-19 13:11:21.492,"19/Feb/18 7:11 AM;bkoch;[~jmedlock], for the second point about showing retired mice on the breeding list in the father/mother columns, are we styling these in any way, or showing them the same as the parents (just listing out the mouse ID)? (for reference, if we do need to style them differently then it will take a decent amount more time to implement, just thought I'd ask here)","19/Feb/18 8:12 AM;bkoch;[~jmedlock], also, in the title it says we should view retired/dead parents, but in the acceptance criteria it says active/retired, so do we want dead parents as well?","19/Feb/18 8:45 AM;jmedlock;[~bkoch] yes, i updated the rest of the ticket. The idea is that the user should always see any parents that were associated to a breeding.

The status icons on the mouse cell will tell them what mice are alive/dead. etc..

Thanks,!

jim","26/Mar/18 5:20 PM;bwinter;[~jmedlock] Clarification:

# Breeder List
## Should there be some indication in the Breeding List that one of the parents is retired, dead, or transferred?
## Currently, the breeding record in the Breeding List does not show any indication of retired, dead, or transferred breeders for the displayed breeding.
# Breeding Details Modal 
## Should there be some indication in the Breeding Details Modal that one of the parents is retired, dead, or transferred?
## Currently, the breeding Details modal shows a black heart, when one of the breeders is Dead.
## No indication is made for retired or transferred breeders.
# Mice List
## Transferred Mice has Status = Transferred and Use = Breeding
## Dead Mice has Status = Dead and Use = blank
## Retired breeders have no select-able column from the Mice List

bump.","29/Mar/18 3:29 PM;bwinter;[~jmedlock], [~rwilliams], [~cleduc] This ticket passed QA based on the requirements in the description.

There is another story you may want to consider adding to Unplanned or elsewhere:

*Suggested Title:* Designate retired, dead, or transferred breeders in a breeding

_As a user who has retired, dead, or transferred breeders in a breeding, I want to see a different visual for each status, so that I am aware of which breeders in my breeding are active, retired, dead, or transferred._

+Acceptance Criteria+:

* Create a different visuals for each of these statuses: retired breeder, transferred, or dead.
** Note: icons already exist for transferred and dead
* Add these visuals, when appropriate, after breeder name in a breeding on the Breeding List
* Add these visuals, when appropriate, after breeder name in a Breeder Card","02/Apr/18 8:45 AM;cleduc;I think it is important to see the status of all animals that were in a breeding but, if it helps, what is key here is that it was active in the breeding and is not now. Why is less relevant. 
We could consider using the same icon for no longer in the breeding regardless of why. 
Or using same for retired and transferred - in both cases the animal was ""removed"" from the breeding. 
",02/Apr/18 8:54 AM;jmedlock;[~bwinter] [~cleduc] the visuals are usually there depending on where the breeding information is. If the mouse record is in view the mouse card is viewable the status is  usually there.,02/Apr/18 8:55 AM;cleduc;Great.,,,,,,,,,,,,,,,,,,
Offspring Settings: ID toggle switch,COMA-2253,28698,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,12/Jan/18 8:58 AM,12/Jul/18 3:23 PM,04/Sep/18 1:25 PM,12/Jul/18 3:23 PM,,CM - Release 1.1,CM - Release 1.2,,0,id_switch,offspring_settings,,,,,"_As a user, when I toggle the ID switch to on or off, the auto serialize option should also toggle on or off, respectively, so that my effort is reduced and the ID toggling ID switch on or off more accurately reflects my selection._

*NOTE*: When ID switch is off at the Breedings > Offspring Settings & Litters > Offspring Settings levels, I expect Auto-Serializing to stop, but auto-serializing IDs still occurs at the ID Stage of the Litter Workbench.

+Acceptance Criteria+:
* A user can turn off the ID feature with a single click from the offspring settings anywhere the offspring settings are displayed to the user.

+Scenario+:
*Given* I am editing the Offspring Settings for a strain, breeding, or litter
*When* I toggle the ID switch to on or off
*Then* The auto serialization switch should also toggle in the same direction as the ID switch.

*This is an area we need to coordinate with iOS functionality* According to Florin, the iOS already behaves according to the above user story and acceptance criteria.

*Offspring task areas to adjust*
* Strains
* Breedings
* Litters

",,,,;12/Jan/18 9:35 AM;jmedlock;1800,;19/Feb/18 11:14 AM;jadhikari;28800,;20/Feb/18 10:08 AM;rwilliams;300,"This ticket was QA'ed and passed.  Took some time to create the right strains, breedings, and litters.  There were also some interruptions.;29/Mar/18 3:01 PM;bwinter;10800",;12/Jul/18 3:23 PM;rwilliams;300,,,,28800,0,42000,145%,28800,0,42000,,,,,,,,,,,,,29/Mar/18 3:00 PM;bwinter;PASSED - breeding level - 2018-03-29 14_09_38-.png;https://transnetyx.atlassian.net/secure/attachment/26454/PASSED+-+breeding+level+-+2018-03-29+14_09_38-.png,29/Mar/18 3:00 PM;bwinter;PASSED - strain level - 2018-03-29 14_09_38-.png;https://transnetyx.atlassian.net/secure/attachment/26455/PASSED+-+strain+level+-+2018-03-29+14_09_38-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,jadhikari,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2018-02-22T00:05:02.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":3,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00ub3:,,,,,,,,,2018-02-27 19:58:09.184,27/Feb/18 1:58 PM;bwinter;[~qevans] I saw that you were also QA on this 1.2 ticket.  Do you want me to take it?,27/Feb/18 2:03 PM;qevans;[~bwinter] since this is a 1.2 ticket it's all yours.,"29/Mar/18 3:01 PM;bwinter;This ticket was QA'ed and passed.  Took some time to create the right strains, breedings, and litters.  There were also some interruptions.",,,,,,,,,,,,,,,,,,,,,,,
All lists should display 100 items by default,COMA-2248,28691,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,11/Jan/18 3:11 PM,12/Jul/18 3:25 PM,04/Sep/18 1:25 PM,12/Jul/18 3:25 PM,,CM - Release 1.2,,,0,,,,,,,"_As a user, I would like to see all list views in Colony show 100 items be default so that I can see more of my data easier._

+Acceptance Criteria+:
* The listing pages for Strains, Gene mutations, Breedings, Litters, and Mice should default to 100 items per page.
* Modify the drop-down for number of items per page to include 10, 20, 50, 100 (default).",,,,;12/Jan/18 11:49 AM;jmedlock;900,;21/Feb/18 2:57 PM;bkoch;3600,;22/Feb/18 12:02 AM;rwilliams;300,;22/Feb/18 1:19 PM;bwinter;1800,;12/Jul/18 3:25 PM;rwilliams;300,,,,14400,0,6900,47%,14400,0,6900,,,,,,,,,,,,,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on BREEDINGS List - 2018-02-22 13_24_15-.png;https://transnetyx.atlassian.net/secure/attachment/25991/PASSED+-+100+items+default+list+size+on+BREEDINGS+List+-+2018-02-22+13_24_15-.png,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on GENES List - 2018-02-22 13_22_49-.png;https://transnetyx.atlassian.net/secure/attachment/25994/PASSED+-+100+items+default+list+size+on+GENES+List+-+2018-02-22+13_22_49-.png,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on LITTERS List - 2018-02-22 13_25_39-.png;https://transnetyx.atlassian.net/secure/attachment/25992/PASSED+-+100+items+default+list+size+on+LITTERS+List+-+2018-02-22+13_25_39-.png,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on MICE List - 2018-02-22 13_26_46-.png;https://transnetyx.atlassian.net/secure/attachment/25990/PASSED+-+100+items+default+list+size+on+MICE+List+-+2018-02-22+13_26_46-.png,22/Feb/18 1:27 PM;bwinter;PASSED - 100 items default list size on STRAINS List - 2018-02-22 13_20_56-.png;https://transnetyx.atlassian.net/secure/attachment/25993/PASSED+-+100+items+default+list+size+on+STRAINS+List+-+2018-02-22+13_20_56-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-22T00:19:20.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00u9j:,,,,,,,,,2018-02-21 20:26:41.228,"21/Feb/18 2:26 PM;bkoch;[~jcox], What cage list were you talking about?  I can't seem to remember where there would be a cage list, but maybe I'm just having a brain fart.  Thanks,

Brad","21/Feb/18 2:53 PM;jcox;[~bkoch] My mistake!  Just removed that from the story description.  Good catch!
",,,,,,,,,,,,,,,,,,,,,,,,
Transfer mice from the Mice List,COMA-2236,28671,,Story,Cancelled,COMA,Colony Manager,software,admin,,,3 Standard,Won't Do,,bwinter,bwinter,04/Jan/18 8:39 AM,30/Jul/18 1:26 PM,04/Sep/18 1:25 PM,30/Jul/18 1:26 PM,,Unplanned,,,0,,,,,,,,,,,;30/Jul/18 1:26 PM;bwinter;60,,,,,,,,,0,60,,,0,60,,,,COMA-2045,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,{},,,,,,,,,,,,,,,,,,,,Unassigned,,,0|i00u53:,,,,,,,,,,23/Jan/18 12:29 PM;bwinter;[~jcox] can you delete this ticket?,,,,,,,,,,,,,,,,,,,,,,,,,
Prompt user to delete empty cage,COMA-2233,28668,,Story,Peer Review,COMA,Colony Manager,software,admin,,,3 Standard,,rwilliams,bwinter,bwinter,03/Jan/18 1:48 PM,21/Aug/18 1:05 PM,04/Sep/18 1:25 PM,,,CM - Release 1.2,,,0,cage_card,empty_cage,mice_list,prompt_user,,,"_As a user, I want to be prompted to delete a cage whenever I take an action that empties *the last mouse or litter in the cage*, so that my effort is reduced._

+Acceptance Criteria+:
* When a user takes an action on the last mouse in a cage, the user is prompted to delete the cage.
* When a user takes an action on the last litter record in a cage, the user is prompted to delete the cage.

+Background+: _selecting last Mouse in a cage from Mice List_
*Given* I select a mouse from the Mice List
*And* this mouse is the last one in a cage

+Scenario+: _Transfer last mouse_
*When* I transfer the mouse to another owner
*Then* I am prompted to delete the now empty cage.

+Scenario+: _Mark Dead last mouse_
*When* I mark the mouse dead
*Then* I am prompted to delete the now empty cage.

+Background+: _Bulk actions from Cage Card_
*Given* I select a cage from the Cage Map

+Scenario+: _Bulk mark dead mice in cage_
*When* I bulk mark dead all mice in the cage
*Then* I am prompted to delete the now empty cage.

+Scenario+: _Bulk transfer mice in cage_
*When* I bulk transfer all mice in the cage
*Then* I am prompted to delete the now empty cage.

+Scenario+: _Prompt user to delete *one* empty cage using a modal_
*Given* only _*one*_ cage has been emptied from transferring or marking mice dead
*When* prompted to delete an empty cage
*Then* the prompt says ""Cage <Cage ID> is now empty.  Would you like to remove this cage?""
*And* the user is given two buttons ""No"" ""Yes"" (in this order) to choose from

+Scenario+: _Prompt user to delete *many* empty cages using a modal_
*Given* _*many*_ cages have been emptied from selecting multiple mice in Mice List
*And* transferring or marking mice dead
*When* prompted to delete many empty cages
*Then* the prompt says ""Cages <Cage ID1, Cage ID2, ..., Cage IDN> are now empty. Would you like to remove these cages?""
*And* the user is given a list of Cages and checkboxes to un-check which ones to keep <- {color:#d04437}NEW{color} (See comments from 07-31-2018)
*And* all cages are checked by default  <- {color:#d04437}NEW{color} (See comments from 07-31-2018)
*And* the user is given two buttons ""No"" ""Yes"" (in this order) to choose from

+Scenario+: _Click anywhere outside of modal prompt_
*Given* I am prompted to delete an empty cage
*When* I click anywhere outside of the modal prompt
*Then* I am taken back to the Mice List 
*And* the empty cage is *not* deleted
*And* the cage card map icon can still be seen from the Cage Map in its corresponding position on its parent Rack in its parent Room  

+Scenario+: _Click No to delete empty cage_
*Given* I am prompted to delete an empty cage
*When* I click No from the prompt
*Then* I am taken back to the Mice List 
*And* the empty cage is *not* deleted
*And* the cage card map icon can still be seen from the Cage Map in its corresponding position on its parent Rack in its parent Room  

+Scenario+: _Click Yes to delete empty cage_
*Given* I am prompted to delete an empty cage
*When* I click Yes from the prompt
*Then* I am taken back to the Mice List 
*And* the (selected) empty cage(s) is (are) deleted  <- {color:#d04437}NEW{color} (See comments from 07-31-2018)
*And* the cage card map icon is replaced with the empty cage icon in its corresponding position on its parent Rack in its parent Room  

-----

h1. Housekeeping Notes

h2. Notes to DEV + SQA

This story *clones* a functionality in iOS where the user is prompted to delete an empty cage after taking any action that empties a cage in Colony (see CMI-193).
 
h2. Touch Points where Mouse Record can be Marked Dead or Transferred
Below are all the *touch points* where a Mouse Record can be *Marked Dead* or *Transferred* one-at-a-time.  

  - Breedings > Select Breeding > Parents Tab > Select Mouse Record > 3-dots > Mark Dead
  - Breedings > Select Breeding > Offspring Tab > Select Mouse Record > 3-dots > Mark Dead
  - Breedings > Select Breeding > Litter Tab > Select Litter Record (pulls up Litter Details) >Select Parent Mouse Record > 3-dots > Mark Dead
  - Breedings > Select Breeding > Litter Tab > Select Litter Record (pulls up Litter Details) >Select Offspring Mouse Record > 3-dots > Mark Dead
  - Litters > Select Litter > Select Parent Mouse Record > 3-dots > Mark Dead
  - Litters > Select Litter > Select Offspring Mouse Record > 3-dots > Mark Dead
  - Mice > Select Mice > Mark Dead
  - Mice > Select Mouse > View Mouse Record > Mouse Record Details 3-dots > Mark Dead
  - Mice > Select Mouse > View Mouse Record > Edit Mouse > Enter & Save Death date
  - Mice > Select Mouse > View Mouse Record > Edit Mouse > Enter & Save Transfer date
  - Mice > Select Mouse > View Mouse Record > Parents Mouse 3-dots (if available) > View Record > Mouse Record Details 3-dots > Mark Dead 
  - Cages > Select Cage > Cage Details 3-dots > (Bulk) Mark Dead
  - Cages > Select Cage > Mouse Record 3-dots > Mark Dead
  - Cages > Select Cage with litter > Litter Record 3-dots > Mark Dead
  - Cages > Select Mouse > Mouse 3-dot menu > Delete mouse (if mouse is not in breeding)
  - Cages > Select Mouse > Mouse 3-dot menu > Mark Dead
  - Cages > Select Mouse > View Mouse Record > Edit Mouse > Enter & Save Death date
  - Cages > Select Mouse > View Mouse Record > Edit Mouse > Enter & Save Transfer date

",,,,;12/Jan/18 5:39 PM;bwinter;10800,;21/Aug/18 1:05 PM;jadhikari;288000,,,,,,,172800,0,298800,172%,172800,0,298800,,,CMI-193,,,,COMA-2135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bwinter,jadhikari,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-29T14:49:24.162-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,,0|i00rgj:d,,,,,,New Product/Feature,,,2018-01-16 20:51:29.783,"16/Jan/18 2:51 PM;tpatterson;My initial thoughts on this are similar to that of COMA-2256. If we're not good with what I proposed there, while it could pretty jarring, this might be a situation to use a modal. Either way these need to appear after the user has completed a task on the list and profile pages or after the user has clicked anything that allows them to navigate out of the workbench.","31/Jul/18 1:22 PM;jadhikari;[~bwinter] Should we consider allowing the user to keep or have an option to keep cages when mice(bulk) are marked dead ? Just like in the Mark Dead modal, we will have list of Cage with options Delete and Keep. I might be overthinking but wanted to see what you thought. 
","31/Jul/18 3:50 PM;bwinter;Great idea, [~jadhikari]!  I love it!  Let's ask [~cleduc]!

[~cleduc], when a user takes an action that removes mice from many cages, would you like the user to prompted to remove _all_ the cages or to have a _choice_ (via checkbox) to select which cages to delete?

As is, the requirements are to simply remove all cages (yes or no).  See scenario below.  The user cannot cherry-pick which cages to keep.  [~jadhikari] said it would take about a day more to allow the user to select which cages to keep (vs remove all cages if the user selects yes).

+Scenario+: _Prompt user to delete *many* empty cages using a modal_
*Given* _*many*_ cages have been emptied from selecting multiple mice in Mice List
*And* transferring or marking mice dead
*When* prompted to delete many empty cages
*Then* the prompt says ""Cages <Cage ID1, Cage ID2, ..., Cage IDN> are now empty. Would you like to remove these cages?""
*And* the user is given two buttons ""No"" ""Yes"" (in this order) to choose from

","31/Jul/18 4:30 PM;cleduc;[~jadhikari] [~bwinter] I went back and forth as I don't know the real reason to leave an empty cage - except to refill them. This would mean they are using them like positions. 
But since Cage name is not unique anyway, this seems OK to me. 
I do like the idea that they are presented with the list and can select all or just some and am fine with a one day add. 

But then, if Jwala is looking for a 1.2 ticket and there are none she fits with...we'll grab one of my other favorites like display cage room rack position on cull and other lists...:)","31/Jul/18 5:06 PM;bwinter;[~cleduc], Roger that.  And thanks for taking my call to discuss more.  When [~jadhikari] gets to the part about prompting users to delete many cages, she will provide them with a check list to de-select which cages to NOT delete.",31/Jul/18 5:07 PM;cleduc;[~jadhikari][~bwinter] Nice! thanks so much Jwala!,"07/Aug/18 1:37 PM;jadhikari;[~cleduc] I feel that this ticket is getting larger and larger as I keep working on it since in involves showing the user prompt for any action done on mice/litter/breeding that might empty a cage. 
I was talking to Rich and he shared a few ideas so that we can make this ticket more manageable on both development and testing :
# Break the ticket into smaller chunks
# Have a global setting that will delete a cage by default when cage is empty (especially because it might be disruptive with modal on top of modals) 
Please let me know what you think. 
CC : [~bwinter]","07/Aug/18 1:45 PM;cleduc;[~jadhikari] I think having the global setting is fine. We just need to allow for a cage to exist empty - meaning when created, before mice are added.  
We can auto delete cages that had mice which are all now dead, transferred, deleted or moved. 

If we hit a use case for needing the emptied cage we will deal with it. 
We need to look at iOS for functionality matching.

Do we rewrite this ticket?
cc: [~bwinter]
[~jcox]","07/Aug/18 2:01 PM;jcox;[~cleduc], [~jadhikari], [~bwinter], I'm just catching up on this comment chain and I feel like the scope increase is significant.

* If we want a global setting that deletes cages by default, that's cool, but that itself is a separate ticket.  And is that part of 1.2 (needed for go-live)?
* Selecting *which* cages to delete after a bulk update seems like a story beyond prompting to delete all or none.  If that really is a ~1 day additional effort like a previous comment says then we include it if [~cleduc] is comfortable with it.  Otherwise that should probably be it's own story as well.  

And yes, we definitely need to make sure we're matching up with iOS.

",,,,,,,,,,,,,,,,,
Data modified in RIO is not reflected,COMA-2226,28654,,Bug,Staging,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,jcox,jcox,19/Dec/17 10:32 AM,06/Jul/18 8:46 AM,04/Sep/18 1:25 PM,06/Jul/18 8:19 AM,,CM - Release 1.1,,,0,,,,,,,"After linking a cage to RIO data(data imported successfully), the user can modify the phone number in RIO. The change file is generated and uploaded to the Transnetyx ftp site - uet folder, however, the change is not propagated to Transnetyx.
Need to confirm that we are receiving and importing this data correctly.

(Smartsheet: COMA170)",,,,;06/Jul/18 8:19 AM;bwinter;60,;06/Jul/18 8:19 AM;bwinter;60,,,,,,,,0,120,,,0,120,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,rjonakin,{},,,,,,,,,,,,,,,,,rjonakin,,,Unassigned,,bwinter,0|i00u1b:,,,,We need to use a sample data file containing a phone number change and ensure that it is being imported correctly.,,,,,2018-01-08 17:06:45.188,08/Jan/18 11:06 AM;jmedlock;[~rjonakin] Did we do this? I think we may have been working from multiple tickets on the RIO data.,"11/Jan/18 2:31 PM;jmedlock;[~rjonakin] This is already in QA as you mentioned before, i am just escalating the ticket to the correct status. May need to adjust the release number also, if we release this in 1.1.",05/Jul/18 5:01 PM;rjonakin;The work for this ticket was a part of the fix in COMA-2110,"05/Jul/18 5:29 PM;rjonakin;[~bwinter]

I pushed this into QA, but I do not know if there is much you can test when you look at this ticket. This ticket was fixed by COMA-2110 Like I stated above. This has also been out in staging for  a while now. I think it is all working.","06/Jul/18 8:18 AM;bwinter;[~jmedlock], [~cleduc], [~jcox], [~rjonakin], I am not sure how to test this ticket, since (from what I understand from [~jmedlock]) it is special, one-off logic for UCSF users.  If there is anyone who would like me to reconsider, I am totally open to any ideas.  

For now, I will ""PASS"" it in testing and move it along to STAGING but am totally willing to re-open and test if anyone has a suggestion for how I could test in QA or Staging.

I am also changing the release to 1.1, since [~rjonakin] said in the comment above that this was part of the work done for another ticket released in 1.1.","06/Jul/18 8:46 AM;bwinter;[~cleduc], [~jcox], [~rjonakin], Just keeping you in the loop:

[~jmedlock] just replied via email that ""This is a pass I got confirmation from UCSF. We need to make 1 change but I will put in a new ticket if needed.""",,,,,,,,,,,,,,,,,,,,
Lab Contact Name missing from RIO information,COMA-2188,28551,,Bug,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,22/Nov/17 1:36 PM,12/Jul/18 3:27 PM,04/Sep/18 1:25 PM,12/Jul/18 3:27 PM,,CM - Release 1.2,,,0,,,,,,,"Lab contact name missing from RIO information (see screenshot).

(Smartsheet: COMA225)",,,,;12/Jan/18 4:16 PM;jmedlock;900,;21/May/18 11:33 AM;rjonakin;14400,;21/May/18 11:34 AM;rjonakin;1800,;21/May/18 11:34 AM;rjonakin;300,;12/Jul/18 3:27 PM;rwilliams;300,,,,,0,17700,,,0,17700,,,,,,,,,,,,,22/Nov/17 1:36 PM;jcox;CageDetails_LabContactName missing.png;https://transnetyx.atlassian.net/secure/attachment/25277/CageDetails_LabContactName+missing.png,21/May/18 11:28 AM;rjonakin;This Is Working.png;https://transnetyx.atlassian.net/secure/attachment/26892/This+Is+Working.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,rjonakin,{},,,,,,,,,,,,,,,,,rjonakin,,,Unassigned,,rjonakin,0|i00ten:,,,,"1) In the Wilkerson group, choose cage 2264677
2) View RIO details",,,,,2018-01-12 21:33:59.224,"12/Jan/18 3:33 PM;jmedlock;[~rjonakin] can you look at this ticket for RIO, I believe you corrected this also but wanted to verify.

Thanks,
Jim","12/Jan/18 4:03 PM;rjonakin;[~jmedlock]
I think I fixed this, but I can't quite remember, I'll check on it when I get some free time and I'll put an update in this ticket.",12/Jan/18 4:04 PM;jmedlock;[~rjonakin] Thanks man!,"21/May/18 11:32 AM;rjonakin;[~jmedlock]
[~jcox]

This is fixed.
Check the above screenshot attached to this ticket title ""This Is Fixed.png"".

 !This Is Working.png|thumbnail! ","21/May/18 11:35 AM;rjonakin;[~jcox]
I moved this ticket through the statuses, since this has been finished and deployed to the staging/UCSF environment. It has been sitting in my queue since November...",21/May/18 12:19 PM;jmedlock;[~rjonakin] Thanks man!,,,,,,,,,,,,,,,,,,,,
MGI Service: Search Jax site for alleles,COMA-2177,28517,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,jmedlock,jmedlock,jmedlock,14/Nov/17 3:20 PM,12/Jul/18 4:38 PM,04/Sep/18 1:25 PM,12/Jul/18 3:35 PM,,CM - Release 1.2,,,0,alleles,jax_website,mgi_integration,,,,"*This change should be completed in the Jax Service API.*
* Add a class to search the Jax web site for stock numbers and return MGI IDs for each allele
* Add a API exposed method to the MGI service that returns the MGI IDs for each allele

Search the Jax site for stock numbers and return alleles.",,,,;04/Jan/18 2:27 PM;jmedlock;28800,;26/Jan/18 2:12 PM;jmedlock;14400,;26/Jan/18 2:13 PM;jmedlock;3600,;12/Jul/18 3:35 PM;rwilliams;300,,,,,46800,0,47100,100%,46800,0,47100,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,jmedlock,{},,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,jmedlock,0|i00t73:,,,,,,,,,2018-01-04 20:47:30.458,"04/Jan/18 2:28 PM;jmedlock;[~rwilliams] I need to pull this into Prod at some point and with the latest updates to the branches, I would like your help when you get time.

Thanks,
Jim",04/Jan/18 2:47 PM;rwilliams;[~jmedlock] - you let me know when you are ready - it shouldn't take more than 10 minutes unless you really screwed things up or something... ;),"26/Jan/18 2:12 PM;jmedlock;[~rwilliams] dont forget to peer review this and move it on in the process please.

Thanks!",12/Jul/18 3:29 PM;rwilliams;[~jmedlock]  Did this get pulled into the source control and deployed to prod?,"12/Jul/18 3:35 PM;jmedlock;[~rwilliams] I am pretty sure it is there now. We are not using it yet but it did get pulled in.

Thanks,
Jim",12/Jul/18 3:48 PM;cleduc;[~rwilliams][~jmedlock] This is one where Amanda and I weren't sure how to tell if it is there or not. Am I right that this ticket is behind the scenes only? ,"12/Jul/18 4:37 PM;rwilliams;[~cleduc]  [~jmedlock]  Yes. This is a service that has no user interface. I moved all of those tickets that were in a “Staging” status to a “Production” status earlier (this is one of them and I assume the reason you are asking about it). Hopefully that will resolve some of your questions.  
",12/Jul/18 4:38 PM;cleduc;[~rwilliams] thanks!,,,,,,,,,,,,,,,,,,
"Change text from ""Gender"" to ""Sex""",COMA-2176,28515,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jcox,jcox,14/Nov/17 10:56 AM,12/Jul/18 3:30 PM,04/Sep/18 1:25 PM,12/Jul/18 3:30 PM,,CM - Release 1.2,,,0,,,,,,,"_As a user I, I want ""Gender"" to be changed to ""Sex"" so that the site's verbiage is clear and consistent._

+Acceptance Criteria+:
* The word ""Gender"" to is changed to ""Sex"".  Currently we are seeing 2 locations that show the word ""gender"", one in the mouse filter listing, and one in the spreadsheet interface for importing mice.  See attached screenshots.",,,,;12/Jan/18 4:19 PM;jmedlock;900,;14/Feb/18 4:36 PM;bkoch;3600,;14/Feb/18 9:32 PM;rwilliams;300,;22/Feb/18 8:54 AM;bwinter;30,;12/Jul/18 3:30 PM;rwilliams;300,,,,14400,0,5130,35%,14400,0,5130,,,,,,,,,,,,,22/Feb/18 8:54 AM;bwinter;PASSED - mice list - import mice - sex - 2018-02-22 08_51_03-.png;https://transnetyx.atlassian.net/secure/attachment/25960/PASSED+-+mice+list+-+import+mice+-+sex+-+2018-02-22+08_51_03-.png,22/Feb/18 8:54 AM;bwinter;PASSED - mice list - mouse filter - sex - 2018-02-22 08_51_03-.png;https://transnetyx.atlassian.net/secure/attachment/25959/PASSED+-+mice+list+-+mouse+filter+-+sex+-+2018-02-22+08_51_03-.png,14/Nov/17 10:56 AM;jcox;gender1.PNG;https://transnetyx.atlassian.net/secure/attachment/25255/gender1.PNG,14/Nov/17 10:56 AM;jcox;gender2.PNG;https://transnetyx.atlassian.net/secure/attachment/25254/gender2.PNG,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-15T11:58:45.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00t6n:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cull Mice: All mice culled results in empty cages,COMA-2135,28421,,Story,Peer Review,COMA,Colony Manager,software,admin,,,2 Important,,rwilliams,jmedlock,jmedlock,18/Oct/17 3:28 PM,29/Aug/18 2:49 PM,04/Sep/18 1:25 PM,,,CM - Release 1.3,,,0,,,,,,,"Once the cull list has been executed on OR
All mice in a cage have been culled from the cage

A user should be able to delete all empty cages resulting from the above transactions.

",,,,;29/Aug/18 2:49 PM;jadhikari;28800,,,,,,,,,0,28800,,,0,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jadhikari,jadhikari,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-08-29T14:49:24.162-0500"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00snj:,,,,,,,,,2018-07-19 16:45:57.92,"19/Jul/18 11:45 AM;tpatterson;Are new mockups needed for this ticket?

Also, suggestion:
* When all mice have been culled and cages no longer have any mice, a growler that appears at the side of the screen that notifies the user that the cage(s) are empty and give them the option to delete the cages.",01/Aug/18 5:35 PM;cleduc;[~jcox] I’m thinking this is covered by Jwala’s current work on COMA‌-2233?,"02/Aug/18 8:49 AM;jcox;[~cleduc], I don't see COMA-2233 explicitly calling out the scenario of all mice being culled, but it does reference the scenario of all mice being marked as dead.  It depends on how that ticket is coded, but I'm not sure that it covers this ticket.  In my opinion we should either keep both tickets and prioritize them closely, or modify COMA-2233 to explicitly include the scenario of culling all mice in cage.  Which are you more comfortable with?",02/Aug/18 9:47 AM;cleduc;thanks [~jcox]! [~jadhikari] what do you think is the best way to handle this? I ask as I know you're working on 2233. And...HAPPY BIRTHDAY to your son. Send pictures.,"02/Aug/18 9:53 AM;jadhikari;[~cleduc] I would need a little background to understand this ticket. I understand what we need to do but I need to understand the steps. What does cull list execution on OR mean ?
And Thank you very much for the wishes :)
cc: [~jcox]","02/Aug/18 10:07 AM;cleduc;[~jadhikari] Ahh, yes, odd wording there. 
Does this help?
Use case:
* User adds mice to cull list
* All mice in a cage are on the cull list (=marked for cull)
* User opens cull list and selects to cull all
* System marks these mice as dead and cage is empty (no live mice)
* System asks user if they would like to delete the empty cages
cc [~jcox]

","07/Aug/18 1:39 PM;jadhikari;[~cleduc] Thank you, yes that helped.","07/Aug/18 4:06 PM;tpatterson;[~cleduc], [~jadhikari] - This might be another scenario where we present a growler in the top right corner that informs the user that, because of their recent actions, several cages are now empty and asks them if they'd like to delete all empty cages.","08/Aug/18 1:13 PM;jadhikari;Hey [~bwinter], can we link this ticket to COMA-2233? This is extension of COMA-2233 basically.","08/Aug/18 1:23 PM;bwinter;[~jadhikari], link to COMA-2233 added.  I used the RELATES TO link.  Let me know if I should use a different link type.","08/Aug/18 1:37 PM;jadhikari;[~bwinter, that's perfect, just wanted some sort of connection between two. Thanks!",,,,,,,,,,,,,,,
Change scroll bar width to default width for browser,COMA-2097,28358,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,27/Sep/17 2:02 PM,12/Jul/18 3:36 PM,04/Sep/18 1:25 PM,12/Jul/18 3:36 PM,,CM - Release 1.2,,,0,,,,,,,"_As a user, I would like the scroll bars to be normal sizes so that I can more easily navigate my data._

+Acceptance Criteria+:
* Scroll bar sizing to be the default size for most browsers.

+Per Ted - Note for SQA+: 
Default browser values:
* OSX (Chrome, Safari, Firefox) - 15px
* Windows XP (IE7, Chrome, Firefox) - 17px
* Windows 7 (IE10, IE11, Chrome, Firefox) - 17px
* Windows 8.1 (IE11, Chrome, Firefox) - 17px
* Windows 10 (IE11, Chrome, Firefox) - 17px
* Windows 10 (Edge 12/13) - 12px
* Updating the scroll bar size to default or 15 px would make the site more user friendly on Kendo grids.

(Smartsheet: COMA146)",,,,;12/Jan/18 4:16 PM;jmedlock;900,;14/Feb/18 3:57 PM;bkoch;3600,;14/Feb/18 9:32 PM;rwilliams;300,;12/Mar/18 2:23 PM;bwinter;900,;12/Jul/18 3:36 PM;rwilliams;300,,,,43200,0,6000,13%,43200,0,8100,,,,,,,,,,,,,12/Mar/18 2:23 PM;bwinter;PASSED - Scroll bars in IE 11 - 2018-03-12 14_19_30-.png;https://transnetyx.atlassian.net/secure/attachment/26192/PASSED+-+Scroll+bars+in+IE+11+-+2018-03-12+14_19_30-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-15T11:57:56.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,qevans,0|i00s9z:,,,,,,,,,2018-01-16 21:08:10.948,16/Jan/18 3:08 PM;tpatterson;These should be changed to their default appearances across browsers and devices. It makes sense to keep them at default because the user is already conditioned to each environment's scrolling look and feel.,,,,,,,,,,,,,,,,,,,,,,,,,
Display mouse/litter/breeding age in weeks when older than 28 days,COMA-2069,28284,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,05/Sep/17 9:15 AM,12/Jul/18 3:38 PM,04/Sep/18 1:25 PM,12/Jul/18 3:38 PM,,CM - Release 1.2,,,0,,,,,,,"_As a user, I want to see *mouse age*, *litter age*, and *breeding time* (""age"") in days until the 29 day, then from 29 days and beyond, I want to see them in weeks, so that I see age in terms of how we normally talk about them when managing the colony._

+Scenario+: _Display age_
*Given* the age of the {{<object>}} is equal to {{<days>}}
*When* the age is displayed
*Then* the age is displayed as {{<display_age>}}.

+Scenario+: _Sorting by age_
*Given* I am looking at a list with an {{<object>}} age column
*When* I sort the list by the age column
*Then* the age is sorting by the underlying age in days (e.g. this list is correctly sorted: {{1d, 2d, 5d, 6d, 28d, 5w, 6w, 28w}})

+Examples+:

|| {{object}} ||
| {{mouse}} |
| {{litter}} |
| {{breeding}} |

|| {{days}} || {{display_age}} ||
| {{1}} | {{1d}} |
| {{2}} | {{2d}} |
| {{...}} | {{...}} |
| {{28}} | {{28d}} |
| *{{29}}* | *{{5w}}* |
| {{30}} | {{5w}} |
| {{...}} | {{...}} |
| {{35}} | {{5w}} |
| *{{36}}* | *{{6w}}* |
| {{37}} | {{6w}} |
| {{...}} | {{...}} |
| {{42}} | {{6w}} |
| *{{43}}* | *{{7w}}* |
| {{44}} | {{7w}} |
| {{...}} | {{...}} |
| {{49}} | {{7w}} |
| {{...}} | {{...}} |

h1. Notes

* This task will assist the user visually in determining the age of mice in their colony. 
* Ages are generally referred to in weeks not days after the 28th day.

h1. Places that Display Age
Below are pages that display mouse/litter age

* Breedings > Breeding Details
** {color:#14892c}Banner > Active Age (of Breeding) - PASSED{color}
** {color:#14892c}Banner > Active Litter Ages - PASSED{color}
** {color:#14892c}Mouse Record(s) in Parent Tab - PASSED{color}
** {color:#14892c}Mouse Record(s) in Offspring Tab - PASSED{color}
* {color:#14892c}Breeding Wizard > Step 2 > Add Breeding Parents - PASSED{color} 
* {color:#14892c}Litters > Age column - PASSED{color}
* Litters > Litter Details
** {color:#14892c}Age detail in Litter Banner - PASSED{color}
** {color:#14892c}Mouse Record(s) in Parent Tab - PASSED{color}
** {color:#14892c}Mouse Record(s) in Offspring Tab - PASSED{color}
* Litters > Litter workbench 
** {color:#14892c}Age detail in Litter Banner - PASSED{color}
** {color:#14892c}Mouse Record(s) in Parent Group - PASSED{color}
** {color:#14892c}Mouse Record(s) in Offspring Group - PASSED{color}
* {color:#14892c}Mice > Age column - PASSED{color}
* {color:#14892c}Cages > Cage icon with litters - PASSED{color}
* Cages > Cage Details
** {color:#14892c}Mice Records - PASSED{color}
** {color:#14892c}Litter Records - PASSED{color}
* {color:#14892c}Cage Workbench > Cages > Mice Records - PASSED{color}


h1. Note to SQA

This ticket was tested using Google Chromes instead of Internet Explorer, because the test path chosen required setting up breedings, but the breeding wizard has a bug, see COMA-2360 - Cannot see text inside input fields for Breeding Wizard in IE 11 browser.

h1. Smartsheet Note

(Smartsheet: COMA198)


",,,,;24/Jan/18 2:15 PM;jcox;10800,;19/Feb/18 5:34 AM;bkoch;21600,;19/Feb/18 7:08 AM;rwilliams;300,;27/Feb/18 8:54 AM;bwinter;28800,;28/Feb/18 10:51 AM;bwinter;60,;12/Jul/18 3:38 PM;rwilliams;300,,,28800,0,61860,214%,28800,0,74040,,,,,,,COMA-2393,,,,,,27/Feb/18 8:59 AM;bwinter;COMA-2069 - testing notes - 2018-02-27-0857.docx;https://transnetyx.atlassian.net/secure/attachment/26046/COMA-2069+-+testing+notes+-+2018-02-27-0857.docx,27/Feb/18 8:36 AM;bwinter;PASSED - Breeding Details - Offspring Tab - Mice Records - 2018-02-26 15_03_41-.png;https://transnetyx.atlassian.net/secure/attachment/26034/PASSED+-+Breeding+Details+-+Offspring+Tab+-+Mice+Records+-+2018-02-26+15_03_41-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Cage Details - Ages in Parent Records - 2018-02-26 14_28_04-.png;https://transnetyx.atlassian.net/secure/attachment/26035/PASSED+-+Cage+Details+-+Ages+in+Parent+Records+-+2018-02-26+14_28_04-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Cage Map Icons - 2018-02-26 14_25_37-.png;https://transnetyx.atlassian.net/secure/attachment/26032/PASSED+-+Cage+Map+Icons+-+2018-02-26+14_25_37-.png,28/Feb/18 10:50 AM;bwinter;PASSED - Cage map - litter records - litter ages in weeks (where appropriate) - negative ages in days but that is okay - 2018-02-28 10_45_53-.png;https://transnetyx.atlassian.net/secure/attachment/26077/PASSED+-+Cage+map+-+litter+records+-+litter+ages+in+weeks+%28where+appropriate%29+-+negative+ages+in+days+but+that+is+okay+-+2018-02-28+10_45_53-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter Details - Mice Records - Offspring - 2018-02-27 08_26_41-.png;https://transnetyx.atlassian.net/secure/attachment/26028/PASSED+-+Litter+Details+-+Mice+Records+-+Offspring+-+2018-02-27+08_26_41-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter Details - Mice Records - Parents - 2018-02-27 08_26_41-.png;https://transnetyx.atlassian.net/secure/attachment/26031/PASSED+-+Litter+Details+-+Mice+Records+-+Parents+-+2018-02-27+08_26_41-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter Workbench - Banner - Litter Age - 2018-02-26 14_55_17-.png;https://transnetyx.atlassian.net/secure/attachment/26027/PASSED+-+Litter+Workbench+-+Banner+-+Litter+Age+-+2018-02-26+14_55_17-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter Workbench - Mice Records - Offspring - 2018-02-27 08_26_41-.png;https://transnetyx.atlassian.net/secure/attachment/26029/PASSED+-+Litter+Workbench+-+Mice+Records+-+Offspring+-+2018-02-27+08_26_41-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Litter workbench - Mice Records - Parents - 2018-02-27 08_34_36-.png;https://transnetyx.atlassian.net/secure/attachment/26030/PASSED+-+Litter+workbench+-+Mice+Records+-+Parents+-+2018-02-27+08_34_36-.png,27/Feb/18 8:36 AM;bwinter;PASSED - Workbench - Cage Cards - Mice Records - 2018-02-26 14_42_34-.png;https://transnetyx.atlassian.net/secure/attachment/26033/PASSED+-+Workbench+-+Cage+Cards+-+Mice+Records+-+2018-02-26+14_42_34-.png,28/Feb/18 10:50 AM;bwinter;PASSED - active breeding age in weeks - active litter ages in weeks (where appropriate) - negative litters in days but no problem there - 2018-02-28 10_41_15-.png;https://transnetyx.atlassian.net/secure/attachment/26075/PASSED+-+active+breeding+age+in+weeks+-+active+litter+ages+in+weeks+%28where+appropriate%29+-+negative+litters+in+days+but+no+problem+there+-+2018-02-28+10_41_15-.png,28/Feb/18 10:50 AM;bwinter;PASSED - breeding wizard - step 2 - select parents - age column in weeks (where appropriate) - 2018-02-28 10_43_54-.png;https://transnetyx.atlassian.net/secure/attachment/26076/PASSED+-+breeding+wizard+-+step+2+-+select+parents+-+age+column+in+weeks+%28where+appropriate%29+-+2018-02-28+10_43_54-.png,27/Feb/18 8:36 AM;bwinter;PASSED - litter details - parents - 2018-02-26 14_20_45-.png;https://transnetyx.atlassian.net/secure/attachment/26036/PASSED+-+litter+details+-+parents+-+2018-02-26+14_20_45-.png,27/Feb/18 8:36 AM;bwinter;PASSED - litter list - sorting by litter age desc - 2018-02-26 14_03_46-.png;https://transnetyx.atlassian.net/secure/attachment/26038/PASSED+-+litter+list+-+sorting+by+litter+age+desc+-+2018-02-26+14_03_46-.png,27/Feb/18 8:36 AM;bwinter;PASSED - mice list - sorting by mice age asc - 2018-02-26 09_05_49-.png;https://transnetyx.atlassian.net/secure/attachment/26039/PASSED+-+mice+list+-+sorting+by+mice+age+asc+-+2018-02-26+09_05_49-.png,27/Feb/18 8:36 AM;bwinter;PASSED - mice list - sorting by mice age desc - 2018-02-26 09_05_49-.png;https://transnetyx.atlassian.net/secure/attachment/26037/PASSED+-+mice+list+-+sorting+by+mice+age+desc+-+2018-02-26+09_05_49-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,bkoch,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2018-02-22T00:04:29.000-0600"",""dataType"":""repository""},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00rtj:,,,,,,,,,2018-01-14 02:28:37.719,13/Jan/18 8:28 PM;bwinter;[~jmedlock] Mouse age and Litter age are typically displayed in weeks on day 29 and beyond.  What about Breeding time?  Does the same rule follow?,"15/Jan/18 8:26 AM;jmedlock;[~bwinter] i think i understand where in the app you are talking about so I am thinking that anywhere we display an age of something, we should follow the same display rules.
","19/Jan/18 1:40 PM;jmedlock;[~bwinter] [~jcox] any updates or questions that still need to be answered here before we send to ""Needs Scoring"" change control?
","19/Jan/18 1:42 PM;bwinter;[~jmedlock] and [~jcox] before I understood the differences between a task and a story, I wrote this as a ""task"".  I can change to story format.","19/Jan/18 1:45 PM;jmedlock;[~bwinter] [~jcox] Sounds good. If we have a need to incorporate Tasks as an issue type, I am open to that idea as long as the workflow still makes sense.

Thanks,
Jim","19/Jan/18 2:14 PM;bwinter;[~jmedlock] and [~jcox] This card is now ready for estimation.  [~jmedlock] after talking with Jeff, I can see how my conception of a ""task"" card is the same as a story card.  Having different workflows for tasks-that-are-stories and tasks-that-are-subtasks-of-stories would likely cause confusion.","16/Feb/18 8:20 AM;bkoch;[~bwinter] [~jmedlock], just making sure, but we're only replacing this in the lists correct?  Or if other places, do we have a specific list of all the places it needs changed?","16/Feb/18 8:44 AM;bwinter;[~bkoch] [~jmedlock] There is a ""Note to SQA"" section in the description that notes all the places where ""age"" comes up.  I am not sure it is exhaustive, but I feel confident it covers a majority of the places.","16/Feb/18 8:47 AM;bkoch;Thanks [~bwinter], will use that as a reference, totally looked over it.","16/Feb/18 8:49 AM;bwinter;[~bkoch] No problem at all.  It is my fault, I need to change the section title from ""Notes to SQA"" to ""Places where XYZ happens""  or something like that.   There were a couple of other tickets where ""Notes to SQA"" section listed the places where the given ticket function could occur.",,,,,,,,,,,,,,,,
Add Existing Mice to Cage,COMA-2064,28271,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,28/Aug/17 9:50 AM,20/Aug/18 10:42 AM,04/Sep/18 1:25 PM,16/Jul/18 4:48 PM,,CM - Release 1.2,,,0,add_mice,cage_map,cage_method,filtered_mice_list,,,"_As a user, I want to add *existing* mice to a cage from the cage details modal, because it is convenient._

+Acceptance Criteria+:
* When I open the Cage Details, then I can add existing mice to the cage from a new page that lists existing mice using an interface similar to the Add Breeding Parents view.  
* !addmice.JPG|thumbnail! 
* By default, the existing mice list should be filtered to only show mice that are not currently assigned a cage.
* -User can modify the filter to include mice that are NOT already assigned to a cage.-
* When user clicks the add button on a Mouse row, the row stays visible but indicates that the mouse is added.
* Users can remove/deselect mice that they have clicked Add on.
* -Users can sort the columns visible in this view.-
* When the user completes their selection they are returned to the cage map with the cage details view open to the cage they were just adding mice to.

+Task+: _Change ""Add Mice"" link to ""Add New Mice""_

+Scenario+: _Add ""Add Existing Mice"" to Cage Details_
*Given* that I have accessed the Cage Details
*When* I click ""Add Existing Mice"" button
*Then* I am taken to an Add-Existing-Mice Mice List where I can filter by all filters currently on Mice List and search for mice
*And* the Add-Existing-Mice Mice List is -default- filtered by *alive* mice *without* an assigned cage
-*And* I can change the default filer if desired.-
*And* I can select multiple mice from the Add-Existing-Mice Mice List
*And* I am presented with a Add Mice button that adds mice to Cage

----

h1. Notes

h2. Already in iOS

This story already exists in iOS.  Below are the steps to add *existing* mice to a cage.

# from Dashboard, click *Cages* button > user taken to _Cage List_
# from _Cage List_, click *Add Mice* button/link on desired cage > _Actions_ modal pops up (see *IMG_0005.PNG*)
# from _Actions Modal_, click *Add Existing Mice* button > a _Select Mice_ modal pops up with *auto-filter* for _alive_ mice _without a cage_ (see *IMG_0006.PNG*)
# from _Select Mice_ modal, *select a mouse from auto-filtered list* or change filter to find desired mouse.

(Smartsheet: COMA317)",,,,;13/Jan/18 10:07 PM;bwinter;1800,;17/May/18 4:47 PM;jadhikari;86400,;25/May/18 2:24 PM;rwilliams;300,;29/May/18 8:46 AM;bwinter;600,;08/Jul/18 10:45 PM;bwinter;1800,,,,115200,0,90900,78%,115200,0,120900,,,,,,,COMA-2631,COMA-2625,,,,,11/Dec/17 9:47 AM;bwinter;IMG_0005.PNG;https://transnetyx.atlassian.net/secure/attachment/25424/IMG_0005.PNG,11/Dec/17 9:47 AM;bwinter;IMG_0006.PNG;https://transnetyx.atlassian.net/secure/attachment/25425/IMG_0006.PNG,08/Jul/18 10:45 PM;bwinter;PASSED - Add Existing Mice to Cage button allows user to select existing mice not yet assigned to cage - 2018-07-08 22_42_22-.png;https://transnetyx.atlassian.net/secure/attachment/27093/PASSED+-+Add+Existing+Mice+to+Cage+button+allows+user+to+select+existing+mice+not+yet+assigned+to+cage+-+2018-07-08+22_42_22-.png,08/Jul/18 10:45 PM;bwinter;PASSED - Existing mice successfully added to cage - 2018-07-08 22_44_21-.png;https://transnetyx.atlassian.net/secure/attachment/27094/PASSED+-+Existing+mice+successfully+added+to+cage+-+2018-07-08+22_44_21-.png,21/Feb/18 1:43 PM;jcox;addmice.JPG;https://transnetyx.atlassian.net/secure/attachment/25949/addmice.JPG,25/Jun/18 12:00 PM;bwinter;screenshot-1.png;https://transnetyx.atlassian.net/secure/attachment/27063/screenshot-1.png,25/Jun/18 12:00 PM;bwinter;zzz - Does modal need to be wider if screen allows it.png;https://transnetyx.atlassian.net/secure/attachment/27064/zzz+-+Does+modal+need+to+be+wider+if+screen+allows+it.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-05-25T14:24:42.445-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00rqv:,,,,,,,,,2017-12-11 15:39:34.229,"08/Dec/17 4:14 PM;jmedlock;[~bwinter] can you comment back on the steps on how this is done on iOS?
","11/Dec/17 9:39 AM;bwinter;[~jmedlock], in iOS | QA, to add *existing* mice to a cage from the _cage details_ modal, the user can follow these steps:

# from Dashboard, click Cages button > user taken to _Cage List_
# from _Cage List_, click ""Add Mice"" button on desired cage > _Actions_ modal pops up
# from _Actions Modal_, click ""Add Existing Mice"" button > a _Select Mice_ modal pops up with *auto-filter* for _alive_ mice _without a cage_.
# from _Select Mice_ modal, select a mice from auto-filtered list or change filter to find desired mouse.","17/Jan/18 1:32 PM;tpatterson;[~jmedlock] & [~bwinter] - Since this could be a potentially confusing process, I'd recommend that if the user selects ""Add Existing Mice"" they are taken to another page where they are presented a limited view of the Mice List. From here they could select, deselect, filter, search, and (at the bottom of the page) save or cancel. Also, it would be extremely helpful on both platforms to see how many mice you've selected and, if it's possible, easily see which ones have been selected. Like I mentioned this is where a user may get lost or forget which mice they've selected, having some way to display the collection of mice they're currently considering to add to the cage would takes pressure off the user and keep them moving forward.","17/Jan/18 2:56 PM;bwinter;[~jmedlock], I second [~tpatterson]'s comment.

[~tpatterson], did you see the attached screenshots below from iOS? What would you keep and change about them to fit your idea?

!IMG_0005.PNG|thumbnail! 
!IMG_0006.PNG|thumbnail! 

[~tpatterson], correct me if I am wrong:  the UI for this card would require these 3 items below.

* use a page for mice selection (as opposed to modal view)
* show count of mice selected
* visualize mice selected---I think this is done in iOS with the left-hand column of circles which are filled when you select a mouse
","17/Jan/18 3:30 PM;tpatterson;I did see those and you've definitely bulleted out what I suggested. I think that the iOS would also benefit from taking the user to another screen and having all real estate set aside to take the user through the adding process. With this approach, we'd have space to allow users to select mice, inform how many are selected, visualize which mice are selected and, finally, ""map"" or ""add"" mice to the cage. The only difference between what is currently being done (the users seeing the circle selections) and this last addition that I presented is that once a user has scrolled down enough or started another search, those selected mice will be out of view and could be forgotten or hard to find again. To keep our real estate in check, I think that a ""Currently Selected"" filter could help people quickly bring all their selections back into view again. I still think that this feature may be too hidden for most people to logically find it, but it could be a good first step.","07/Feb/18 4:48 PM;tpatterson;I've attached 2 mockups of some potential options for the add mouse to cage view. Clarification: the x icon would be used to clear all selections and the check icon could be used to only show currently selected mice. I'm not quite sure if using the check option is the best route, but the alternative would be to just include ""view selected"" and ""view all"" under filters. Thoughts?","21/Feb/18 1:46 PM;jcox;I've modified this story to be in line with the discussion we had during story estimation.  There is a new screenshot included of the existing UI for adding breeding parents, which is to be used as the template for the new page detailed by this story.","10/May/18 3:54 PM;jadhikari;[~jcox] [~tpatterson] Do we know what columns we want to show in the cage free mouse grid? 
cc [~jmedlock]","10/May/18 4:58 PM;jmedlock;[~jadhikari] [~tpatterson][~cleduc]

Jwala I think we can go simple an reuse the fields that iOS displays on the mouse cell in the above screen.
I believe they are:

Mouse Age, Gender, ID if present, Strain, Genotype, Owner initials, Labels.

[~cleduc] all of these required to identify a mouse? Can we limit to Age, gender, strain, genotype?

Thanks,
jim","11/May/18 8:12 AM;cleduc;[~jadhikari][~jmedlock][~tpatterson]
I think you can limit ID, Strain, Age, Gender, Genotype.
If possible, owner initials and labels would be helpful because the technician can receive one shipment of a strain and then be required to divide the animals based on the researcher and experiments. ","25/Jun/18 11:57 AM;bwinter;[~tpatterson], On Feb 7, you commented in this ticket that you attached 2 mock-ups, but I don't see them attached.  Probably too late now, but I just wanted to double-check if you still had them or not.
","25/Jun/18 11:58 AM;bwinter;[~cleduc], one of the acceptance criterion for this ticket was to have sort-able columns for the Add Existing Mice modal.  Is that still desired?","25/Jun/18 12:00 PM;bwinter;[~cleduc] Also, do you want the modal to be wider if the screen allows it?  Right now, it seems like the modal will only stretch so far which makes the Genotype and Strain hard to read.

 !zzz - Does modal need to be wider if screen allows it.png|thumbnail! ","25/Jun/18 12:02 PM;tpatterson;[~bwinter], I'm not quite sure where they are, as well. I'm going to stop by your office at some point and we'll look through the T Drive together. While the mockups will be dated, they may provide some directions.","25/Jun/18 12:03 PM;bwinter;[~cleduc], Sorry.  One more thing.  Two more acceptance criteria were the following:

* By default, the existing mice list should be filtered to only show mice that are not currently assigned a cage.
* User can modify the filter to include mice that are NOT already assigned to a cage.

The first one appears to be met, but the latter does not, which means that users will NOT be able to use ""Add Existing Mice"" feature to add mice that are in another cage.  It will only work for mice not yet assigned to a cage.
","25/Jun/18 1:00 PM;cleduc;[~bwinter] [~tpatterson]Hi! Let me know if I miss any questions.  

_By default, the existing mice list should be filtered to only show mice that are not currently assigned a cage._ - Yes.

_to have sort-able columns for the Add Existing Mice modal. Is that still desired?_ - Desired but I am willing to fly without it first pass. I vote to create a ""upgrade to Adding Existing Mice Feature"" ticket and add this functionality to that ticket.

_do you want the modal to be wider if the screen allows it? Right now, it seems like the modal will only stretch so far which makes the Genotype and Strain hard to read._ - If easy OK, if not, put in ""Upgrade to..."" ticket

_User can modify the filter to include mice that are NOT already assigned to a cage._ - Stick this in the ""upgrade to"" ticket also, although this is nice, it should not hold up the ticket as they can, and probably should, do this in the workbench.","25/Jun/18 2:30 PM;bwinter;[~cleduc],  I added these features to COMA-2625.   

[~tpatterson], when we get the chance, we should add the mock-ups to COMA-2625 instead of this ticket.","08/Jul/18 10:48 PM;bwinter;[~cleduc], [~jmedlock], I am passing this ticket.  Users can now add existing mice to cage from the Cage Map for mice not already assigned to cage. Great job, [~jadhikari]!  

I noticed that the add existing mice to cage does not work as expected when using this feature from the Cage Workbench.  The mice are added to the cage, but you cannot visually see the mouse records until you leave the Cage Workbench and go back to the Cage Map.

I will put in a bug ticket for this and assign to Unplanned: COMA-2631",,,,,,,,
Modify the Add Mice form,COMA-2058,28261,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,23/Aug/17 2:55 PM,12/Jul/18 3:41 PM,04/Sep/18 1:25 PM,12/Jul/18 3:41 PM,,CM - Release 1.1,CM - Release 1.2,,0,add_mice,creates_mice_unassigned_to_cage,prompt_user,quick-add,,,"_As a user, I want to quick-add mice to a strain or cage, so that I can quickly build up my colony to get started with the app._

+Acceptance Criteria+:

* When I click + button from Mice Panel on Dashboard, I want to be presented with a quick-add mice view.
* When I click ""Add Mice"" from a Cage, I want to be presented with a quick-add mice view.

+Scenario+: _""Quick-add"" mice from Mice Panel on Dashboard_
*Given* I am at the Dashboard 
*When* I click the + button in the Mice Panel
*Then* I am presented with a Quick-Add mice page where mice can be added quickly to my colony by strain.

+Scenario+: _""Quick-add"" mice from Cage Card_
*Given* I am at the Cage Map
*And* I click a Cage Icon to access the Cage Card
*When* I click Add Mice link
*Then* I am presented with a Quick-Add mice page where mice can be added quickly to my colony by strain.

+Scenario+: _Prompt user with ""Quick-Add"" page - from Cage Card_
*Given* that I have quick-added mice from Cage Card Panel
*When* I am presented with Quick-Add page
*Then* I can quickly set strain from strain drop-down
*And* I can quickly add mice data per row with 4 columns plus a button: *mouse id*, *genotype*, *sex*, *date of birth*, *remove button*
*And* I can quickly add mice row via ""+ Add New Mouse"" button
*And* I am presented with ""Cancel"" and ""Save"" buttons

+Scenario+: _Prompt user with ""Quick-Add"" page - from Mice Panel_
*Similar to* _Prompt user with ""Quick-Add"" page - from Cage Card_ \[differences in {color:#59afe1}blue{color}\]
*Given* that I have quick-added mice from Cage Card Panel
*When* I am presented with Quick-Add page
*Then* I can quickly set strain from strain drop-down
{color:#59afe1}*And* I can select cage from Cage drop-down{color}
*And* I can quickly add mice data per row with 4 columns plus a button: *mouse id*, *genotype*, *sex*, *date of birth*, *remove button*
*And* I can quickly add mice row via ""+ Add New Mouse"" button
*And* I am presented with ""Cancel"" and ""Save"" buttons

+Scenario+: _Select strain_
*Given* that I am presented with Quick-add page
*When* I select strain from from the Strain drop-down
*Then* the selected strain will be the assigned strain for each mouse added via Quick-Add page

+Scenario+: _Auto-fill Mouse ID_
*Given* that I am presented with Quick-add page
*When* I select strain from from the Strain drop-down
*Then* the Mouse ID is auto-filled (or not) according to the Offspring Settings set at the Strain Level

+Scenario+: _Auto-fill Mouse Genotype_
*Given* that I am presented with Quick-add page
*When* I select strain from from the Strain drop-down
*Then* the Mouse Genotype is auto-filled by first Genotype of the first Gene available for the selected strain
*And* the selected Mouse Genotype is displayed in the Mouse Genotype drop-down

+Scenario+: _Default state of Mouse sex is UNKNOWN_

+Scenario+: _Default state of Mouse Date of Birth sex is TODAY'S DATE_

+Scenario+: _Clicking remove button when there's only one row_
*Given* that I am presented with the Quick-add page
*And* there is only one new mouse row
*When* I click the remove button for the only row showing
*Then* the Quick Add page is cancelled
*And* I am taken back to previous page that called Quick-add page

+Scenario+: _Clicking ""+ Add new mouse"" button to add new mice_
*Given* that I am presented with the Quick-add page
*When* I click the ""+ Add new mouse"" button
*Then* a new mouse row is added
*And* Mouse ID is auto-filled (or not) according to Offspring Settings at Strain Level
*And* Mouse Genotype *copies previous* row's Genotype
*And* Mouse sex *copies previous* mouse's sex
*And* Mouse Date of birth *copies previous* mouse's date of birth

+Scenario+: _Clicking remove button when there's more than one row_
*Given* that I am presented with the Quick-add page
*And* more than one mouse row has been added
*When* I click the remove button for any mouse row (including the first row)
*Then* that mouse row is removed from Quick-Add page
*And* Mouse ID's for remaining rows are auto-filled again

+Scenario+: _Clicking Cancel button_
*Given* that I am presented with the Quick-add page
*When* I click the ""Cancel"" button
*Then* I am prompted with a modal to cancel or confirm cancellation

+Scenario+: _Clicking Save when coming from Cage Card_
*Given* that I am in the Cage Card view
*And* that I add mice to the Cage
*And* that I am presented with the Quick-add page 
*When* I click the ""Save"" button
*Then* all added mice are saved under that strain
*And* all added mice are added to that Cage

+Scenario+: _Clicking Save when coming from Dashboard Mice Panel_
*Given* that I am at the Dashboard
*And* that I click to add mice from the Mice panel + button
*And* that I am presented with the Quick-add page from the Cage Card view
*When* I click the ""Save"" button
*Then* all added mice are saved under that strain
*And* I am prompted to add created mice to a cage

+Scenario+: _Prompt user to add mice to a cage_
*Given* that I have successfully added mice to my colony from the Quick-add page
*When* I am prompted to Add Mice to a Cage
*Then* the prompt says ""Would you like to add these mice to a cage?""
*And* the user is presented with two buttons ""No"" and ""Yes""
*And* the user is presented with a small note at bottom of prompt stating ""If no, then mice will be unassigned to a cage and can only be searched from Mice List by removing strain filter and sorting by Cage ID, where unassigned mice have a blank for the Cage ID.""

+Scenario+: _Click No to Add Mice to Cage prompt_
*Given* that Add Mice to Cage prompt has been presented
*When* I click No button
*Then* add mice are created but are *not* assigned to a cage

+Scenario+: _Click Yes to Add Mice to Cage prompt_
*Given* that Add Mice to Cage prompt has been presented
*When* I click Yes button
*Then* I am redirected to Cage Workbench with all created mice added to a new cage

+Scenario+: _Click off Add Mice to Cage prompt modal_
*Given* that Add Mice to Cage prompt has been presented
*When* I click off the modal 
*Then* I am redirected to back to Quick-add mice page with all mice data still sitting there ready for me to take an action on it.

+Scenario+: _Clicking to change Mouse Genotype when strain has *{{one}}* gene with *{{n}}* allele combinations_
*Given* that I am presented with Quick-add page
*When* I select one {{<genotype>}} from the Mouse Genotype drop-down
*Then* the {{<selected result>}} is displayed in the Mouse Genotype drop-down

+Examples+:

|| {{genotype}} || {{selected result}}||
| {{Gene <allele combo 1>}} | {{*Gene* <allele combo 1>}} |
| {{Gene <allele combo 2>}} | {{*Gene* <allele combo 2>}} |
| {{...}} | {{...}} |
| {{Gene <allele combo n>}} | {{*Gene* <allele combo n>}} |

+Scenario+: _Clicking to change Mouse Genotype when strain has *{{two}}* genes with *{{n1}}* and *{{n2}}* allele combinations, respectively_
*Given* that I am presented with Quick-add page
*When* I select {{<Gene1 allele combo>}} and {{<Gene2 allele combo>}}from the Mouse Genotype drop-down
*Then* the {{<selected result>}} is displayed in the Mouse Genotype drop-down

+Examples+:

|| {{Gene1 allele combo}} || {{Gene2 allele combo}} || {{selected result}} ||
| *{{Gene1 <allele combo 1>}}* | {{Gene2 <allele combo 1>}} | {{*Gene1* <allele combo 1> *Gene2* <allele combo 1>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 2>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 2>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <...>}} | {{*Gene1* <allele combo 1>  *Gene2* <...>}} |
| {{Gene1 <allele combo 1>}} | *{{Gene2 <allele combo n2>}}* | *{{Gene1 <allele combo 1>  Gene2 <allele combo n2>}}* |
| *{{Gene1 <allele combo 2>}}* | {{Gene2 <allele combo 1>}} | {{*Gene1* <allele combo 2>  *Gene2* <allele combo 1>}} |
| {{Gene1 <allele combo 2>}} | {{Gene2 <allele combo 2>}} | {{*Gene1* <allele combo 2>  *Gene2* <allele combo 2>}} |
| {{Gene1 <allele combo 2>}} | {{Gene2 <...>}} | {{*Gene1* <allele combo 1> *Gene2* <...>}} |
| {{Gene1 <allele combo 2>}} | *{{Gene2 <allele combo n2>}}* | *{{Gene1 <allele combo 2>  Gene2 <allele combo n2>}}* |
| *{{...}}* | {{...}} | {{...}} |
| *{{Gene1 <allele combo n1>}}* | {{Gene2 <allele combo 1>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo 1>}} |
| {{Gene1 <allele combo n1>}} | {{Gene2 <allele combo 2>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo 2>}} |
| {{Gene1 <allele combo n1>}} | {{Gene2 <...>}} | {{*Gene1* <allele combo 1>  *Gene2* <...>}} |
| {{Gene1 <allele combo n1>}} | *{{Gene2 <allele combo n2>}}* | *{{Gene1 <allele combo n1>  Gene2 <allele combo n2>}}* |

+Scenario+: _Clicking to change Mouse Genotype when strain has *{{K}}* genes with *{{n1}}*, *{{n2}}*, ..., *{{nK}}* allele combinations, respectively_
*Given* that I am presented with Quick-add page
*When* I select {{<Gene1 allele combo>}}, {{<Gene2 allele combo>}}, ...,  {{<GeneK allele combo>}} from the Mouse Genotype drop-down
*Then* the {{<selected result>}} is displayed in the Mouse Genotype drop-down

+Examples+:

|| {{Gene1 allele combo}} || {{Gene2 allele combo}} || {{...}} || {{GeneK allele combo}} || {{selected result}} ||
| *{{Gene1 <allele combo 1>}}* | {{Gene2 <allele combo 1>}} | {{...}} | {{GeneK <allele combo 1>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 1>  ...  *GeneK* <allele combo 1>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 1>}} | {{...}} | {{GeneK <allele combo 2>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 1>  ...  *GeneK* <allele combo 2>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 1>}} | {{...}} | {{GeneK <allele combo nK>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 1>  ...  *GeneK* <allele combo nK>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| *{{Gene1 <allele combo 1>}}* | *{{Gene2 <allele combo 2>}}* | {{...}} | {{GeneK <allele combo 1>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 2>  ...  *GeneK* <allele combo 1>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 2>}} | {{...}} | {{GeneK <allele combo 2>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 2>  ...  *GeneK* <allele combo 2>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo 2>}} | {{...}} | {{GeneK <allele combo nK>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo 2>  ...  *GeneK* <allele combo nK>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| *{{Gene1 <allele combo 1>}}* | *{{Gene2 <allele combo n2>}}* | {{...}} | {{GeneK <allele combo 1>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo 1>}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo n2>}} | {{...}} | {{GeneK <allele combo 2>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo 2>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| {{Gene1 <allele combo 1>}} | {{Gene2 <allele combo n2>}} | {{...}} | {{GeneK <allele combo nK>}} | {{*Gene1* <allele combo 1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo nK>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| *{{Gene1<allele combo n1>}}* | *{{Gene2 <allele combo n2>}}* | {{...}} | {{GeneK <allele combo 1>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo 1>}} |
| {{Gene1 <allele combo n1>}} | {{Gene2 <allele combo n2>}} | {{...}} | {{GeneK <allele combo 2>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo 2>}} |
| {{...}} | {{...}} | {{...}} |{{...}}| {{...}} |
| {{Gene1 <allele combo n1>}} | {{Gene2 <allele combo n2>}} | {{...}} | {{GeneK <allele combo nK>}} | {{*Gene1* <allele combo n1>  *Gene2* <allele combo n2>  ...  *GeneK* <allele combo nK>}} |

-----

h1. Housekeeping Notes

h2. Notes to BA

* The hand-drawn views for the Quick-Add page are accidentally *missing Cancel and Save buttons*.
* This ticket assumes that Quick-Add is handled as a page instead of a modal; it is currently being handled as a modal.
* Another ticket may be in for drop down selection text bug COMA-2062 
* The drop down text is remaining ""Select Genotype"" even when a genotype is selected.
* (Smartsheet: COMA319)
* (Smartsheet: COMA54)",,,,;12/Jan/18 10:44 PM;bwinter;7200,;06/Mar/18 1:41 PM;jadhikari;144000,;06/Mar/18 2:57 PM;admin;600,;12/Mar/18 2:05 PM;rwilliams;300,;04/Apr/18 10:36 AM;bwinter;1200,;12/Jul/18 3:41 PM;rwilliams;300,,,86400,0,153600,177%,86400,0,153600,,,,,,COMA-2455,COMA-2062,,,,,,17/Jan/18 1:16 PM;tpatterson;New Add Mice Modal V1.html;https://transnetyx.atlassian.net/secure/attachment/25606/New+Add+Mice+Modal+V1.html,19/Feb/18 3:49 PM;tpatterson;New Add Mouse Modal V1.jpg;https://transnetyx.atlassian.net/secure/attachment/25913/New+Add+Mouse+Modal+V1.jpg,04/Apr/18 10:32 AM;bwinter;PASSED - All elements and functionality working for Add Mice form from the Cage Map - 2018-04-04 10_29_41-.png;https://transnetyx.atlassian.net/secure/attachment/26534/PASSED+-+All+elements+and+functionality+working+for+Add+Mice+form+from+the+Cage+Map+-+2018-04-04+10_29_41-.png,04/Apr/18 10:31 AM;bwinter;PASSED - All elements and functionality working for Add Mice form from the Mice Panel on the Dashboard - 2018-04-04 08_04_37-.png;https://transnetyx.atlassian.net/secure/attachment/26535/PASSED+-+All+elements+and+functionality+working+for+Add+Mice+form+from+the+Mice+Panel+on+the+Dashboard+-+2018-04-04+08_04_37-.png,12/Jan/18 9:51 PM;bwinter;quick-add.JPG;https://transnetyx.atlassian.net/secure/attachment/25595/quick-add.JPG,12/Jan/18 9:51 PM;bwinter;quick-add_cage.JPG;https://transnetyx.atlassian.net/secure/attachment/25594/quick-add_cage.JPG,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bwinter,jadhikari,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-03-15T13:51:33.713-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,rwilliams,,,Unassigned,jmedlock,bwinter,0|i00ron:,,,,,,,,,2018-01-13 03:52:36.554,"12/Jan/18 9:52 PM;bwinter;[~tpatterson] this Colony Release 1.2 ticket needs some UI love.   We are enhancing an add mice modal.  I added to hand-drawn views (that I just realized are missing Cancel and Save buttons.
",15/Jan/18 1:11 PM;jmedlock;[~bwinter] I would make COMA-2062 a requirement for this ticket and delete the link to this ticket and the task COMA-2062 as a ticket.,"16/Jan/18 6:07 PM;bwinter;[~jmedlock] Before I delete COMA-2062 (show genotype in drop-down), we may want to consider if we would rather keep it to shorten the description in this card on quick-add mice.  Check out the description.  Those long tables in the middle are just sketching out scenarios when a strain has _g_ {{<genes>}} with _c_ {{<allele combinations>}}.

|| {{genes}} || {{allele combinations}} ||
| {{one}} | {{n}} |
| {{two}} | {{n1, n2}}, respectively |
| {{...}} | {{...}} |
| {{K}} | {{n1, n2, ..., nK}}, respectively |","17/Jan/18 1:20 PM;tpatterson;[~bwinter] & [~jmedlock] - I've changed the adding process in a small way to reflect the adding process in other spots in the site. I did this, because with the current approach, you'll lose real estate quickly as you add mice to the list. Check and see if this is okay. I've also included the html code just in case you want to see it in action, in the your browser.","17/Jan/18 3:00 PM;bwinter;[~jmedlock], [~tpatterson], I LOVE IT!  

Great job, [~tpatterson]!!!  
# Do you think I need to adjust the scenarios in the description? 
# To avoid any confusion, should we delete my hand-drawn sketches?  Or least rename them? ","17/Jan/18 3:10 PM;tpatterson;# Do you think I need to adjust the scenarios in the description?
** _Maybe not, until we get further confirmation that this is good to go._
# To avoid any confusion, should we delete my hand-drawn sketches? Or least rename them?
** _I say we leave them! It can be helpful to track design iterations._","26/Feb/18 3:36 PM;jadhikari;[~cleduc], [~jmedlock] : Couple Questions :
1. In the attached Add Mice screen mockup we are only showing limited number of columns in the bottom grid, I was wondering if we need to show what the user selected in first place ? And that would be : 
Strain Color, Mouse Id, Strain Name, Cage Name, Genotype, Gender and Birthdate ?
2. If we are showing all this information there is not enough room in the Modal. After having a brief conversation with [~tpatterson] suggested to have a 3 dot after certain length which when hovered shows a tooltip of the entire text. 
",28/Feb/18 7:57 AM;cleduc;I think the user would like to be able to choose to see the additional information but would not always need it so the hover is good. Good idea.,"14/Mar/18 10:25 PM;bwinter;[~jadhikari] Since this code did not make it into the Colony 1.1 branch and has some more work on it, I am going to send it back to development.  If there is something for me to test in 1.1, please let me know, and I will test it.",15/Mar/18 12:06 PM;jadhikari;[~bwinter] I believe this is one of the tickets that is waiting on the pull request and will be deployed with next deployment.,15/Mar/18 12:08 PM;bwinter;[~jadhikari] SNAP!  Roger that!  So sorry.  Would you like me to move it back to QA status?,15/Mar/18 12:26 PM;jadhikari;[~bwinter] When the qa deployment is complete it will include all the ticket names for that deployment you can change it in QA then. ,"15/Mar/18 1:17 PM;bwinter;Oh, I will totally forget by then, [~jadhikari].  I am going to go ahead and move it now.  Thank you!","04/Apr/18 10:35 AM;bwinter;Testing passed. QA verified.  Mice form has all required elements and creates new mice records in both locations (Dashboard > Mice Panel; Cage Map > Cage icon).  However, I could only test on Google Chrome 64 and *not IE 11* due to COMA-2455. 

CC: [~jmedlock], [~qevans]",,,,,,,,,,,,
Transfer mice,COMA-2045,28213,,Story,Testing PASSED,COMA,Colony Manager,software,admin,,,3 Standard,Testing Done,,jmedlock,jmedlock,09/Aug/17 12:15 PM,29/Aug/18 5:14 PM,04/Sep/18 1:25 PM,29/Aug/18 5:14 PM,,CM - Release 1.2,,,0,affects_cage,affects_count,litter_method,mouse_method,transfer_litters,transfer_mice,"_As a user, I want to be able to bulk transfer mice that are no longer in my colony, so that the Colony app reflects changes in my real-life colony_

+Acceptance Criteria+:
* User can multi select mice on the mouse list and select to change the status to ""transferred"" rather than one at a time. 

* When a user transfers one or more mice from the Mice List, those mice are marked as transferred and no longer show in the default filtered view of Mice List or any assigned cages.
* When a user transfers a Mouse from a Mouse Record 3-dot menu, then that mouse is marked as transferred and no longer show in the default filtered view of Mice List or any assigned cages..
* When a user selects bulk transfer for a cage, all *mice* are marked as transferred (removed from cage) and no longer appear on the 
** Cage Card or 
** Cage Icon of the Cage Map List.
* When a user transfers mice, mice counts for strains, breedings, litters, and cages should be accordingly decremented (where applicable).


+Scenario 1+: _Selecting mice from Mice List to transfer_
*Given* I am in the Mice List view
*When* I select one or more mice
*Then* I am shown a transfer button in Mice List Action Toolbar

+Scenario 2+: _Transferring mice_
*Given* I have selected one or more mice from Mice List
*When* I click the transfer button
*Then* selected mice are marked as transferred
*And* no longer show in default filtered view of Mice List
*And* no longer show in assigned cages (if any)

+Scenario 3+: _Filtering Mice List on transferred status_
*Given* that I have transferred several mice
*When* I filter Mice List on mice marked transferred
*Then* I am shown the transferred mice

+Scenario 4+: _Selecting Transfer option from a Mouse Record's 3-dot menu_
*Given* I have selected Mouse Record from {{<view>}}
*When* I click the 3-dot menu for a Mouse Record
*Then* I am presented with an option entitled ""Transfer""

+Examples+:

| {{view}} |
| {{Breedings > Parents Group}} |
| {{Breedings > Offspring Group}} |
| {{Litters > Parents Group}} |
| {{Litters > Offspring Group}} |
| {{Mice > Mice Details}} |
| {{Cages > Cage Card}} |

+Scenario 5+: _Transferring one Mouse at-a-time from Mouse Record's 3-dot menu_
*Given* I have selected the 3-dot menu of a Mouse Record
*When* I click Transfer
*Then* that selected mouse in the cage is marked as transferred
*And* I am presented with a prompt to chose a transfer date 
*And* the selected Mouse Record is removed from default filtered {{<view>}}.

+Examples+:

| {{view}} |
| {{Breedings > Parents Group}} |
| {{Breedings > Offspring Group}} |
| {{Litters > Parents Group}} |
| {{Litters > Offspring Group}} |
| {{Mice > Mice Details}} |
| {{Cages > Cage Card}} |

+Scenario 6+: _Selecting Bulk Transfer option from a Cage's 3-dot menu_
*Given* I have selected cage from the Cage Map
*When* I click the Cages 3-dot menu
*Then* I am presented with an option entitled ""Bulk Transfer""

+Scenario 7+: _Bulk transferring mice from a cage_
*Given* I have selected a cage
*And* I have selected the cage's 3-dot menu
*When* I click Bulk Transfer
*Then* all the Mice in the cage are marked as transferred
*And* all the Litter Records are marked as transferred
*And* I am presented with a prompt to choose a transfer date
*And* the cage is empty for Mice Records and Litter Records

+Scenario 8+: _Prompt user to select transfer date_
*Given* I have selected to transfer mice and/or litters
*When* I am prompted to select transfer date
*Then* the prompt says ""Select transfer date""
*And* the prompt shows a date-picker
*And* the prompt gives two button ""Cancel"" and ""Save""

+Scenario 9+: _Click anywhere outside of modal prompt_
*Given* I am prompted to select transfer date
*When* I click anywhere outside of the modal prompt
*Then* I am taken back to the previous view
*And* the Mice or Litters are not transferred

+Scenario 10+: _Click Cancel to select transfer date_
*Given* I am prompted to select transfer date
*When* I click Cancel from the prompt
*Then* I am taken back to the previous view
*And* the Mice or Litters are not transferred

+Scenario 11+: _Click Save to select transfer date_
*Given* I am prompted to select transfer date
*When* I click Save from the prompt
*Then* I am taken back to the previous view
*And* the Mice or Litters are transferred with transfer date equal to date selected from transfer date date-picker

+Scenario 12+: _Decrement Mice/Litter count after transfer_
*When* I transfer a mice or litters
*Then* the corresponding mice / litter counts are decremented accordingly across strain, breedings, cages, and litters (where applicable).

-----

h1. Housekeeping Notes

h2. Notes to DEV + SQA

Part of this story *clones* a functionality in iOS where the user can bulk transfer mice from Cage Card (see CMI-194).

h2. Touch Points where Mouse Record can be accessed
Below are all the *touch points* where a mouse record can be accessed.  

  - Breedings > Select Breeding > Parents Tab > Select Mouse Record > 3-dots > Mark Dead
  - Breedings > Select Breeding > Offspring Tab > Select Mouse Record > 3-dots > Mark Dead
  - Breedings > Select Breeding > Litter Tab > Select Litter Record (pulls up Litter Details) >Select Parent Mouse Record > 3-dots > Mark Dead
  - Breedings > Select Breeding > Litter Tab > Select Litter Record (pulls up Litter Details) >Select Offspring Mouse Record > 3-dots > Mark Dead
  - Litters > Select Litter > Select Parent Mouse Record > 3-dots > Mark Dead
  - Litters > Select Litter > Select Offspring Mouse Record > 3-dots > Mark Dead
  - Mice > Select Mice > Mark Dead
  - Mice > Select Mouse > View Mouse Record > Mouse Record Details 3-dots > Mark Dead
  - Mice > Select Mouse > View Mouse Record > Bred with Mouse 3-dots (mice who have bred with selected mouse) > View Record > Mouse Record Details 3-dots > Mark Dead --- Note the steps here can be done recursively
  - Cages > Select Cage > Cage Details 3-dots > (Bulk) Mark Dead
  - Cages > Select Cage > Mouse Record 3-dots > Mark Dead
  - Cages > Select Cage with litter > Litter Record 3-dots > Mark Dead
",,,,;12/Jan/18 5:38 PM;bwinter;10800,;15/Aug/18 10:11 AM;bkoch;72000,;20/Aug/18 10:16 AM;admin;600,;29/Aug/18 5:14 PM;wwyatt;28800,,,,,86400,0,112200,129%,86400,0,117660,,COMA-2233,CMI-194,,,,,,,,,,29/Aug/18 9:49 AM;wwyatt;FAILED COMA-2045 Scenario 5-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27488/FAILED+COMA-2045+Scenario+5-1.jpg,29/Aug/18 9:49 AM;wwyatt;FAILED COMA-2045 Scenario 5-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27486/FAILED+COMA-2045+Scenario+5-2.jpg,29/Aug/18 9:49 AM;wwyatt;FAILED COMA-2045 Scenario 5-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27487/FAILED+COMA-2045+Scenario+5-3.jpg,29/Aug/18 9:49 AM;wwyatt;FAILED COMA-2045 Scenario 5-4.jpg;https://transnetyx.atlassian.net/secure/attachment/27490/FAILED+COMA-2045+Scenario+5-4.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 1-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27476/PASSED+COMA-2045+Scenario+1-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 1-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27475/PASSED+COMA-2045+Scenario+1-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 10-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27469/PASSED+COMA-2045+Scenario+10-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 10-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27465/PASSED+COMA-2045+Scenario+10-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 11-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27466/PASSED+COMA-2045+Scenario+11-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 11-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27470/PASSED+COMA-2045+Scenario+11-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 12-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27467/PASSED+COMA-2045+Scenario+12-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 12-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27471/PASSED+COMA-2045+Scenario+12-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 12-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27472/PASSED+COMA-2045+Scenario+12-3.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 12-4.jpg;https://transnetyx.atlassian.net/secure/attachment/27473/PASSED+COMA-2045+Scenario+12-4.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 12-5.jpg;https://transnetyx.atlassian.net/secure/attachment/27474/PASSED+COMA-2045+Scenario+12-5.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 2-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27478/PASSED+COMA-2045+Scenario+2-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 2-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27477/PASSED+COMA-2045+Scenario+2-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 3.jpg;https://transnetyx.atlassian.net/secure/attachment/27479/PASSED+COMA-2045+Scenario+3.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 4-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27482/PASSED+COMA-2045+Scenario+4-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 4-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27481/PASSED+COMA-2045+Scenario+4-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 4-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27480/PASSED+COMA-2045+Scenario+4-3.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 4-4.jpg;https://transnetyx.atlassian.net/secure/attachment/27484/PASSED+COMA-2045+Scenario+4-4.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 4-5.jpg;https://transnetyx.atlassian.net/secure/attachment/27483/PASSED+COMA-2045+Scenario+4-5.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 4-6.jpg;https://transnetyx.atlassian.net/secure/attachment/27485/PASSED+COMA-2045+Scenario+4-6.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 5-5-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27489/PASSED+COMA-2045+Scenario+5-5-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 5-5-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27491/PASSED+COMA-2045+Scenario+5-5-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 5-5-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27492/PASSED+COMA-2045+Scenario+5-5-3.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 5-5-4.jpg;https://transnetyx.atlassian.net/secure/attachment/27493/PASSED+COMA-2045+Scenario+5-5-4.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 5-6-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27494/PASSED+COMA-2045+Scenario+5-6-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 5-6-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27495/PASSED+COMA-2045+Scenario+5-6-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 5-6-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27460/PASSED+COMA-2045+Scenario+5-6-3.jpg,29/Aug/18 9:51 AM;wwyatt;PASSED COMA-2045 Scenario 6.jpg;https://transnetyx.atlassian.net/secure/attachment/27496/PASSED+COMA-2045+Scenario+6.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 7-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27461/PASSED+COMA-2045+Scenario+7-1.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 7-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27459/PASSED+COMA-2045+Scenario+7-2.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 7-3.jpg;https://transnetyx.atlassian.net/secure/attachment/27462/PASSED+COMA-2045+Scenario+7-3.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 7-4.jpg;https://transnetyx.atlassian.net/secure/attachment/27463/PASSED+COMA-2045+Scenario+7-4.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 8.jpg;https://transnetyx.atlassian.net/secure/attachment/27464/PASSED+COMA-2045+Scenario+8.jpg,29/Aug/18 9:49 AM;wwyatt;PASSED COMA-2045 Scenario 9.jpg;https://transnetyx.atlassian.net/secure/attachment/27468/PASSED+COMA-2045+Scenario+9.jpg,29/Aug/18 4:31 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-1-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27511/PASSED+RETEST+COMA-2045+Scenario+5-1-1.jpg,29/Aug/18 4:31 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-1-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27512/PASSED+RETEST+COMA-2045+Scenario+5-1-2.jpg,29/Aug/18 4:31 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-2-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27513/PASSED+RETEST+COMA-2045+Scenario+5-2-1.jpg,29/Aug/18 4:31 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-2-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27517/PASSED+RETEST+COMA-2045+Scenario+5-2-2.jpg,29/Aug/18 4:31 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-3-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27518/PASSED+RETEST+COMA-2045+Scenario+5-3-1.jpg,29/Aug/18 4:31 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-3-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27514/PASSED+RETEST+COMA-2045+Scenario+5-3-2.jpg,29/Aug/18 4:31 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-4-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27515/PASSED+RETEST+COMA-2045+Scenario+5-4-1.jpg,29/Aug/18 4:31 PM;wwyatt;PASSED RETEST COMA-2045 Scenario 5-4-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27516/PASSED+RETEST+COMA-2045+Scenario+5-4-2.jpg,jcox,bkoch,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2018-08-29T10:38:32.735-0500"",""stateCount"":2,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,,admin,,,Unassigned,jmedlock,qevans,0|i00rgj:9,,,,,,,,,2018-01-17 17:09:54.298,"17/Jan/18 11:09 AM;tpatterson;[~jmedlock], I understand why we may want to keep Strain and Breeding records around after all mice within them have been transferred out, but I'm thinking it might be logical for us to no longer show litters in the default filtered view of Litters List or any assigned cages, if all mice in that litter have been transferred out. Thoughts?","27/Feb/18 3:31 PM;admin;Yeah, litters that have only Dead, Deleted or Transferred should be hidden.","05/Mar/18 5:36 AM;bkoch;[~tpatterson], what is the icon that we want to use for transferring mice?","05/Mar/18 9:12 AM;tpatterson;[~bkoch], after reviewing what we're currently using, I'm thinking that we should go with https://fontawesome.com/icons/share-square?style=regular. [~jmedlock], [~cleduc] - Thoughts?",05/Mar/18 9:42 AM;cleduc;This is good. Mixing it up with the export to excel icon could be an issue but if in different locations I think we're fine. . ,"05/Mar/18 3:30 PM;cleduc;maybe this?

https://thumbs.dreamstime.com/z/tourist-mouse-includes-clipping-path-386302.jpg

[https://thumbs.dreamstime.com/z/tourist-mouse-includes-clipping-path-386302.jpg]


","06/Mar/18 11:34 AM;bkoch;[~cleduc], lol, that would be an awesome icon to use ;)","03/Aug/18 9:24 AM;bkoch;[~jcox] [~cleduc] , I can jump back on this one if needed, not sure if it was what you were talking about in standup.","03/Aug/18 9:33 AM;jcox;[~bkoch], [~cleduc], This was one of several that I was thinking of in standup - if you've got the bandwidth to come back and push this one across the finish line that would be awesome.","03/Aug/18 9:56 AM;cleduc;[~bkoch][~jcox] If you have it that's great. We have some conversations going on with [~rwilliams] and [~bwinter] regarding the definition of transferred. I think all is clear for this ticket but would be good to touch in. 
Transferred means animals are no longer in the colony. No more actions can be taken on them (like deleted mice) but they can be seen if we filter to see them (unlike deleted mice). 
 ",03/Aug/18 11:12 AM;rwilliams;[~cleduc] [~bkoch] [~jjensen] [~bwinter] I would rope in Bryan and Jamie into any conversation on this because the other transfer  litter ticket has been stopped in its tracks to be reevaluated.,"06/Aug/18 10:31 AM;bkoch;[~rwilliams], [~jcox], should we have a quick call to talk about this?  If the rest of the transfer stuff is on hold, I don't want to push out partially implemented logic.",06/Aug/18 10:44 AM;rwilliams;[~bkoch] [~jcox] [~bwinter] [~cleduc] This ticket and the others around transferring mice does need to be discussed and clarified. We may also want to include [~jstrickland] as well since he will have work to do on the iOS side. I would think that either Carrie or Bryan should lead on doing that.,"08/Aug/18 9:47 AM;cleduc;[~bkoch][~jcox] I think we are all good to go on this one. See if it makes sense to you and let me know if we need to pare it down feature-wise or beef it up explanation wise. 
cc: [~rwilliams][~bwinter]","21/Aug/18 1:26 PM;bwinter;[~wwyatt], interested in testing this ticket also?","29/Aug/18 5:33 AM;bkoch;[~wwyatt] [~jmedlock], I noticed that the breeding page still includes transferred parents and offspring (similar to it including dead parents and offspring), is this the desired behavior?  Or should we exclude the transffered mice similar to the mouse list and details pages?  Adding in this explicit removal of transferred mice from the breeding page wasn't in the original ticket, but figured I'd mention it here in case we wanted to expand it.","29/Aug/18 7:40 AM;jmedlock;[~bkoch][~wwyatt][~cleduc] Brad, the breeding list should show all parents regardless of their status on breedings and the breeding records. The reason for this is that the researcher always wants to know who the parents were in the breeding regardless of their current status.

Thanks,
Jim","29/Aug/18 8:29 AM;bkoch;Thanks [~jmedlock], I'll leave the display of transferred mice as-is in the other lists then.",29/Aug/18 9:54 AM;wwyatt;Tested and Scenario 5 failed for Breeding and Litter lists. Brad has already been working on this and the fix will be in on the next QA push.,"29/Aug/18 9:56 AM;wwyatt;[~cleduc], when bulk transferring mice from a cage (scenario 6), the wording is ""Mark Transferred"" instead of ""Bulk Transfer"" as displayed in the iOS. Is this something that we need to put in as a change request?","29/Aug/18 10:27 AM;cleduc;[~wwyatt], we should certainly use the same language. I think ""Mark"" is used in other places. I'm not sure but there may be a ticket for this sort of thing overall. If not, we should make one. We can on this put in to change it to ""Mark Transferred"" in iOS if that makes sense when we look at where it appears. What do you think works best?",,,,,
Don't Allow Parent Removal from Breeding Wizard,COMA-1889,24332,,Story,Production,COMA,Colony Manager,software,admin,,,2 Important,Done,,qevans,qevans,19/May/17 5:52 PM,18/Jul/18 11:30 AM,04/Sep/18 1:13 PM,16/Jul/18 4:48 PM,,CM - Release 1.2,,,0,,,,,,,"_As a user, I should only be able to remove breeding parents from a breeding before the breeding is saved or marked as active/has a setup date. Once a breeding has at least one un-deleted litter, the parents should not be able to be removed but instead will need to be retired._

+Acceptance Criteria+:
* User is able to remove breeding parents from a breeding when 0 litters exist for the breeding
* User is warned or alerted that they cannot remove breeding parents that are linked to a litter in the system but instead need to retire the breeder.
* Remove the ""x"" UI element for removing parents from the breeding.

+Scenario+:
*Given* I have a parent I need to remove from a breeding
*When* I edit the breeding to remove the parent
_*AND*_ The breeding parent is the parent of a current litter in the system
*Then* warn or alert the user that the breeding parent must be retired instead of removed
",,,,;13/Jun/18 11:26 AM;jjensen;86400,;13/Jun/18 11:27 AM;jjensen;86400,;20/Jun/18 3:59 PM;rwilliams;300,;25/Jun/18 3:09 PM;bwinter;1800,;25/Jun/18 3:11 PM;bwinter;300,;11/Jul/18 12:03 PM;jjensen;28800,;11/Jul/18 3:18 PM;rwilliams;300,;11/Jul/18 4:35 PM;bwinter;900,86400,0,205200,237%,86400,0,209400,,,,,,,COMA-2642,COMA-2641,,,,,13/Feb/18 8:56 AM;tpatterson;1889.1.jpg;https://transnetyx.atlassian.net/secure/attachment/25760/1889.1.jpg,13/Feb/18 8:56 AM;tpatterson;1889.2.jpg;https://transnetyx.atlassian.net/secure/attachment/25759/1889.2.jpg,13/Feb/18 8:56 AM;tpatterson;1889.3.jpg;https://transnetyx.atlassian.net/secure/attachment/25761/1889.3.jpg,13/Feb/18 8:56 AM;tpatterson;1889.html;https://transnetyx.atlassian.net/secure/attachment/25762/1889.html,25/Jun/18 3:10 PM;bwinter;PASSED - Brand new created breeding allows parents to be removed from breeding- 2018-06-25 15_05_45-.png;https://transnetyx.atlassian.net/secure/attachment/27073/PASSED+-+Brand+new+created+breeding+allows+parents+to+be+removed+from+breeding-+2018-06-25+15_05_45-.png,11/Jul/18 4:34 PM;bwinter;PASSED - Breeding with ZERO litters DOES allow breeders to be removed from breeding - 2018-07-11 16_33_20-.png;https://transnetyx.atlassian.net/secure/attachment/27132/PASSED+-+Breeding+with+ZERO+litters+DOES+allow+breeders+to+be+removed+from+breeding+-+2018-07-11+16_33_20-.png,11/Jul/18 4:32 PM;bwinter;PASSED - Breeding with more than one litter does NOT allow breeders to be removed from breeding - 2018-07-11 16_31_43-.png;https://transnetyx.atlassian.net/secure/attachment/27130/PASSED+-+Breeding+with+more+than+one+litter+does+NOT+allow+breeders+to+be+removed+from+breeding+-+2018-07-11+16_31_43-.png,11/Jul/18 4:32 PM;bwinter;PASSED - Breeding with one litter does NOT allow breeders to be removed from breeding - 2018-07-11 16_28_44-.png;https://transnetyx.atlassian.net/secure/attachment/27131/PASSED+-+Breeding+with+one+litter+does+NOT+allow+breeders+to+be+removed+from+breeding+-+2018-07-11+16_28_44-.png,16/Jul/18 5:29 PM;bwinter;PASSED - Deleting all litters allows parents to be removed from Breeding Wizard - 2018-07-16 17_26_56-.png;https://transnetyx.atlassian.net/secure/attachment/27160/PASSED+-+Deleting+all+litters+allows+parents+to+be+removed+from+Breeding+Wizard+-+2018-07-16+17_26_56-.png,25/Jun/18 3:10 PM;bwinter;PASSED - Older breeding with no litters is able to remove parents from breeding wizard - 2018-06-25 15_06_22-.png;https://transnetyx.atlassian.net/secure/attachment/27074/PASSED+-+Older+breeding+with+no+litters+is+able+to+remove+parents+from+breeding+wizard+-+2018-06-25+15_06_22-.png,25/Jun/18 3:10 PM;bwinter;PASSED - breeding with at least 1 litter is not allowed to have parents removed via Breeding Wizard - 2018-06-25 15_02_30-.png;https://transnetyx.atlassian.net/secure/attachment/27075/PASSED+-+breeding+with+at+least+1+litter+is+not+allowed+to+have+parents+removed+via+Breeding+Wizard+-+2018-06-25+15_02_30-.png,13/Feb/18 10:27 AM;admin;Retire.png;https://transnetyx.atlassian.net/secure/attachment/25766/Retire.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,jjensen,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=2}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":2,""lastUpdated"":""2018-07-11T15:10:59.256-0500"",""stateCount"":2,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":2,""name"":""Bitbucket Cloud""}}}}},""isStale"":false}}",,,COMA-1101,,,,,,,,,,,,,,rwilliams,,,Unassigned,,bwinter,0|i00plz:,,,,,,,,,2017-05-25 17:18:49.164,"25/May/17 12:18 PM;rwilliams;[~qevans] [~jmedlock] A couple things to think about with this one is that a mouse can be retired from a breeding outside of the breeding effectively removing it from the breeding. Also, a mouse could be deleted or marked dead (or culled) and do the same thing. So, even if we add constraints to not allow this on the edit breeding page, you can't stop it from happening in other round-about ways. Another thing is that a user could wipe out the active date, save it, remove a mouse, and then possibly mark it active again. I guess my question here is - is there value in adding constraints like this into the application?",25/May/17 12:47 PM;jmedlock;[~qevans] and [~rwilliams] i am going to assign this to me for getting requirements,05/Oct/17 10:26 AM;qevans;[~jmedlock] did we make a decision about this ticket? Trying to clean up any straggling tickets I had been involved in.,05/Oct/17 10:38 AM;jmedlock;[~qevans] No and it needs requirements gathered. I need to move this to a different workflow.,10/Oct/17 11:13 AM;qevans;[~jmedlock] should I make this into its own story ticket?,"27/Oct/17 7:58 AM;bkoch;[~qevans] [~jmedlock], has this been rolled into a different ticket?  It shouldn't be hard to remove the ability to delete or add parents to a breeding that has been activated, but I think that we need to figure out that other ticket as well surrounding whether or not a breeding can be deactivated.","04/Jan/18 2:42 PM;jmedlock;[~rwilliams] In the scenarios you listed above, is the mouse not automatically retired from breedings once the mouse is marked dead?
The app should handle the mouse delete instance as well. If a mouse is being deleted for any reason and is tied to breedings, litter parent records etc. We should warn the user. Then we can remove it from breeding and litter parent records. We may want to make sure we handling the scenarios you mentioned in addition to adding in these checks and balances to removing breeding parents.","04/Jan/18 2:59 PM;rwilliams;[~jmedlock] I would have to look into the code to see what exactly is happening when a mouse is marked dead or deleted. I also don't know off the top of my head if any of the places where you can do these types of tasks if there is any check or warning to the user that the mouse is in a breeding. I seem to recall at least one place where it shows active breedings for the mouse and asks how you want to handle those, but that is just a faint memory. And I think I have a memory of it because I built the UI for it.  I remember that it was a list of check boxes and date pickers, but I don't remember if that was for deleting a mouse or retiring a mouse or marking a mouse dead. But I need an hour or two to go looking through the application to see what is going on with those specific scenarios.","11/Jan/18 4:20 PM;jcox;1: Requested - “Remove from breeding” menu option 
2: Active – “Remove from breeding” changes to “Retire” 
3: Remove adding and editing parents from edit form (only possible from card)
4: Don’t allow status of breeding to be edited once litter has been added
2a: Retire chosen & no litters associated with parent, option to remove or retire (Not going to be clear how the system works) ",17/Jan/18 10:57 AM;tpatterson;I second [~jcox]'s approach.,"13/Feb/18 9:04 AM;tpatterson;I've attached 3 screenshots of the potential fixes that we presented in yesterday's meeting.

When there are litters attributed to a breeder:
# Disable the close button and warn the user from the beginning.
# Disable the close button, present a question icon, and inform the user after pressing the question icon.
# The process is mostly unchanged. After a user has clicked on the delete icon, a warning will be presented.

I've also attached an html document with the code used to make these variations. To check this out in your browser - open to this page in Colony, inspect, and replace everything within the <html> section with the 1889.html code.

After building these out, I'm thinking that option one may be too shocking and option three is frustrating. Option two could be a good balance between the two - passive and informative.

Thoughts? [~cleduc], [~jmedlock], [~admin]","13/Feb/18 9:48 AM;cleduc;2 or 3 would work for me as a user. Most likely I'm requesting removal in error - I either don't realize I have litters or actually want to move it from the cage or retire it. Would be nice to hit the x and have an immediate option to retire or cancel but that's another story... 

Some warning language to consider: Parents in a Breeding with active Litters cannot be ""Removed"" but may be ""Retired"" or moved it to another cage. ","13/Feb/18 10:28 AM;admin;I was not actually in favor of another button. My recommendation was this:
 !Retire.png|thumbnail! 

[~tpatterson]
","13/Feb/18 1:15 PM;tpatterson;Thanks for the language and UX input [~cleduc] & [~admin].

Tossing in an option to help users retire from this location would be extremely useful. Hopefully with the shift to record pages, our users would only see this wizard when creating something new and the retire options would be within close reach while editing from the breeding record page or the mouse record page.

Now, after some thought, with the fact that this fix will not be the norm forever and that there's already a standard of displaying errors when something is out of order above the list area, I'd suggest we merge the first & second designs and possibly (per [~jmedlock]'s idea) allow the user to see specific active litters it is connected to when they interact with the question icon. This interaction could also have tooltip functionality, as well.","06/Jun/18 11:09 AM;jjensen;Starting this.  Will use the suggestion of replacing the ""x"" icon with a ""?"" icon and display the message [~admin] showed in his earlier comment.  I may add in the [~jmedlock] suggestions if further analysis deems it a viable modification for this ticket.","13/Jun/18 11:24 AM;jjensen;Must note this:  The story language caused some confusion as there already is an IsActiveLitter flag in the Litter business object:

??current active or inactive(meaning they have not been deleted) litters??

Because the push in development is to use Business object functionality, I chose to test the litters via IsActiveLitter.
","11/Jul/18 11:23 AM;jjensen;[~cleduc], I have to ask you about the ""litter status"" as defined in this particular ticket.  The text is a bit confusing, but I believe what the story _wants_ to say is: _Once a breeding has *at least one un-deleted litter*, the parents should not be able to be removed_
This is different from any active/inactive status that I might check in the code.  Can you please make a judgement call on this?

","11/Jul/18 11:33 AM;cleduc;[~jjensen] If a litter has been recorded for a breeding and has not been deleted, the user cannot change the parents. 

They can Retire (which means it is no longer physically in the breeding at this time) but not remove/change them (which would change the record regarding who was there). If they have realized they have made an error in parent recording after a litter has been recorded they need to contact us to do something custom to fix the data. If they are taking one parent out and putting in another breeding, they retire from this breeding and create a new breeding with the moved parent.","11/Jul/18 11:37 AM;cleduc;[~jjensen] I actually wrote that comment before I saw your question above it!
At any rate, yes to your interpretation of what the story wants to say :)!","11/Jul/18 11:43 AM;jjensen;[~cleduc], thank you!  :)
",,,,,,
Litter WorkBench: Missing/Dead Pups,COMA-1871,24314,,Story,Production,COMA,Colony Manager,software,admin,,,3 Standard,Done,,jmedlock,jmedlock,19/May/17 9:48 AM,12/Jul/18 3:41 PM,04/Sep/18 1:25 PM,12/Jul/18 3:41 PM,,CM - Release 1.2,,,0,UAT-Change,,,,,,"From the litter workbench, when pups are mark missing or dead BEFORE they are ID'd in the system, they should not receive an ID.

We should continue to track a record was created so we may report on health of breeding later on but the missing pups would not receive an ID.

(Smartsheet: COMA340, COMA84)

",,,,;13/Jan/18 11:14 PM;rwilliams;57600,;15/Jan/18 7:15 AM;rwilliams;60,;25/Jan/18 7:19 PM;admin;600,;07/Feb/18 2:59 PM;jmedlock;1800,;12/Jul/18 3:41 PM;rwilliams;300,,,,57600,0,60360,104%,57600,0,60360,,,,,,,,,,,,,05/Feb/18 11:33 AM;bwinter;COMA-1871 - Missing pups on Litter Work Bench.docx;https://transnetyx.atlassian.net/secure/attachment/25726/COMA-1871+-+Missing+pups+on+Litter+Work+Bench.docx,13/Dec/17 9:09 AM;james;COMA-1871 Test Cases.xlsx;https://transnetyx.atlassian.net/secure/attachment/25436/COMA-1871+Test+Cases.xlsx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jmedlock,rwilliams,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2018-07-12T15:44:51.671-0500"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""bitbucket"":{""count"":1,""name"":""Bitbucket Cloud""}}}}},""isStale"":true}}",,,COMA-1090,,,,,,,,,,,,,,admin,,,Unassigned,jmedlock,qevans,0|i00phz:,,,,,,,,,2018-01-11 21:28:38.912,"11/Jan/18 3:28 PM;rwilliams;[~jmedlock] Part of what is going on with this ticket has to do with the new automatic system generated mouse naming feature that Chris added. These mice are getting assigned a name when they get generated. If you don't want dead or missing mice to get auto Ided like that (meaning you want the ID to be left blank), then I can put in some code that to not auto name the mouse if the mouse is missing or dead. One side effect that could have is that it wipes out the mouse's name if it gets marked dead or missing later in life. I'll have to see if I can code that so it won't do that. But, once I get that done then we will see what the litter workbench actually does when you ID the mice. Let me know if you want me to remove that auto naming code for dead or missing mice. ",12/Jan/18 8:50 AM;rwilliams;[~jmedlock] This may also be revealing an issue with the system generated id. It doesn't appear to be handling the unique naming of mice when multiple are created at the same time,"12/Jan/18 10:13 AM;rwilliams;[~jmedlock] Actually as I look through the code, the name field is getting populated with System Generated Id of the mouse if the name field is empty. Do we not want to do that for mice that are missing or dead? So what that means is that when the mice were ""generated"" the system assigned them a SysGenId, then, when the LitterWorkbench loads the newly generated mice back up (missing and dead ones too), because the name is empty, our code automatically fills it in with the mouse SysGenId. We really need to talk through how all of this should work. And we have also discovered a bug with the SysGenId where it appears that it isn't incrementing for some reason... 

Thinking through this a little more... I think that because of the way the application works right now with the name auto filling with the SysGenId that the Workbench will never ID mice like it should because I think it would only ID mice that didn't already have a name, but right now they will always come back with a name. I think we need to talk through this some with Chris to determine how we really want some of this to work. And I am making some assumptions on how the Workbench works, so I may not be right on all of that...",12/Jan/18 10:31 AM;jmedlock;[~rwilliams] We would not want an ID on missing or dead pups if they were marked as such before pups we generated. The feedback comes in before we added in the system ID though. We may want to discuss this. The feedback is that they do not want those records taking up the next in line auto serialized ID. That is different than the system ID.,"12/Jan/18 12:37 PM;rwilliams;[~jmedlock] I've made some changes to the name so that it doesn't automatically populate for mice that are dead (or missing). Now the mice are showing in the workbench without a name and the name is disabled so that it can't be edited. All of that is good, however, the live mice are still coming in with the system generated id for the name and I think that the process of automatically naming the mice doesn't do anything because the live mice already have a name assigned. I may be able to clear that name as the mice go back to the workbench and see if that resolves the id issue there, but not sure what will happen if they aren't ided during that session and are saved, because the sysgenid may still slip in there somewhere in the process... I'll keep working and let you know what happens.

Also, I have already mentioned this, but we apparently have a bug with the sysgenid as well because it isn't getting auto incremented. I'll look into that while I am here to see if I can figure out what is going with that too.",12/Jan/18 3:50 PM;rwilliams;[~jmedlock] I have fixed the Mouse System Generated Id so that it increments properly. On Monday I will start looking into the actual Workbench Mouse Iding process and see if I can figure out how to make it work as desired.,"05/Feb/18 11:34 AM;bwinter;[~jcox] I tested this ticket which was a hot fix for Colony 1.0.  All is good and ready to go.  I attached the test case.  [~rwilliams], [~jmedlock] let me know if I missed anything in the test case for this ticket.",,,,,,,,,,,,,,,,,,,
Litter card location link crashes app,CMI-301,29591,,Bug,QA,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,wwyatt,jstrickland,jstrickland,28/Aug/18 1:35 PM,04/Sep/18 9:43 AM,04/Sep/18 1:25 PM,,,iOS Q3 2018,,,0,,,,,,,The litter card Location: No Location link will crash the app if the litter is not in a cage.  If it is in a cage it will display the cage card correctly without crashing.  ,,,,;28/Aug/18 1:56 PM;jstrickland;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00ztz:,,,,"Select a litter that's not in a cage then select the No Location ""link"" and the app will crash.   If the litter is in a cage the app will not crash.",,New Product/Feature,,YX Connect,,28/Aug/18 1:55 PM;jstrickland;Should be resolved - [~fdobjenschi] this was a quick fix and is on the develop branch.  If you have any questions please let me know.,,,,,,,,,,,,,,,,,,,,,,,,,
Litter Sample Validation Giving False Validation (When the litter/parents has been marked dead from iOS),CMI-298,29553,,Bug,QA,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,2 Important,,wwyatt,mbender,mbender,10/Aug/18 3:07 PM,04/Sep/18 9:43 AM,04/Sep/18 1:25 PM,,,Unplanned,,,0,,,,,,,"When a user adds a litter to the cart that was synced from iOS then they mark dead that litter and parents in iOS, the litter will remain in the cart in Colony but now requires a biopsy and ID even though they had both already prior to deletion.

Steps to reproduce:
1. Create a litter in iOS
2. ID and Biopsy litter
3. Sync iOS
4. Add litter to cart in Colony
5. In iOS go to cage with litter and litter parents, mark all dead and accept to delete cage.
6. Sync iOS
7. View litter sample in Colony (ID and Biopsy now required)",,,,;14/Aug/18 10:28 AM;jstrickland;18000,;28/Aug/18 9:06 AM;jstrickland;57600,,,,,,,,0,75600,,,0,75600,,,,,,,,,,,,,10/Aug/18 2:58 PM;mbender;Litter001.png;https://transnetyx.atlassian.net/secure/attachment/27334/Litter001.png,10/Aug/18 2:58 PM;mbender;Litter002.png;https://transnetyx.atlassian.net/secure/attachment/27335/Litter002.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jstrickland,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00zlj:,,,,"1. Create a litter in iOS
2. ID and Biopsy litter
3. Sync iOS
4. Add litter to cart in Colony
5. In iOS go to cage with litter and litter parents, mark all dead and accept to delete cage.
6. Sync iOS
7. View litter sample in Colony (ID and Biopsy now required)",,New Product/Feature,,YX Connect,2018-08-14 15:27:45.895,"14/Aug/18 10:27 AM;jstrickland;The problem is that currently there is no 'mark a litter as dead' option in iOS.  We only mark each mouse as dead and take the litter out of the cage when doing a Bulk Mark Dead.  There are no deathDate and deathType fields in the litter entity for iOS.  So on the web side the cart does not know that the litter is dead and it stays in the cart and has the missing info icons.

I just now noticed that this problem exists on master as well so its not a problem with this new build.  This is a bug with ""Bulk Mark Dead"" for cages.

CMI-50 adds a new 'Mark Entire Litter as Dead' menu option but adding this in on its own still won't fix this ticket since it doesn't deal with cages.  

I would prefer to push this off until the next release if possible.  We should add CMI-50 to that release as well since it is related.  

","28/Aug/18 9:05 AM;jstrickland;[~fdobjenschi] . Please see CMI-50 for more info but I've combined CMI-50 and this ticket into the CMI-298 branch.  This should be ready for review now.

Carrie's suggestions were to:
Mark all mice dead and any litters completely contained in this cage as dead.  If any litters are partially contained in this cage prompt the user:
""Cage X contains some litters that have pups that are not in this cage.  Mark those pups/litters dead as well?""

Yes does it and No does not mark any pups/litters outside of the cage as dead.  The pups in the cage and litters completely contained in the cage are still marked dead though.  

If you have any questions please let me know.
",,,,,,,,,,,,,,,,,,,,,,,,
Colony web app is requesting biopsy in the cart for mice already biopsied in iOS app,CMI-297,29538,29515,Rework,Production,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,Testing Done,,wwyatt,wwyatt,06/Aug/18 11:17 AM,28/Aug/18 9:47 AM,04/Sep/18 1:25 PM,21/Aug/18 1:46 PM,,iOS Q3 2018,,,0,,,,,,,"h1. What happened:
# Biopsy new litter in iOS app
# Sync iOS
# Login to web app
# Add litter to the cart for a new order
# Beaker icon appeared, meaning that all of the mice do not show as biopsied <- {color:#d04437}UNEXPECTED{color}
# The quantity on the Shopping Cart is also off, +1 <- {color:#d04437}UNEXPECTED{color}
 
h1. What I expected to happen:
When I biopsy mice in the iOS app and sync the app, I expect the beaker icon not to appear in the cart for these mice since they have already been biopsied. The quantity count should also match the number of samples (adds one).",,,,;08/Aug/18 1:28 PM;jstrickland;14400,;21/Aug/18 1:37 PM;bwinter;60,;21/Aug/18 1:46 PM;wwyatt;600,,,,,,,0,15060,,,0,15060,,CMI-291,,,,,,,,,,,06/Aug/18 11:17 AM;wwyatt;FAILED - CMI-291-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27297/FAILED+-+CMI-291-1.jpg,06/Aug/18 11:17 AM;wwyatt;FAILED - CMI-291-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27296/FAILED+-+CMI-291-2.jpg,21/Aug/18 1:45 PM;wwyatt;PASSED CMI-297.jpg;https://transnetyx.atlassian.net/secure/attachment/27435/PASSED+CMI-297.jpg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jstrickland,jstrickland,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,bwinter,0|i00zi7:,,,,,,New Product/Feature,,YX Connect,2018-08-08 18:32:07.301,"06/Aug/18 11:24 AM;wwyatt;[~jstrickland], when I biopsied litters containing more than 2 mice, I ran into this issue and the quantity was off by +1.

CC: [~jcox], [~cleduc]",08/Aug/18 1:32 PM;jstrickland;So should be correct now.  Tested with litters up to 55 pups and every sample was sent (no beaker image) and pup count is correct as well now.  Will send to [~fdobjenschi] for review.,21/Aug/18 1:46 PM;wwyatt;Tested and Passed!,,,,,,,,,,,,,,,,,,,,,,,
Problem with not every mouse biopsied having a sample sent in the sync sometimes.,CMI-291,29515,,Bug,Production,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,1 Critical,Done,,jstrickland,jstrickland,02/Aug/18 12:25 PM,28/Aug/18 9:47 AM,04/Sep/18 1:25 PM,28/Aug/18 9:47 AM,,iOS Q3 2018,,,0,,,,,,,Sometimes not all mice biopsied will have an associated sample sent in the sync.   Usually happens on larger litters.,,,,;06/Aug/18 11:07 AM;wwyatt;57600,;21/Aug/18 1:36 PM;bwinter;60,;21/Aug/18 1:46 PM;wwyatt;60,;28/Aug/18 9:46 AM;jcox;900,;28/Aug/18 9:47 AM;jcox;900,,,,,0,59520,,,0,74580,,,,,,,,,,,,,21/Aug/18 1:45 PM;wwyatt;FAILED - CMI-291-1.jpg;https://transnetyx.atlassian.net/secure/attachment/27432/FAILED+-+CMI-291-1.jpg,21/Aug/18 1:45 PM;wwyatt;FAILED - CMI-291-2.jpg;https://transnetyx.atlassian.net/secure/attachment/27433/FAILED+-+CMI-291-2.jpg,21/Aug/18 1:45 PM;wwyatt;PASSED CMI-297.jpg;https://transnetyx.atlassian.net/secure/attachment/27434/PASSED+CMI-297.jpg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jstrickland,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00zdr:,,,,Might be tricky to test but it seems to work fine with litters of two mice being biopsied (which is primarily what I tested unfortunately).  I noticed that sometimes it would not send all samples in the sync when I was testing litters with 3 or 4 mice in them.  To verify that all samples were sent you will have to verify on the web and add that newly biopsied litter to the shopping cart.  You should not see a beaker (meaning that its lacking a sample).,,New Product/Feature,,YX Connect,,02/Aug/18 12:27 PM;jstrickland;this has already been peer reviewed by [~fdobjenschi] and is ready for QA,08/Aug/18 2:23 PM;jstrickland;Should be ready to review again,,,,,,,,,,,,,,,,,,,,,,,,
Problem with Sample name being blank or null causing sync errors,CMI-290,29514,,Bug,Production,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,1 Critical,Done,,jstrickland,jstrickland,02/Aug/18 12:22 PM,28/Aug/18 9:46 AM,04/Sep/18 1:25 PM,28/Aug/18 9:46 AM,,iOS Q3 2018,,,0,,,,,,,There is a restriction on the sync api that the sample name has to be non-null and not empty.  This causes problems because we allow mice names to be null and empty.  This will be fixed in the api at a later date but this is to prevent these sync errors from happening in the meantime.,,,,this has already been peer reviewed by [~fdobjenschi] and is ready for QA;02/Aug/18 12:26 PM;jstrickland;10800,;06/Aug/18 10:39 AM;wwyatt;57600,;21/Aug/18 1:39 PM;bwinter;60,;22/Aug/18 3:34 PM;wwyatt;60,;28/Aug/18 9:46 AM;jcox;900,;28/Aug/18 9:46 AM;jcox;900,,,,0,70320,,,0,70320,,,,,,,COMA-2679,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jstrickland,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00zdj:,,,,"Select a litter to biopsy that has mice without names in it.  Needs to be a blank (empty) name not a name consisting of just spaces since that is actually valid.  You can just backspace out the name and hit Save.
If you can get a null mouse name too that would be good but not sure how you could.  The fix should handle nulls as well.",,New Product/Feature,,YX Connect,,02/Aug/18 12:26 PM;jstrickland;this has already been peer reviewed by [~fdobjenschi] and is ready for QA,,,,,,,,,,,,,,,,,,,,,,,,,
Edit well plate ID from sample list or well plate map,CMI-284,29485,,Story,In Review,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,jstrickland,bwinter,bwinter,26/Jul/18 2:36 PM,28/Aug/18 3:48 PM,04/Sep/18 1:25 PM,,,iOS Q3 2018,,,0,,,,,,,"_As a user ordering genotyping, I want to edit a well plate ID from the samples list or well plate map, so that I can correct a well plate ID if I entered the wrong one._

+Acceptance Criteria+:

* When a user clicks the well plate id from the *samples list*, the user can edit the well plate id manually or via barcode scan.
* When a user clicks the well plate id from the *well plate map*, the user can edit the well plate id manually or via barcode scan.
",,,,;28/Aug/18 3:48 PM;jstrickland;3600,,,,,,,,,0,3600,,,0,3600,,,,,,,,,,,,,26/Jul/18 2:36 PM;bwinter;Edit well plate id from sample list or well plate map - 2018-07-26 14_30_04-Photos.png;https://transnetyx.atlassian.net/secure/attachment/27256/Edit+well+plate+id+from+sample+list+or+well+plate+map+-+2018-07-26+14_30_04-Photos.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,fdobjenschi,{},,,CMI-237,,,,,,,,,,,None,,,jstrickland,,,Unassigned,cleduc,bwinter,0|i00gv3:,,,,,,New Product/Feature,,YX Connect,2018-08-06 10:07:26.889,"06/Aug/18 5:07 AM;fdobjenschi;[~jstrickland]  Please review this , you can find this on his own branch .",28/Aug/18 3:48 PM;jstrickland;The changes look good.  Tested on iPhone and iPad and the list and grid views both allow for editing and saving the name.,,,,,,,,,,,,,,,,,,,,,,,,
"Disable ""Remove sample from well plate"" option in sample 3-dot menu",CMI-283,29484,28738,Change Request,In Progress,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,jstrickland,bwinter,bwinter,26/Jul/18 1:56 PM,30/Jul/18 2:13 PM,04/Sep/18 1:25 PM,,,iOS Q3 2018,,,0,,,,,,,"_As a product owner, I want to disable/remove the ""remove sample from well plate"" feature so that iOS features are in-line with Web features._

Web does not have a ""remove sample from well plate"" feature for a sample in the Samples List on the Well Plate page.

+Acceptance Criteria+:

* When the user clicks the 3-dot menu for a sample in the Samples List, s/he does not see the ""Remove sample from well plate"" as an option to select.
* When the user is viewing the Sample List, s/he cannot remove a sample from the well plate.",,,,;30/Jul/18 2:13 PM;jstrickland;300,,,,,,,,,0,300,,,0,300,,CMI-240,,,,,,,,,,,26/Jul/18 2:03 PM;bwinter;CHANGE REQUEST - Remove this option from 3-dot menu - 2018-07-26 14_01_55-Photos.png;https://transnetyx.atlassian.net/secure/attachment/27255/CHANGE+REQUEST+-+Remove+this+option+from+3-dot+menu+-+2018-07-26+14_01_55-Photos.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tposchel,fdobjenschi,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,,0|i00z7j:,,,,,,New Product/Feature,,YX Connect,2018-07-30 18:23:30.683,"26/Jul/18 1:59 PM;bwinter;[~jcox], this REWORK has been approved by [~cleduc] in a meeting today at 1 PM CT.  This rework is about removing one of the acceptance criterion in the parent ticket so that iOS features for what you can do with a sample at the well plate matches the same features in Web.  

[~jcox], I am not sure who to assign the rework to.

CC: [~jstrickland], [~fdobjenschi], [~apacio], [~jmedlock]",30/Jul/18 1:23 PM;jstrickland;Commented out menu item,,,,,,,,,,,,,,,,,,,,,,,,
Changing gender of pups in litter by only clicking gender images does not keep gender info,CMI-280,29432,,Bug,Development,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,jstrickland,jstrickland,jstrickland,18/Jul/18 3:21 PM,08/Aug/18 9:48 AM,04/Sep/18 1:25 PM,,,iOS Q3 2018,,,0,,,,,,,Clicking the images to change the pup genders results in the pup gender still being unknown.  It reads the genders from the section above where you enter these in manually which is incorrect in this case.,,,,This is on its own branch and in develop.  If you have any questions please let me know;18/Jul/18 3:53 PM;jstrickland;10800,;08/Aug/18 9:48 AM;jstrickland;14400,,,,,,,,0,25200,,,0,25200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jstrickland,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,Rework,Unassigned,,bwinter,0|i00yvz:,,,,"Select a litter to be biopsied and select Edit Offspring.  Under the Offspring section click the gender images to change the genders of each pup to be Male or Female (just not Unknown) and hit Save.  Do not enter them in manually at the top. 

The Litter card screen will not display the new selected genders of the pups since they are still Unknown.",,New Product/Feature,,YX Connect,,18/Jul/18 3:49 PM;jstrickland;This should be ready for peer review as well.,18/Jul/18 3:53 PM;jstrickland;This is on its own branch and in develop.  If you have any questions please let me know,19/Jul/18 8:42 AM;jstrickland;I will make the changes to the textfield data instead like we discussed.  Thanks for your help!,,,,,,,,,,,,,,,,,,,,,,,
Syncing from iOS shows incorrect number of pups in cage view,CMI-279,29407,,Bug,Production,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,Done,,jcox,jcox,13/Jul/18 8:11 AM,28/Aug/18 9:46 AM,04/Sep/18 1:25 PM,28/Aug/18 9:46 AM,,iOS Q3 2018,,,0,,,,,,,"h1. What happened

# Create a new litter with 2 pups on iOS
# Sync and verify litter on Web
# ID litter on iOS to enter sex for each pup
# On iOS, manually enter sex (instead of clicking sex icon) for both pups AND uncheck Perform Biopsy Now
# Sync and verify litter on Web
# Web shows 3 pups in the Cage View <- {color:#d04437}UNEXPECTED{color}

h1. What I expected to happen

I expected that sex'ing pups on iOS would not change pup count on Web.

h1. DEV Notes

h2. From [~jstrickland]:

So I’ve been going thru the cage counts stuff and hit a totally unrelated error I think.  Wasn’t sure if there was a ticket on it or not but here’s the info.  

I only made changes on iOS and verified them on the web after syncing each step.

So on iOS I created a new litter w/2 pups (synced and verified on the web).  Then I assigned a sex to both pups (1 M/1 F if that matters) and no biopsy.  I verified 2 pups were showing on iOS and that 2 mice (1M/1F) were sent in the sync.  Synced and 3 pups are showing on the web side in the cage view.  Happens consistently on both dev and qa.

I double checked the sync and its definitely only sending 2 mice up.  That would be the obvious problem but that’s not it.

h2. Comment from [~jstrickland] on 07/13/2018

Two mice were assigned a sex and two are sent in the sync but the litter pupCountAtBirth is set to 3 instead of 2. The web side will show 3 Pups since this data is incorrect causing the discrepancy.

h2. Comment from [~jstrickland] on 07/16/2018

This was pretty difficult to pin down. Sometimes when you manually entered a pup's sex (instead of clicking the sex icon) the pup count would be one too many in the sync.

Moved the calculation for IDing number of pups to updateOffspring and added additional logic to didPressSaveButton since adding pups after a litter was ID'ed was affected.

This should be ready for review and is on its own branch.
",,,,"This was pretty difficult to pin down.  Sometimes when you manually entered a pup's sex (instead of clicking the sex icon) the pup count would be one too many in the sync.

Moved the calculation for IDing number of pups to updateOffspring and added additional logic to didPressSaveButton since adding pups after a litter was ID'ed was affected.

This should be ready for review and is on its own branch.;16/Jul/18 5:26 PM;jstrickland;21600",;25/Jul/18 11:38 AM;bwinter;2700,;28/Aug/18 9:46 AM;jcox;900,;28/Aug/18 9:46 AM;jcox;900,,,,,,0,26100,,,0,26100,,,,,,,,,,,,,25/Jul/18 11:38 AM;bwinter;PASSED - Manually entering sex for pups in iOS no longer changes count for litter on Web - 2018-07-25 11_33_16-.png;https://transnetyx.atlassian.net/secure/attachment/27219/PASSED+-+Manually+entering+sex+for+pups+in+iOS+no+longer+changes+count+for+litter+on+Web+-+2018-07-25+11_33_16-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00yqf:,,,,,,New Product/Feature,,YX Connect,2018-07-13 13:51:40.633,"13/Jul/18 8:12 AM;jcox;[~jstrickland], [~rwilliams], Let me know if you guys need anything else while working through this bug.","13/Jul/18 8:51 AM;jstrickland;{
  ""genes"" : [

  ],
  ""labels"" : [

  ],
  ""geneResults"" : [

  ],
  ""userGroups"" : [

  ],
  ""racks"" : [

  ],
  ""suppliers"" : [

  ],
  ""litterParents"" : [

  ],
  ""cages"" : [

  ],
  ""strainGeneAlleles"" : [

  ],
  ""breedingParents"" : [

  ],
  ""mice"" : [
    {
      ""dateDeleted"" : null,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-06-13T13:26:14.0000000Z"",
      ""generation"" : null,
      ""genderCd"" : 2,
      ""transferDate"" : null,
      ""dateImported"" : null,
      ""name"" : ""parent 2"",
      ""deathTypeCd"" : null,
      ""dateCreated"" : ""2018-07-13T13:28:59.7587622Z"",
      ""importedByUserId"" : null,
      ""strainId"" : ""D177AFC2-2DD5-444B-B39F-CD179A88B815"",
      ""markedForCull"" : false,
      ""mouseId"" : ""13674FF1-8B5C-4E20-BCE1-23CF0D12F836"",
      ""cageId"" : ""C83BA3CA-9871-471B-ABFC-3FF19BD4205B"",
      ""deathDate"" : null,
      ""isRunt"" : false,
      ""animalUseCd"" : 0,
      ""coatColorCd"" : 0,
      ""litterId"" : ""2F1B1535-C396-4D7A-BD95-2D953FEBE9AB"",
      ""groupId"" : ""3D0A060B-F326-42EA-BA8E-19525777C8D5"",
      ""note"" : null,
      ""dateModified"" : null,
      ""isImported"" : false,
      ""identificationMethodCd"" : null,
      ""userId"" : null
    },
    {
      ""dateDeleted"" : null,
      ""supplierId"" : null,
      ""weanDate"" : null,
      ""birthDate"" : ""2018-06-13T13:26:14.0000000Z"",
      ""generation"" : null,
      ""genderCd"" : 1,
      ""transferDate"" : null,
      ""dateImported"" : null,
      ""name"" : ""parent 3"",
      ""deathTypeCd"" : null,
      ""dateCreated"" : ""2018-07-13T13:28:59.7587622Z"",
      ""importedByUserId"" : null,
      ""strainId"" : ""D177AFC2-2DD5-444B-B39F-CD179A88B815"",
      ""markedForCull"" : false,
      ""mouseId"" : ""8BC3CA1C-1265-43A7-A835-D445886BFDC9"",
      ""cageId"" : ""C83BA3CA-9871-471B-ABFC-3FF19BD4205B"",
      ""deathDate"" : null,
      ""isRunt"" : false,
      ""animalUseCd"" : 0,
      ""coatColorCd"" : 0,
      ""litterId"" : ""2F1B1535-C396-4D7A-BD95-2D953FEBE9AB"",
      ""groupId"" : ""3D0A060B-F326-42EA-BA8E-19525777C8D5"",
      ""note"" : null,
      ""dateModified"" : null,
      ""isImported"" : false,
      ""identificationMethodCd"" : null,
      ""userId"" : null
    }
  ],
  ""cageClaims"" : [

  ],
  ""mouseGeneResults"" : [

  ],
  ""offspringSettings"" : [

  ],
  ""alleles"" : [

  ],
  ""rooms"" : [

  ],
  ""strains"" : [

  ],
  ""litters"" : [
    {
      ""culledCount"" : 0,
      ""splitFromLitterId"" : null,
      ""dateDeleted"" : null,
      ""maleCount"" : 0,
      ""foundDeadCount"" : 0,
      ""isEmbryo"" : false,
      ""pupCountAtBirth"" : 3,
      ""birthDate"" : ""2018-06-13T13:26:14.0000000Z"",
      ""dateImported"" : null,
      ""dateIdentified"" : ""2018-07-13T13:28:16.0000000Z"",
      ""name"" : ""Litter 2 this one"",
      ""dateCreated"" : ""2018-07-13T13:26:42.5230000Z"",
      ""importedByUserId"" : null,
      ""strainId"" : ""D177AFC2-2DD5-444B-B39F-CD179A88B815"",
      ""cageId"" : ""C83BA3CA-9871-471B-ABFC-3FF19BD4205B"",
      ""dateModified"" : ""2018-07-13T13:28:59.7431304Z"",
      ""isImported"" : false,
      ""femaleCount"" : 0,
      ""litterId"" : ""2F1B1535-C396-4D7A-BD95-2D953FEBE9AB"",
      ""groupId"" : ""3D0A060B-F326-42EA-BA8E-19525777C8D5"",
      ""breedingId"" : ""E9D4BB39-49EF-4A92-8B00-CA10471AF2C5"",
      ""dateBiopsied"" : null,
      ""missingCount"" : 0,
      ""dateWeaned"" : null
    }
  ],
  ""timestamp"" : null,
  ""groups"" : [

  ],
  ""samples"" : [

  ],
  ""strainGenes"" : [

  ],
  ""users"" : [

  ],
  ""labelItems"" : [

  ],
  ""breedings"" : [

  ],
  ""facilityManagementSystems"" : [

  ]
}",13/Jul/18 8:55 AM;jstrickland;Two mice were assigned a sex and two are sent in the sync but the litter pupCountAtBirth is set to 3 instead of 2.  The web side will show 3 Pups since this data is incorrect causing the discrepancy.,"16/Jul/18 5:26 PM;jstrickland;This was pretty difficult to pin down.  Sometimes when you manually entered a pup's sex (instead of clicking the sex icon) the pup count would be one too many in the sync.

Moved the calculation for IDing number of pups to updateOffspring and added additional logic to didPressSaveButton since adding pups after a litter was ID'ed was affected.

This should be ready for review and is on its own branch.","18/Jul/18 6:21 AM;fdobjenschi;[~jstrickland] 

Seems ok for now \!","25/Jul/18 11:40 AM;bwinter;[~jstrickland], could you check the description of this ticket?  Based on your comments, I added a What happened section.  Then I followed those steps to test this ticket.  If I got something wrong in the What happened section, then I may not have tested the ticket well.

Here is a screenshot of the steps that I took.

 !PASSED - Manually entering sex for pups in iOS no longer changes count for litter on Web - 2018-07-25 11_33_16-.png|thumbnail! ",25/Jul/18 2:14 PM;jstrickland;[~bwinter] Yep you did it correctly.  ,,,,,,,,,,,,,,,,,,,
Long Genotype Names on Workbench,CMI-276,29356,,Story,Production,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,Done,,jcox,jcox,25/Jun/18 3:41 PM,28/Aug/18 9:46 AM,04/Sep/18 1:25 PM,28/Aug/18 9:46 AM,,iOS Q3 2018,,,0,,,,,,,"_As a user, I need to be able to read the full genotype name at the workbench to be sure I'm working with the right mice._

+Acceptance Criteria+:
* User is able to see full genotype name on the workbench.
** Presumably we switch to using dynamic font size, but admittedly there are only so many pixels on the screen so there will be a point where the name is too long for proper display.
",,,,;11/Jul/18 8:48 PM;jstrickland;18000,;20/Jul/18 1:59 PM;jstrickland;10800,;25/Jul/18 3:34 PM;bwinter;3600,;28/Aug/18 9:46 AM;jcox;900,;28/Aug/18 9:46 AM;jcox;900,,,,,0,34200,,,0,34200,,,,,,,,,,,,,25/Jul/18 3:26 PM;bwinter;PASSED - Cage Card shows long genotypes - 2018-07-25 15_17_31-IMG_0026.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27237/PASSED+-+Cage+Card+shows+long+genotypes+-+2018-07-25+15_17_31-IMG_0026.PNG+%E2%80%8E-+Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Cage View shows long genotypes - 2018-07-25 15_18_14-IMG_0027.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27239/PASSED+-+Cage+View+shows+long+genotypes+-+2018-07-25+15_18_14-IMG_0027.PNG+%E2%80%8E-+Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Cage Workbench shows long genotypes - 2018-07-25 15_18_55-IMG_0029.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27234/PASSED+-+Cage+Workbench+shows+long+genotypes+-+2018-07-25+15_18_55-IMG_0029.PNG+%E2%80%8E-+Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Edit Mouse Details shows long genotypes - 2018-07-25 15_20_15-IMG_0031.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27235/PASSED+-+Edit+Mouse+Details+shows+long+genotypes+-+2018-07-25+15_20_15-IMG_0031.PNG+%E2%80%8E-+Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Mice List shows long genotypes - 2018-07-25 15_15_46-Photos.png;https://transnetyx.atlassian.net/secure/attachment/27238/PASSED+-+Mice+List+shows+long+genotypes+-+2018-07-25+15_15_46-Photos.png,25/Jul/18 3:26 PM;bwinter;PASSED - Mouse Details shows long genotypes - 2018-07-25 15_19_36-IMG_0030.PNG ‎- Photos.png;https://transnetyx.atlassian.net/secure/attachment/27236/PASSED+-+Mouse+Details+shows+long+genotypes+-+2018-07-25+15_19_36-IMG_0030.PNG+%E2%80%8E-+Photos.png,11/Jul/18 8:31 PM;jstrickland;Screen Shot 2018-07-11 at 8.26.44 PM.png;https://transnetyx.atlassian.net/secure/attachment/27137/Screen+Shot+2018-07-11+at+8.26.44+PM.png,20/Jul/18 12:08 PM;jstrickland;Screen Shot 2018-07-20 at 12.02.23 PM.png;https://transnetyx.atlassian.net/secure/attachment/27191/Screen+Shot+2018-07-20+at+12.02.23+PM.png,20/Jul/18 12:09 PM;jstrickland;Screen Shot 2018-07-20 at 12.03.22 PM.png;https://transnetyx.atlassian.net/secure/attachment/27192/Screen+Shot+2018-07-20+at+12.03.22+PM.png,18/Jul/18 5:49 AM;fdobjenschi;Simulator Screen Shot - iPhone 6s - 2018-07-18 at 13.41.03.png;https://transnetyx.atlassian.net/secure/attachment/27169/Simulator+Screen+Shot+-+iPhone+6s+-+2018-07-18+at+13.41.03.png,18/Jul/18 5:49 AM;fdobjenschi;Simulator Screen Shot - iPhone 6s - 2018-07-18 at 13.45.01.png;https://transnetyx.atlassian.net/secure/attachment/27170/Simulator+Screen+Shot+-+iPhone+6s+-+2018-07-18+at+13.45.01.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00yg7:,,,,,,New Product/Feature,,YX Connect,2018-07-10 18:48:49.827,"10/Jul/18 1:48 PM;jstrickland;Some additional info from emails:



From their message:

When weaning a litter, (already at the workbench stage), long genotypes are cut off. Clicking on the mouse for details yields another screen where long genotypes are cut off. Then you must click edit, and yet again click in the genotypes window to finally view the full genotype. This is WAY too deep to be able to quickly compare mouse to mouse. Some solution needs to exist where a full genotype can be viewed without diving so deep into submenus and clicks.


Then Tyler responded:

Right now, the mouse cell does not handle super long genotypes. However, the mouse card does and the mouse card is now the default window that appears when you tap the mouse cell from the workbench. Previously it was not.


But they are not satisfied:

UAT not approved \- full genotypes need to be visible from the workbench view because often users may be looking at the genotypes to determine how they assign the mice to cages. If they have to click on every single mouse to view the genotypes before they move each mouse one by one this adds unnecessary time to the weaning process.",11/Jul/18 8:47 PM;jstrickland;Should show over 100 chars on the mouse cell and mouse card now for genotype and shrink text as needed.  Attached iPhone SE screenshots.,11/Jul/18 8:50 PM;jstrickland;This is on its own branch and should be ready to review.  Please let me know if you have any questions.,"18/Jul/18 5:49 AM;fdobjenschi;[~jstrickland]  When you add a long Genotype with type ex : WT/WT , \+,\- with current format will not go on 2 lines and sometimes is a bit too small to read.

You you and [~jcox] are ok with this , the code is just fine .

!Simulator Screen Shot - iPhone 6s - 2018-07-18 at 13.45.01.png|thumbnail! 



!Simulator Screen Shot - iPhone 6s - 2018-07-18 at 13.41.03.png|thumbnail!",19/Jul/18 8:04 AM;jstrickland;Looking at this again - thanks I didn't notice all of that.  ,20/Jul/18 1:59 PM;jstrickland;[~fdobjenschi] Tweaked the mouse cell and bumped the font up so it should look better now. Open to suggestions on getting the mouse card genotype attributed string to use two lines. I left that one as is for now.,"25/Jul/18 3:13 PM;bwinter;I am done testing this ticket.  It looks great, [~jstrickland]!  

[~fdobjenschi], I see that this ticket is still in PEER REVIEW.  I am done testing it, so let me know when you are done peer reviewing it so that I can mark it as TESTING PASSED.","25/Jul/18 3:17 PM;fdobjenschi; I have to look over the   mouse card tomorrow to see what i can do there to be on two lines . But if you think is ok like this   w  e can move on  
","25/Jul/18 3:30 PM;fdobjenschi;[~bwinter]   thanks for images , the code i reviewed today and looks good , what i could not test was the mouse details because of server not working on sync . But your images looks good so the code review was passed !  
","25/Jul/18 3:32 PM;bwinter;[~fdobjenschi], thank you for pointing this out.  I see your point, and I think it is okay for now.  Let's see how many customer complain.  At the moment, I think it would be a small percent of customers, and they can always open the Mouse Details to get a better view.

Furthermore, given the high impact of CMI-271 for this release, I wouldn't want to hold up \CMI-271 for this important but not urgent detail.  And I LOVE your attention to detail!  You, Jeff, and Tyler have written some really nice code throughout this app!

 !PASSED - Mouse Details shows long genotypes - 2018-07-25 15_19_36-IMG_0030.PNG ‎- Photos.png|thumbnail! 

I will include [~cleduc] and [~jmedlock] so they can comment if they disagree.",25/Jul/18 4:19 PM;cleduc;[~jstrickland][~bwinter][~fdobjenschi][~jmedlock] I think it looks great. They can zoom in if they need to but it will be a rare case. This will really help with breeding set up and keep them from doing silly things like adding genotype to the Mouse ID etc.  THANKS!,,,,,,,,,,,,,,,
Biopsying litter on iOS still shows litter as NOT biopsied when placing genotyping order for that litter,CMI-271,29311,,Bug,Production,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,1 Critical,Done,,bwinter,bwinter,12/Jun/18 3:57 PM,28/Aug/18 9:46 AM,04/Sep/18 1:25 PM,28/Aug/18 9:46 AM,,iOS Q3 2018,,,0,,,,,,,"h1. What happened

# Biopsied litter from iOS > Litters to Biopsy > Select Litter > 3-dot menu > Biopsy > Save
# Litter marked biopsied in iOS
# Go to Colony web app
# Add that litter to shopping cart
# _Need Biopsy_ icon triggers in Shopping Cart <- {color:red}UNEXPECTED{color}

h1. What I expected to happen

Whenever a litter is biopsied from iOS (or web app), I expect the _Need Biopsy_ icon to NOT show in Required Action column of shopping cart.

h1. Note to Dev

This bug only occurs when litters are biopsied from iOS.",,,,;25/Jul/18 11:12 AM;bwinter;3600,;28/Aug/18 9:46 AM;jcox;900,;28/Aug/18 9:46 AM;jcox;900,,,,,,,0,5400,,,0,5400,,,,,,,,,,,,,12/Jun/18 3:57 PM;bwinter;BUG - Biopsied litter from iOS shows Needs Biopsy icon in Shopping Cart - 2018-06-12 15_55_15-.png;https://transnetyx.atlassian.net/secure/attachment/26982/BUG+-+Biopsied+litter+from+iOS+shows+Needs+Biopsy+icon+in+Shopping+Cart+-+2018-06-12+15_55_15-.png,12/Jun/18 3:59 PM;bwinter;IMG_0064.PNG;https://transnetyx.atlassian.net/secure/attachment/26983/IMG_0064.PNG,25/Jul/18 11:11 AM;bwinter;PASSED - Litters biopsied in iOS show up in Web as having been IDed and biopsied - 2018-07-25 11_05_05-.png;https://transnetyx.atlassian.net/secure/attachment/27216/PASSED+-+Litters+biopsied+in+iOS+show+up+in+Web+as+having+been+IDed+and+biopsied+-+2018-07-25+11_05_05-.png,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bwinter,jcox,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00y6f:,,,,,,New Product/Feature,,YX Connect,2018-06-12 21:17:22.904,"12/Jun/18 4:02 PM;bwinter;[~jstrickland], can you check on this bug?  When a litter is biopsied from iOS, it shows as NOT biopsied in the Shopping Cart (via the purple Needs Biopsy icon in Required Actions column of the Cart).  This only happens when a litter is biopsied from iOS, so [~jmedlock] and I were thinking that it may be from the iOS side.

If you see that there is nothing from the iOS side or happening in the sync, then we may need to have [~admin] look it.

CC: [~cleduc]","12/Jun/18 4:17 PM;jmedlock;[~bwinter] [~jstrickland] [~admin] I am pretty sure that this is because the mice records are not getting a biopsy date and the order is looking for a biopsy date on the mouse records. What needs to happen is add the biopsy on iOS when the litter is biopsied to the mouse records

","13/Jun/18 2:43 PM;jstrickland;[~admin] [~jmedlock] [~bwinter]
iOS is sending the litter date biopsied in the sync and the database and web show it correctly.  Compared the web and iOS and the problem definitely seems tied to iOS but all of the litter data looks correct and the same as the web version to me.  There aren't any fields in the mouse table that I could see that are related to biopsy.  Litter has DateBiopsied but its saved correctly.  IsBiopsied and TissueTypeCd in the Litter table do not appear to be used so that is probably not the problem either.

Also I took a web generated biopsy (so no icon showing) and removed the biopsy date, id date and the icon never appeared even though the web says that there is no biopsy date, no id date, and a biopsy and id are needed.  Just trying to go back until it showed the icon to see what it was checking for.  I'm doing all of this in dev if that matters.

Do we know what the criteria is for showing that icon?   ","13/Jun/18 2:49 PM;jmedlock;[~jstrickland][~admin] Then perhaps there needs to be a biopsy record created for the mice? Chris can you chime in here?


I dont think this is a bug at all just a change in the way biopsies occurred and iOS hasn't caught up yet.","13/Jun/18 4:54 PM;admin;Chiming in. I believe this to be true [~jmedlock], we need to see if biopsy creation is part of the iOS ordering module.
","14/Jun/18 10:14 AM;bwinter;[~jstrickland], from our Skype meeting today with [~admin], it appears that we need to check on these two possible scenarios that could be causing the issue found in this ticket:

# Is iOS *creating biopsy samples* when a litter or mouse is biopsied?
# Is iOS *syncing* those created biopsy samples with Web server?

Thank you both!

CC: [~jmedlock], [~cleduc], [~rwilliams]",11/Jul/18 8:55 PM;jstrickland;[~fdobjenschi] Should be ready for peer review.  This is on its own branch,"18/Jul/18 5:31 AM;fdobjenschi;[~jstrickland] 

All working just fine \!","18/Jul/18 2:55 PM;jstrickland;
[~fdobjenschi] Sorry found a weird display problem that shows sometimes when adding pups that I caused with this ticket.  Should be fixed now but can you review these changes?  Pretty straightforward fix.

If you select a litter and Edit Offspring and just hit Save then immediately select Add Pup and add a pup to that same litter you should see that before this fix the DOB was (null) and the litter info in the header was gone.  The litter info was getting clobbered but that should be fixed now.  Again sorry about sending this back again.

","19/Jul/18 6:27 AM;fdobjenschi;[~jstrickland]
It's my bad too because i missed that, now seems to be ok !","25/Jul/18 11:13 AM;bwinter;Looks good; testing passed, [~jstrickland]! Thank you!

CC: [~jmedlock], [~cleduc], [~ryan yanase]",,,,,,,,,,,,,,,
Populate DateTransferred on Litter  ,CMI-266,29228,,Story,In Progress,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,jstrickland,jcox,jcox,17/May/18 9:02 AM,08/Aug/18 9:43 AM,04/Sep/18 1:25 PM,,,iOS Q3 2018,,,0,,,,,,,"_As a user, when I transfer a litter, I need the litter record to remember the transfer date as well as any pups in the litter._

+Acceptance Criteria+:
* The litter record stores a DateTransferred field that is populated at the time of transfer, regardless of whether or not any pup records were created.
* Any pups associated with that litter have their individual DateTransferred fields updated as well.
",,,,"- added new dateTransferred field to core data
- added UI switch
- set dateTransferred and isTransferred for parents and pups
- removed litter from cage
- testing;08/Aug/18 9:43 AM;jstrickland;21600",,,,,,,,,0,21600,,,0,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jstrickland,{},,,,,,,,,,,,,,None,,,,,,Unassigned,,,0|i00xo7:,,,,,,New Product/Feature,,YX Connect,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLONE - Keep Dates consistent between iOS and Web,CMI-265,29221,,Story,Ready for QA,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,Coding Done,,jcox,jcox,16/May/18 10:41 AM,02/Sep/18 12:11 PM,04/Sep/18 1:25 PM,02/Sep/18 12:11 PM,,iOS Q3 2018,,,0,,,,,,,"_As a user, I want dates displayed consistently between the web and iOS._

+Acceptance Criteria:+
* User always sees dates relative to their Group's timezone and those dates should match between web and iOS.
* Include timezone identifier whenever datetimes are shown.
* For example, currently if a user saves data on the web after 6 PM central on 1/11/2018, then it gets recorded as 1/12/2018 UTC, and then presented to the user moving forward as 1/12/2018.",,,,;17/Aug/18 5:25 PM;jstrickland;57600,,,,,,,,,0,57600,,,0,57600,,,COMA-2573,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jstrickland,{},,,,,,,,,,,,,,None,,,fdobjenschi,,,Unassigned,,bwinter,0|i00h44:,,,,,,Tech/Engineering,,YX Connect,2018-08-17 22:23:00.08,"17/Aug/18 5:23 PM;jstrickland;Truncated the timestamp from datetime fields as suggested.  Seems to work well without any problems.  
Should be ready for review.
",,,,,,,,,,,,,,,,,,,,,,,,,
Add Cage ID to Cage Map,CMI-251,28908,,Story,QA,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,wwyatt,jcox,jcox,28/Feb/18 9:32 AM,04/Sep/18 9:43 AM,04/Sep/18 1:25 PM,,,iOS Q3 2018,,,0,,,,,,,"_As a user I to see Cage IDs on the Cage Map so that I can more easily organize my work._

+Acceptance Criteria+:
* Cage ID is included on the cage cards within the Cage Map view, left justified at the top of the card.  If the cage has an active breeding then the CageID would go immediately to the right of the heart icon.

+Notes+:
* This ticket is a clone of COMA-2385 for Colony web and the attachments relate to the web view.  ",,,,;28/Feb/18 10:31 AM;jcox;60,[~cleduc] Reviewed this and added it into this next QA build;30/Aug/18 4:18 PM;jstrickland;1800,,,,,,,72000,70140,1860,2%,72000,70140,1860,,,COMA-2385,,,,,,,,,,28/Feb/18 9:32 AM;jcox;20180222_141950.jpg;https://transnetyx.atlassian.net/secure/attachment/26056/20180222_141950.jpg,01/Mar/18 6:11 AM;fdobjenschi;Simulator Screen Shot - iPad (5th generation) - 2018-03-01 at 14.08.32.png;https://transnetyx.atlassian.net/secure/attachment/26119/Simulator+Screen+Shot+-+iPad+%285th+generation%29+-+2018-03-01+at+14.08.32.png,01/Mar/18 6:11 AM;fdobjenschi;Simulator Screen Shot - iPad (5th generation) - 2018-03-01 at 14.08.49.png;https://transnetyx.atlassian.net/secure/attachment/26118/Simulator+Screen+Shot+-+iPad+%285th+generation%29+-+2018-03-01+at+14.08.49.png,01/Mar/18 6:11 AM;fdobjenschi;Simulator Screen Shot - iPhone 6s - 2018-03-01 at 14.09.13.png;https://transnetyx.atlassian.net/secure/attachment/26116/Simulator+Screen+Shot+-+iPhone+6s+-+2018-03-01+at+14.09.13.png,01/Mar/18 6:11 AM;fdobjenschi;Simulator Screen Shot - iPhone 6s - 2018-03-01 at 14.09.22.png;https://transnetyx.atlassian.net/secure/attachment/26117/Simulator+Screen+Shot+-+iPhone+6s+-+2018-03-01+at+14.09.22.png,28/Feb/18 9:32 AM;jcox;cagemap.JPG;https://transnetyx.atlassian.net/secure/attachment/26057/cagemap.JPG,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,fdobjenschi,{},,,,,,,,,,,,,,,,,tposchel,,,Unassigned,,bwinter,0|i00h41:,,,,,,New Product/Feature,,,2018-03-01 12:12:16.834,"01/Mar/18 6:12 AM;fdobjenschi;[~jcox]
I refactored a bit Cage Map Cell and i managed to fit the Cage Id into even it's a bit crowded .
I attached some screenshots on story with how it's look now , on iPhone portrait mode is not fitting a lot of text but on landscape is ok , also on iPad it's ok on all orientations .","01/Mar/18 8:00 AM;tposchel;[~jcox] This is quite cluttered looking (not because of the specific implementation but because of the feature request). +What is the workflow/use case for adding this information?+ I could get behind the idea of showing it on mouse-over/hover for the web but I don't think it is necessary here though perhaps I could be persuaded. I know know we spent countless hours on some of these initial designs to make sure we had the absolute minimum information necessary on these views and we never had a use case for needing to see the cage IDs at that level. It was unlikely, in our minds, that the user was going to pull up the cage map and just scan their eyes over the whole thing until they found the cage ID they wanted. 

The primary reasons for going to the cage map were to (1) get a quick estimate of rack and cage density and (2) see a rough location of a cage that I already searched/filtered/navigated to from a litter/mouse/breeding.  When needing to go to a specific cage you will be coming from a litter, breeding, or mouse list. Those flows were coming from the mouse list (searching for breeders), litters list (clicking on a specific litter), or from the breeding card. The location of the cage (Room/Rack/Position) is visible via navigation from all of those places in iOS.","01/Mar/18 8:32 AM;jcox;Thanks, [~fdobjenschi]!  We knew this might clutter up the screen but wanted to get a better idea of it would look & feel.

[~tposchel], I don't disagree with you that this adds clutter.  I'll need [~jmedlock] to help expand on the use case as this was a direct request from a customer that he has spoken with.","05/Mar/18 2:11 AM;fdobjenschi;[~tposchel]
Reverted changes from master and created a branch feature/CMI-251 where i moved the code .","29/Jun/18 10:46 AM;cleduc;[~fdobjenschi], [~jstrickland], [~jcox] I have had more requests for this to be displayed since it was done on the web app display. Ideal would be to display or not based on screen size but if they want it there, they want it there. The use cases I hear are that they see the cage in this view, then need to be able to search by that Cage ID elswhere and/or double check on the physical cage card. They do many at once so don't want to change the view to see it. ",30/Aug/18 4:18 PM;jstrickland;[~cleduc] Reviewed this and added it into this next QA build,,,,,,,,,,,,,,,,,,,,
Viewing 'Genetics' from Strain Edit Form has UI glitch,CMI-82,19710,,Bug,QA,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,3 Standard,,wwyatt,tposchel,tposchel,01/Feb/17 2:58 PM,04/Sep/18 9:43 AM,04/Sep/18 1:25 PM,,,iOS Q3 2018,,,0,,,,,,,The page doesn't scroll and possible genotypes section is messed up.,,,,;03/Aug/18 10:40 AM;jstrickland;18000,,,,,,,,,0,18000,,,0,18000,,,,,,,,,,,,,"01/Feb/17 2:58 PM;tposchel;Simulator Screen Shot Feb 1, 2017, 2.57.41 PM.png;https://transnetyx.atlassian.net/secure/attachment/15820/Simulator+Screen+Shot+Feb+1%2C+2017%2C+2.57.41+PM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jcox,jstrickland,{},,,,,,,,,,,,,,,,,fdobjenschi,,,Unassigned,,bwinter,0|i00lbj:,,,,,,,,,2017-07-12 20:24:51.995,12/Jul/17 3:24 PM;jmedlock;[~tposchel] do we have more information for this ticket?,27/Apr/18 10:58 AM;jstrickland;[~tposchel]  Can we get more info on this one? You mentioned earlier that the screen wasn't accessible in the app because of other problems with it etc...  ,27/Apr/18 11:47 AM;tposchel;[~jstrickland] In the StrainDetailViewController (around line 115) we commented out the row with the tag kStrainDetailGenetics. Uncomment it and see how the UI looks and see if you can clean up any glitches there. We don't want the user to be able to currently edit any of the genes/alleles associated with the strain but they should be able to view it.,02/May/18 7:42 AM;jstrickland;Enabled Genetics button and hopefully fixed all of the UI problems with the screen.  ,03/Aug/18 10:39 AM;jstrickland;Better solution for this one.  Should be ready for review. [~fdobjenschi],"06/Aug/18 5:15 AM;fdobjenschi;[~jstrickland]
Looks good, all mutations and possible genotypes are there and look fine !
Good work.
You can pass this to QA after merge and build a new version.",,,,,,,,,,,,,,,,,,,,
Mark entire litter dead function,CMI-50,13798,,Story,QA,CMI,Colony Manager iOS,software,tposchel,Colony Manager iOS project,,,,wwyatt,tposchel,tposchel,09/Nov/15 12:02 PM,04/Sep/18 9:43 AM,04/Sep/18 1:25 PM,,,iOS Q3 2018,,,0,cull,labfinity_conversion,needs_grooming,,,,"We want the ability to mark an entire litter as dead, even if they haven't been added as offspring yet. However, if the user already put an initial litter count, then we will have already created pup records I believe.

1.	Add 'Mark dead' action menu on litter cell
2.	If there are already pups, then this is the same as a bulk mice mark dead option. Set mouse.deathDate and mouse.deathTypeId
3.	If there are no pups already, then possibly update litter.deathType and litter.deathDate (those properties likely do not exist yet)",,,,;21/May/18 12:55 PM;jstrickland;60,;21/May/18 12:55 PM;jstrickland;7200,;30/May/18 9:52 AM;jstrickland;57600,;05/Jun/18 8:50 AM;jstrickland;7200,;28/Aug/18 8:57 AM;jstrickland;28800,;30/Aug/18 2:47 PM;jstrickland;14400,,,,0,115260,,,0,115260,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jstrickland,{},,,,,,,,,,,,,,,,,fdobjenschi,,Rework,Unassigned,,bwinter,0|i00gvb:,,,,,3.0,,,,2017-01-26 16:03:50.956,"05/Dec/16 10:09 PM;tposchel;[~tpatterson] [~jmedlock] Need to coordinate on this feature ""Mark Entire Litter Dead"" for web and iOS.",26/Jan/17 10:02 AM;tposchel;[~tpatterson] [~jmedlock] I am not planning on implementing this feature by UAT or possibly release 1 at the moment. But we did have a story in for marking an entire litter as dead.,"26/Jan/17 10:03 AM;jmedlock;[~tposchel] I see, but we do on the web app have multiple stories due in release 1 now that contradict each other on cull/mark dead functionality","30/May/18 9:57 AM;jstrickland;Added 'Mark Entire Litter Dead' to menu.  Should mark all offspring as dead if pups were created if not sets litter.deathType and litter.deathDate as Tyler suggested.  Should refresh litter screen correctly.

* Created new fields on litter entity - deathDate (Date) and deathType (int) so if these aren't already on the web side they will need to be added before pushing changes out there.","04/Jun/18 9:02 AM;fdobjenschi;Hi [~jstrickland],
Case have no generated pups :
Set also property culledCount from litter
Case have generated pups :
Set also litter.deathType to DeathTypeCull and litter.deathDate  to now

Also you have to add a new predicate to ColonyAPIManager+Predicate.m for query param ColonyAPIQueryParamHasLivingOffspring to take count the new created property litter.deathDate so the litter that has been marked dead not to show anymore on litter list by default (ColonyAPIQueryParamHasLivingOffspring = TRUE) ",05/Jun/18 8:50 AM;jstrickland;Added cullCount = litter.numberOfPups when there aren't any offspring.  Added litter.deathType and deadDate for generated pups as well now.  Also added litter.deathDate to the predicate.  Please verify these changes if you can.,"28/Jun/18 6:20 AM;fdobjenschi;[~jstrickland] 

This is ok you can merge the changes in dev, do a new build and send the story to testing","28/Aug/18 8:57 AM;jstrickland;[~fdobjenschi]  Added Carrie’s suggestions and this ticket should be ready to review again (sorry\!).  I combined this and CMI‌-298 together into the CMI‌-298 branch so it can be reviewed there.  They overlapped way too much.

Her suggestions were when marking an entire litter as dead:  

* if all mice in this litter are in the same location (in one cage or no cage at all) mark the pups and this litter dead.
* If some mice in this litter are not all in the same location (meaning some in a cage and some possibly not in a cage or in several different cages) then prompt the user:  “Litter X contains pups that are not all in the same cage.  Mark all of these pups and this litter as dead?“.  Yes does it, No does not mark any pups or the litter as dead.

Again this is on the CMI‌-298 branch and not on CMI‌-50 any more.","30/Aug/18 12:54 PM;jstrickland;[~fdobjenschi] Added fix for culled counts not showing up in litter information.  Simple change but review if you can please.

For testing if you mark a litter as dead and select Euthanized the litter information screen # Culled should show correctly now.  Wasn't getting set before.","30/Aug/18 2:41 PM;jstrickland; [~rwilliams] [~cleduc]
To mark a litter as dead we are sending up deathType and deathDate (along with found dead, missing, culled count) as Tyler suggested.  Looking at the litter table I see DeathDate and LitterDeathReasonCd but neither is populated with this data after a sync so I'm not sure if there is something else that needs to be done or not.  

On the web side a litter marked as dead from iOS gets removed from the litter list which seems correct.  If its in the cart along with samples it will zero out the Qty and show the missing samples/info icons again.  Not sure if this is the expected behavior or not though.

If we need to make any changes please let me know.



","30/Aug/18 2:59 PM;cleduc;[~jstrickland][~rwilliams]
Because they may still want the typing results from dead animals we should leave the samples in the cart but indicate dead if possible. 
Let me know what you need from me!","31/Aug/18 8:47 AM;rwilliams;[~jstrickland] [~cleduc] I was deep into other things yesterday, sorry for not replying until now. Jeff, you and I need to set aside some time to talk through this issue in particular because I don't think we are using some of those fields that iOS is using, but I need to set apart some time to look at data and code and possibly walk through the site to see exactly how the web works today. I would definitely not assume that iOS is doing this like it needs to be done at this point. We might also need to bring in [~jjensen] into the conversation because I think he worked on this functionality for the web.",,,,,,,,,,,,,,
